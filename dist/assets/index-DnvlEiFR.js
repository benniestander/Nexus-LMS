(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function r(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(c){if(c.ep)return;c.ep=!0;const f=r(c);fetch(c.href,f)}})();function sc(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function By(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var n=u.default;if(typeof n=="function"){var r=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(u).forEach(function(i){var c=Object.getOwnPropertyDescriptor(u,i);Object.defineProperty(r,i,c.get?c:{enumerable:!0,get:function(){return u[i]}})}),r}var Eu={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function Hy(){if(a0)return Sl;a0=1;var u=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:u,type:i,key:h,ref:c!==void 0?c:null,props:f}}return Sl.Fragment=n,Sl.jsx=r,Sl.jsxs=r,Sl}var s0;function $y(){return s0||(s0=1,Eu.exports=Hy()),Eu.exports}var l=$y(),Tu={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function Gy(){if(n0)return ge;n0=1;var u=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function U(x,z,V){this.props=x,this.context=z,this.refs=R,this.updater=V||j}U.prototype.isReactComponent={},U.prototype.setState=function(x,z){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,z,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function I(){}I.prototype=U.prototype;function ee(x,z,V){this.props=x,this.context=z,this.refs=R,this.updater=V||j}var E=ee.prototype=new I;E.constructor=ee,A(E,U.prototype),E.isPureReactComponent=!0;var G=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function le(x,z,V,K,W,fe){return V=fe.ref,{$$typeof:u,type:x,key:z,ref:V!==void 0?V:null,props:fe}}function te(x,z){return le(x.type,z,void 0,void 0,void 0,x.props)}function Te(x){return typeof x=="object"&&x!==null&&x.$$typeof===u}function Ce(x){var z={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(V){return z[V]})}var Se=/\/+/g;function J(x,z){return typeof x=="object"&&x!==null&&x.key!=null?Ce(""+x.key):z.toString(36)}function ye(){}function P(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ye,ye):(x.status="pending",x.then(function(z){x.status==="pending"&&(x.status="fulfilled",x.value=z)},function(z){x.status==="pending"&&(x.status="rejected",x.reason=z)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function se(x,z,V,K,W){var fe=typeof x;(fe==="undefined"||fe==="boolean")&&(x=null);var ae=!1;if(x===null)ae=!0;else switch(fe){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(x.$$typeof){case u:case n:ae=!0;break;case v:return ae=x._init,se(ae(x._payload),z,V,K,W)}}if(ae)return W=W(x),ae=K===""?"."+J(x,0):K,G(W)?(V="",ae!=null&&(V=ae.replace(Se,"$&/")+"/"),se(W,z,V,"",function(Bt){return Bt})):W!=null&&(Te(W)&&(W=te(W,V+(W.key==null||x&&x.key===W.key?"":(""+W.key).replace(Se,"$&/")+"/")+ae)),z.push(W)),1;ae=0;var ut=K===""?".":K+":";if(G(x))for(var Ue=0;Ue<x.length;Ue++)K=x[Ue],fe=ut+J(K,Ue),ae+=se(K,z,V,fe,W);else if(Ue=S(x),typeof Ue=="function")for(x=Ue.call(x),Ue=0;!(K=x.next()).done;)K=K.value,fe=ut+J(K,Ue++),ae+=se(K,z,V,fe,W);else if(fe==="object"){if(typeof x.then=="function")return se(P(x),z,V,K,W);throw z=String(x),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ae}function O(x,z,V){if(x==null)return x;var K=[],W=0;return se(x,K,"","",function(fe){return z.call(V,fe,W++)}),K}function Y(x){if(x._status===-1){var z=x._result;z=z(),z.then(function(V){(x._status===0||x._status===-1)&&(x._status=1,x._result=V)},function(V){(x._status===0||x._status===-1)&&(x._status=2,x._result=V)}),x._status===-1&&(x._status=0,x._result=z)}if(x._status===1)return x._result.default;throw x._result}var F=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Q(){}return ge.Children={map:O,forEach:function(x,z,V){O(x,function(){z.apply(this,arguments)},V)},count:function(x){var z=0;return O(x,function(){z++}),z},toArray:function(x){return O(x,function(z){return z})||[]},only:function(x){if(!Te(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ge.Component=U,ge.Fragment=r,ge.Profiler=c,ge.PureComponent=ee,ge.StrictMode=i,ge.Suspense=g,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ge.__COMPILER_RUNTIME={__proto__:null,c:function(x){return B.H.useMemoCache(x)}},ge.cache=function(x){return function(){return x.apply(null,arguments)}},ge.cloneElement=function(x,z,V){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var K=A({},x.props),W=x.key,fe=void 0;if(z!=null)for(ae in z.ref!==void 0&&(fe=void 0),z.key!==void 0&&(W=""+z.key),z)!Z.call(z,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&z.ref===void 0||(K[ae]=z[ae]);var ae=arguments.length-2;if(ae===1)K.children=V;else if(1<ae){for(var ut=Array(ae),Ue=0;Ue<ae;Ue++)ut[Ue]=arguments[Ue+2];K.children=ut}return le(x.type,W,void 0,void 0,fe,K)},ge.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},ge.createElement=function(x,z,V){var K,W={},fe=null;if(z!=null)for(K in z.key!==void 0&&(fe=""+z.key),z)Z.call(z,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(W[K]=z[K]);var ae=arguments.length-2;if(ae===1)W.children=V;else if(1<ae){for(var ut=Array(ae),Ue=0;Ue<ae;Ue++)ut[Ue]=arguments[Ue+2];W.children=ut}if(x&&x.defaultProps)for(K in ae=x.defaultProps,ae)W[K]===void 0&&(W[K]=ae[K]);return le(x,fe,void 0,void 0,null,W)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(x){return{$$typeof:m,render:x}},ge.isValidElement=Te,ge.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:Y}},ge.memo=function(x,z){return{$$typeof:p,type:x,compare:z===void 0?null:z}},ge.startTransition=function(x){var z=B.T,V={};B.T=V;try{var K=x(),W=B.S;W!==null&&W(V,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Q,F)}catch(fe){F(fe)}finally{B.T=z}},ge.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ge.use=function(x){return B.H.use(x)},ge.useActionState=function(x,z,V){return B.H.useActionState(x,z,V)},ge.useCallback=function(x,z){return B.H.useCallback(x,z)},ge.useContext=function(x){return B.H.useContext(x)},ge.useDebugValue=function(){},ge.useDeferredValue=function(x,z){return B.H.useDeferredValue(x,z)},ge.useEffect=function(x,z,V){var K=B.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(x,z)},ge.useId=function(){return B.H.useId()},ge.useImperativeHandle=function(x,z,V){return B.H.useImperativeHandle(x,z,V)},ge.useInsertionEffect=function(x,z){return B.H.useInsertionEffect(x,z)},ge.useLayoutEffect=function(x,z){return B.H.useLayoutEffect(x,z)},ge.useMemo=function(x,z){return B.H.useMemo(x,z)},ge.useOptimistic=function(x,z){return B.H.useOptimistic(x,z)},ge.useReducer=function(x,z,V){return B.H.useReducer(x,z,V)},ge.useRef=function(x){return B.H.useRef(x)},ge.useState=function(x){return B.H.useState(x)},ge.useSyncExternalStore=function(x,z,V){return B.H.useSyncExternalStore(x,z,V)},ge.useTransition=function(){return B.H.useTransition()},ge.version="19.1.1",ge}var l0;function nc(){return l0||(l0=1,Tu.exports=Gy()),Tu.exports}var H=nc();const X0=sc(H);var Cu={exports:{}},Nl={},Au={exports:{}},Ou={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function Yy(){return r0||(r0=1,(function(u){function n(O,Y){var F=O.length;O.push(Y);e:for(;0<F;){var Q=F-1>>>1,x=O[Q];if(0<c(x,Y))O[Q]=Y,O[F]=x,F=Q;else break e}}function r(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var Y=O[0],F=O.pop();if(F!==Y){O[0]=F;e:for(var Q=0,x=O.length,z=x>>>1;Q<z;){var V=2*(Q+1)-1,K=O[V],W=V+1,fe=O[W];if(0>c(K,F))W<x&&0>c(fe,K)?(O[Q]=fe,O[W]=F,Q=W):(O[Q]=K,O[V]=F,Q=V);else if(W<x&&0>c(fe,F))O[Q]=fe,O[W]=F,Q=W;else break e}}return Y}function c(O,Y){var F=O.sortIndex-Y.sortIndex;return F!==0?F:O.id-Y.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();u.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,w=null,S=3,j=!1,A=!1,R=!1,U=!1,I=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function G(O){for(var Y=r(p);Y!==null;){if(Y.callback===null)i(p);else if(Y.startTime<=O)i(p),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=r(p)}}function B(O){if(R=!1,G(O),!A)if(r(g)!==null)A=!0,Z||(Z=!0,J());else{var Y=r(p);Y!==null&&se(B,Y.startTime-O)}}var Z=!1,le=-1,te=5,Te=-1;function Ce(){return U?!0:!(u.unstable_now()-Te<te)}function Se(){if(U=!1,Z){var O=u.unstable_now();Te=O;var Y=!0;try{e:{A=!1,R&&(R=!1,ee(le),le=-1),j=!0;var F=S;try{t:{for(G(O),w=r(g);w!==null&&!(w.expirationTime>O&&Ce());){var Q=w.callback;if(typeof Q=="function"){w.callback=null,S=w.priorityLevel;var x=Q(w.expirationTime<=O);if(O=u.unstable_now(),typeof x=="function"){w.callback=x,G(O),Y=!0;break t}w===r(g)&&i(g),G(O)}else i(g);w=r(g)}if(w!==null)Y=!0;else{var z=r(p);z!==null&&se(B,z.startTime-O),Y=!1}}break e}finally{w=null,S=F,j=!1}Y=void 0}}finally{Y?J():Z=!1}}}var J;if(typeof E=="function")J=function(){E(Se)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,P=ye.port2;ye.port1.onmessage=Se,J=function(){P.postMessage(null)}}else J=function(){I(Se,0)};function se(O,Y){le=I(function(){O(u.unstable_now())},Y)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(O){O.callback=null},u.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<O?Math.floor(1e3/O):5},u.unstable_getCurrentPriorityLevel=function(){return S},u.unstable_next=function(O){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var F=S;S=Y;try{return O()}finally{S=F}},u.unstable_requestPaint=function(){U=!0},u.unstable_runWithPriority=function(O,Y){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=S;S=O;try{return Y()}finally{S=F}},u.unstable_scheduleCallback=function(O,Y,F){var Q=u.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,O){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=F+x,O={id:v++,callback:Y,priorityLevel:O,startTime:F,expirationTime:x,sortIndex:-1},F>Q?(O.sortIndex=F,n(p,O),r(g)===null&&O===r(p)&&(R?(ee(le),le=-1):R=!0,se(B,F-Q))):(O.sortIndex=x,n(g,O),A||j||(A=!0,Z||(Z=!0,J()))),O},u.unstable_shouldYield=Ce,u.unstable_wrapCallback=function(O){var Y=S;return function(){var F=S;S=Y;try{return O.apply(this,arguments)}finally{S=F}}}})(Ou)),Ou}var i0;function Qy(){return i0||(i0=1,Au.exports=Yy()),Au.exports}var Du={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function Vy(){if(o0)return ft;o0=1;var u=nc();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,p,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:g,containerInfo:p,implementation:v}}var h=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ft.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return f(g,p,null,v)},ft.flushSync=function(g){var p=h.T,v=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=p,i.p=v,i.d.f()}},ft.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},ft.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},ft.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,w=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:j}):v==="script"&&i.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ft.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},ft.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,w=m(v,p.crossOrigin);i.d.L(g,v,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ft.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},ft.requestFormReset=function(g){i.d.r(g)},ft.unstable_batchedUpdates=function(g,p){return g(p)},ft.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},ft.version="19.1.1",ft}var u0;function Xy(){if(u0)return Du.exports;u0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(n){console.error(n)}}return u(),Du.exports=Vy(),Du.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function Ky(){if(c0)return Nl;c0=1;var u=Qy(),n=nc(),r=Xy();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(i(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return m(o),e;if(d===s)return m(o),t;d=d.sibling}throw Error(i(188))}if(a.return!==s.return)a=o,s=d;else{for(var y=!1,b=o.child;b;){if(b===a){y=!0,a=o,s=d;break}if(b===s){y=!0,s=o,a=d;break}b=b.sibling}if(!y){for(b=d.child;b;){if(b===a){y=!0,a=d,s=o;break}if(b===s){y=!0,s=d,a=o;break}b=b.sibling}if(!y)throw Error(i(189))}}if(a.alternate!==s)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),E=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Te=Symbol.for("react.activity"),Ce=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Symbol.for("react.client.reference");function P(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case U:return"Profiler";case R:return"StrictMode";case B:return"Suspense";case Z:return"SuspenseList";case Te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case E:return(e.displayName||"Context")+".Provider";case ee:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return t=e.displayName||null,t!==null?t:P(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return P(e(t))}catch{}}return null}var se=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},Q=[],x=-1;function z(e){return{current:e}}function V(e){0>x||(e.current=Q[x],Q[x]=null,x--)}function K(e,t){x++,Q[x]=e.current,e.current=t}var W=z(null),fe=z(null),ae=z(null),ut=z(null);function Ue(e,t){switch(K(ae,t),K(fe,e),K(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ah(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ah(t),e=Oh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(W),K(W,e)}function Bt(){V(W),V(fe),V(ae)}function Nn(e){e.memoizedState!==null&&K(ut,e);var t=W.current,a=Oh(t,e.type);t!==a&&(K(fe,e),K(W,a))}function ps(e){fe.current===e&&(V(W),V(fe)),ut.current===e&&(V(ut),bl._currentValue=F)}var Va=Object.prototype.hasOwnProperty,kn=u.unstable_scheduleCallback,En=u.unstable_cancelCallback,ui=u.unstable_shouldYield,ci=u.unstable_requestPaint,Ct=u.unstable_now,di=u.unstable_getCurrentPriorityLevel,zl=u.unstable_ImmediatePriority,ql=u.unstable_UserBlockingPriority,vs=u.unstable_NormalPriority,fi=u.unstable_LowPriority,Ll=u.unstable_IdlePriority,hi=u.log,gi=u.unstable_setDisableYieldValue,Xa=null,ht=null;function Vt(e){if(typeof hi=="function"&&gi(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Xa,e)}catch{}}var X=Math.clz32?Math.clz32:Pe,ce=Math.log,Ae=Math.LN2;function Pe(e){return e>>>=0,e===0?32:31-(ce(e)/Ae|0)|0}var Be=256,Ne=4194304;function He(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bs(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~d,s!==0?o=He(s):(y&=b,y!==0?o=He(y):a||(a=b&~e,a!==0&&(o=He(a))))):(b=s&~d,b!==0?o=He(b):y!==0?o=He(y):a||(a=s&~e,a!==0&&(o=He(a)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:o}function Tn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function kg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fc(){var e=Be;return Be<<=1,(Be&4194048)===0&&(Be=256),e}function hc(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function mi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Cn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eg(e,t,a,s,o,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,_=e.expirationTimes,C=e.hiddenUpdates;for(a=y&~a;0<a;){var q=31-X(a),$=1<<q;b[q]=0,_[q]=-1;var D=C[q];if(D!==null)for(C[q]=null,q=0;q<D.length;q++){var M=D[q];M!==null&&(M.lane&=-536870913)}a&=~$}s!==0&&gc(e,s,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~t))}function gc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-X(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194090}function mc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-X(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Ph(e.type))}function Tg(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var ma=Math.random().toString(36).slice(2),ct="__reactFiber$"+ma,yt="__reactProps$"+ma,xs="__reactContainer$"+ma,vi="__reactEvents$"+ma,Cg="__reactListeners$"+ma,Ag="__reactHandles$"+ma,pc="__reactResources$"+ma,An="__reactMarker$"+ma;function bi(e){delete e[ct],delete e[yt],delete e[vi],delete e[Cg],delete e[Ag]}function ws(e){var t=e[ct];if(t)return t;for(var a=e.parentNode;a;){if(t=a[xs]||a[ct]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Uh(e);e!==null;){if(a=e[ct])return a;e=Uh(e)}return t}e=a,a=e.parentNode}return null}function js(e){if(e=e[ct]||e[xs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function On(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function _s(e){var t=e[pc];return t||(t=e[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[An]=!0}var vc=new Set,bc={};function Ka(e,t){Ss(e,t),Ss(e+"Capture",t)}function Ss(e,t){for(bc[e]=t,e=0;e<t.length;e++)vc.add(t[e])}var Og=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xc={},wc={};function Dg(e){return Va.call(wc,e)?!0:Va.call(xc,e)?!1:Og.test(e)?wc[e]=!0:(xc[e]=!0,!1)}function Bl(e,t,a){if(Dg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Hl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Wt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}var xi,jc;function Ns(e){if(xi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);xi=t&&t[1]||"",jc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xi+e+jc}var wi=!1;function ji(e,t){if(!e||wi)return"";wi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(M){var D=M}Reflect.construct(e,[],$)}else{try{$.call()}catch(M){D=M}e.call($.prototype)}}else{try{throw Error()}catch(M){D=M}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(M){if(M&&D&&typeof M.stack=="string")return[M.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),y=d[0],b=d[1];if(y&&b){var _=y.split(`
`),C=b.split(`
`);for(o=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;if(s===_.length||o===C.length)for(s=_.length-1,o=C.length-1;1<=s&&0<=o&&_[s]!==C[o];)o--;for(;1<=s&&0<=o;s--,o--)if(_[s]!==C[o]){if(s!==1||o!==1)do if(s--,o--,0>o||_[s]!==C[o]){var q=`
`+_[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=o);break}}}finally{wi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ns(a):""}function Rg(e){switch(e.tag){case 26:case 27:case 5:return Ns(e.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 15:return ji(e.type,!1);case 11:return ji(e.type.render,!1);case 1:return ji(e.type,!0);case 31:return Ns("Activity");default:return""}}function _c(e){try{var t="";do t+=Rg(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function At(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mg(e){var t=Sc(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $l(e){e._valueTracker||(e._valueTracker=Mg(e))}function Nc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Sc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ug=/[\n"\\]/g;function Ot(e){return e.replace(Ug,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _i(e,t,a,s,o,d,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+At(t)):e.value!==""+At(t)&&(e.value=""+At(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Si(e,y,At(t)):a!=null?Si(e,y,At(a)):s!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+At(b):e.removeAttribute("name")}function kc(e,t,a,s,o,d,y,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+At(a):"",t=t!=null?""+At(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Si(e,t,a){t==="number"&&Gl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ks(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+At(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ec(e,t,a){if(t!=null&&(t=""+At(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+At(a):""}function Tc(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(i(92));if(se(s)){if(1<s.length)throw Error(i(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=At(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function Es(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var zg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||zg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ac(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Cc(e,o,s)}else for(var d in t)t.hasOwnProperty(d)&&Cc(e,d,t[d])}function Ni(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(e){return Lg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ki=null;function Ei(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,Cs=null;function Oc(e){var t=js(e);if(t&&(e=t.stateNode)){var a=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(_i(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[yt]||null;if(!o)throw Error(i(90));_i(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Nc(s)}break e;case"textarea":Ec(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ks(e,!!a.multiple,t,!1)}}}var Ti=!1;function Dc(e,t,a){if(Ti)return e(t,a);Ti=!0;try{var s=e(t);return s}finally{if(Ti=!1,(Ts!==null||Cs!==null)&&(Tr(),Ts&&(t=Ts,e=Cs,Cs=Ts=null,Oc(t),e)))for(t=0;t<e.length;t++)Oc(e[t])}}function Dn(e,t){var a=e.stateNode;if(a===null)return null;var s=a[yt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ci=!1;if(Ft)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{Ci=!1}var ya=null,Ai=null,Ql=null;function Rc(){if(Ql)return Ql;var e,t=Ai,a=t.length,s,o="value"in ya?ya.value:ya.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var y=a-e;for(s=1;s<=y&&t[a-s]===o[d-s];s++);return Ql=o.slice(e,1<s?1-s:void 0)}function Vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function Mc(){return!1}function pt(e){function t(a,s,o,d,y){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xl:Mc,this.isPropagationStopped=Mc,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),t}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=pt(Ia),Mn=v({},Ia,{view:0,detail:0}),Bg=pt(Mn),Oi,Di,Un,Il=v({},Mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Un&&(Un&&e.type==="mousemove"?(Oi=e.screenX-Un.screenX,Di=e.screenY-Un.screenY):Di=Oi=0,Un=e),Oi)},movementY:function(e){return"movementY"in e?e.movementY:Di}}),Uc=pt(Il),Hg=v({},Il,{dataTransfer:0}),$g=pt(Hg),Gg=v({},Mn,{relatedTarget:0}),Ri=pt(Gg),Yg=v({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),Qg=pt(Yg),Vg=v({},Ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xg=pt(Vg),Kg=v({},Ia,{data:0}),zc=pt(Kg),Ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pg[e])?!!t[e]:!1}function Mi(){return Jg}var Wg=v({},Mn,{key:function(e){if(e.key){var t=Ig[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(e){return e.type==="keypress"?Vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fg=pt(Wg),em=v({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=pt(em),tm=v({},Mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),am=pt(tm),sm=v({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),nm=pt(sm),lm=v({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rm=pt(lm),im=v({},Ia,{newState:0,oldState:0}),om=pt(im),um=[9,13,27,32],Ui=Ft&&"CompositionEvent"in window,zn=null;Ft&&"documentMode"in document&&(zn=document.documentMode);var cm=Ft&&"TextEvent"in window&&!zn,Lc=Ft&&(!Ui||zn&&8<zn&&11>=zn),Bc=" ",Hc=!1;function $c(e,t){switch(e){case"keyup":return um.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function dm(e,t){switch(e){case"compositionend":return Gc(t);case"keypress":return t.which!==32?null:(Hc=!0,Bc);case"textInput":return e=t.data,e===Bc&&Hc?null:e;default:return null}}function fm(e,t){if(As)return e==="compositionend"||!Ui&&$c(e,t)?(e=Rc(),Ql=Ai=ya=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lc&&t.locale!=="ko"?null:t.data;default:return null}}var hm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hm[e.type]:t==="textarea"}function Qc(e,t,a,s){Ts?Cs?Cs.push(s):Cs=[s]:Ts=s,t=Mr(t,"onChange"),0<t.length&&(a=new Kl("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var qn=null,Ln=null;function gm(e){Nh(e,0)}function Zl(e){var t=On(e);if(Nc(t))return e}function Vc(e,t){if(e==="change")return t}var Xc=!1;if(Ft){var zi;if(Ft){var qi="oninput"in document;if(!qi){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),qi=typeof Kc.oninput=="function"}zi=qi}else zi=!1;Xc=zi&&(!document.documentMode||9<document.documentMode)}function Ic(){qn&&(qn.detachEvent("onpropertychange",Zc),Ln=qn=null)}function Zc(e){if(e.propertyName==="value"&&Zl(Ln)){var t=[];Qc(t,Ln,e,Ei(e)),Dc(gm,t)}}function mm(e,t,a){e==="focusin"?(Ic(),qn=t,Ln=a,qn.attachEvent("onpropertychange",Zc)):e==="focusout"&&Ic()}function ym(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zl(Ln)}function pm(e,t){if(e==="click")return Zl(t)}function vm(e,t){if(e==="input"||e==="change")return Zl(t)}function bm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:bm;function Bn(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!Va.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function Pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,t){var a=Pc(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pc(a)}}function Wc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Gl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Gl(e.document)}return t}function Li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var xm=Ft&&"documentMode"in document&&11>=document.documentMode,Os=null,Bi=null,Hn=null,Hi=!1;function ed(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hi||Os==null||Os!==Gl(s)||(s=Os,"selectionStart"in s&&Li(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Hn&&Bn(Hn,s)||(Hn=s,s=Mr(Bi,"onSelect"),0<s.length&&(t=new Kl("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Os)))}function Za(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ds={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},$i={},td={};Ft&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Pa(e){if($i[e])return $i[e];if(!Ds[e])return e;var t=Ds[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in td)return $i[e]=t[a];return e}var ad=Pa("animationend"),sd=Pa("animationiteration"),nd=Pa("animationstart"),wm=Pa("transitionrun"),jm=Pa("transitionstart"),_m=Pa("transitioncancel"),ld=Pa("transitionend"),rd=new Map,Gi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gi.push("scrollEnd");function Ht(e,t){rd.set(e,t),Ka(t,[e])}var id=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var a=id.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_c(t)},id.set(e,t),t)}return{value:e,source:t,stack:_c(t)}}var Rt=[],Rs=0,Yi=0;function Pl(){for(var e=Rs,t=Yi=Rs=0;t<e;){var a=Rt[t];Rt[t++]=null;var s=Rt[t];Rt[t++]=null;var o=Rt[t];Rt[t++]=null;var d=Rt[t];if(Rt[t++]=null,s!==null&&o!==null){var y=s.pending;y===null?o.next=o:(o.next=y.next,y.next=o),s.pending=o}d!==0&&od(a,o,d)}}function Jl(e,t,a,s){Rt[Rs++]=e,Rt[Rs++]=t,Rt[Rs++]=a,Rt[Rs++]=s,Yi|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Qi(e,t,a,s){return Jl(e,t,a,s),Wl(e)}function Ms(e,t){return Jl(e,null,null,t),Wl(e)}function od(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,s=d.alternate,s!==null&&(s.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-X(a),e=d.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),d):null}function Wl(e){if(50<dl)throw dl=0,Jo=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Us={};function Sm(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,a,s){return new Sm(e,t,a,s)}function Vi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ea(e,t){var a=e.alternate;return a===null?(a=_t(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ud(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fl(e,t,a,s,o,d){var y=0;if(s=e,typeof e=="function")Vi(e)&&(y=1);else if(typeof e=="string")y=ky(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Te:return e=_t(31,a,t,o),e.elementType=Te,e.lanes=d,e;case A:return Ja(a.children,o,d,t);case R:y=8,o|=24;break;case U:return e=_t(12,a,t,o|2),e.elementType=U,e.lanes=d,e;case B:return e=_t(13,a,t,o),e.elementType=B,e.lanes=d,e;case Z:return e=_t(19,a,t,o),e.elementType=Z,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case E:y=10;break e;case ee:y=9;break e;case G:y=11;break e;case le:y=14;break e;case te:y=16,s=null;break e}y=29,a=Error(i(130,e===null?"null":typeof e,"")),s=null}return t=_t(y,a,t,o),t.elementType=e,t.type=s,t.lanes=d,t}function Ja(e,t,a,s){return e=_t(7,e,s,t),e.lanes=a,e}function Xi(e,t,a){return e=_t(6,e,null,t),e.lanes=a,e}function Ki(e,t,a){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zs=[],qs=0,er=null,tr=0,Mt=[],Ut=0,Wa=null,ta=1,aa="";function Fa(e,t){zs[qs++]=tr,zs[qs++]=er,er=e,tr=t}function cd(e,t,a){Mt[Ut++]=ta,Mt[Ut++]=aa,Mt[Ut++]=Wa,Wa=e;var s=ta;e=aa;var o=32-X(s)-1;s&=~(1<<o),a+=1;var d=32-X(t)+o;if(30<d){var y=o-o%5;d=(s&(1<<y)-1).toString(32),s>>=y,o-=y,ta=1<<32-X(t)+o|a<<o|s,aa=d+e}else ta=1<<d|a<<o|s,aa=e}function Ii(e){e.return!==null&&(Fa(e,1),cd(e,1,0))}function Zi(e){for(;e===er;)er=zs[--qs],zs[qs]=null,tr=zs[--qs],zs[qs]=null;for(;e===Wa;)Wa=Mt[--Ut],Mt[Ut]=null,aa=Mt[--Ut],Mt[Ut]=null,ta=Mt[--Ut],Mt[Ut]=null}var gt=null,Qe=null,_e=!1,es=null,Xt=!1,Pi=Error(i(519));function ts(e){var t=Error(i(418,""));throw Yn(Dt(t,e)),Pi}function dd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[ct]=e,t[yt]=s,a){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(a=0;a<hl.length;a++)be(hl[a],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),kc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),$l(t);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),Tc(t,s.value,s.defaultValue,s.children),$l(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Ch(t.textContent,a)?(s.popover!=null&&(be("beforetoggle",t),be("toggle",t)),s.onScroll!=null&&be("scroll",t),s.onScrollEnd!=null&&be("scrollend",t),s.onClick!=null&&(t.onclick=Ur),t=!0):t=!1,t||ts(e)}function fd(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:gt=gt.return}}function $n(e){if(e!==gt)return!1;if(!_e)return fd(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hu(e.type,e.memoizedProps)),a=!a),a&&Qe&&ts(e),fd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Qe=Gt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Qe=null}}else t===27?(t=Qe,Da(e.type)?(e=pu,pu=null,Qe=e):Qe=t):Qe=gt?Gt(e.stateNode.nextSibling):null;return!0}function Gn(){Qe=gt=null,_e=!1}function hd(){var e=es;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),es=null),e}function Yn(e){es===null?es=[e]:es.push(e)}var Ji=z(null),as=null,sa=null;function pa(e,t,a){K(Ji,t._currentValue),t._currentValue=a}function na(e){e._currentValue=Ji.current,V(Ji)}function Wi(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Fi(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var y=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var _=0;_<t.length;_++)if(b.context===t[_]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Wi(d.return,a,e),s||(y=null);break e}d=b.next}}else if(o.tag===18){if(y=o.return,y===null)throw Error(i(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Wi(y,a,e),y=null}else y=o.child;if(y!==null)y.return=o;else for(y=o;y!==null;){if(y===e){y=null;break}if(o=y.sibling,o!==null){o.return=y.return,y=o;break}y=y.return}o=y}}function Qn(e,t,a,s){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var y=o.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var b=o.type;jt(o.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(o===ut.current){if(y=o.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}o=o.return}e!==null&&Fi(t,e,a,s),t.flags|=262144}function ar(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ss(e){as=e,sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return gd(as,e)}function sr(e,t){return as===null&&ss(e),gd(e,t)}function gd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},sa===null){if(e===null)throw Error(i(308));sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sa=sa.next=t;return a}var Nm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},km=u.unstable_scheduleCallback,Em=u.unstable_NormalPriority,Je={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eo(){return{controller:new Nm,data:new Map,refCount:0}}function Vn(e){e.refCount--,e.refCount===0&&km(Em,function(){e.controller.abort()})}var Xn=null,to=0,Ls=0,Bs=null;function Tm(e,t){if(Xn===null){var a=Xn=[];to=0,Ls=nu(),Bs={status:"pending",value:void 0,then:function(s){a.push(s)}}}return to++,t.then(md,md),t}function md(){if(--to===0&&Xn!==null){Bs!==null&&(Bs.status="fulfilled");var e=Xn;Xn=null,Ls=0,Bs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Cm(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var yd=O.S;O.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Tm(e,t),yd!==null&&yd(e,t)};var ns=z(null);function ao(){var e=ns.current;return e!==null?e:qe.pooledCache}function nr(e,t){t===null?K(ns,ns.current):K(ns,t.pool)}function pd(){var e=ao();return e===null?null:{parent:Je._currentValue,pool:e}}var Kn=Error(i(460)),vd=Error(i(474)),lr=Error(i(542)),so={then:function(){}};function bd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rr(){}function xd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(rr,rr),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e;default:if(typeof t.status=="string")t.then(rr,rr);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e}throw In=t,Kn}}var In=null;function wd(){if(In===null)throw Error(i(459));var e=In;return In=null,e}function jd(e){if(e===Kn||e===lr)throw Error(i(483))}var va=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ke&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Wl(e),od(e,null,a),t}return Jl(e,s,t,a),Wl(e)}function Zn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,mc(e,a)}}function ro(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var io=!1;function Pn(){if(io){var e=Bs;if(e!==null)throw e}}function Jn(e,t,a,s){io=!1;var o=e.updateQueue;va=!1;var d=o.firstBaseUpdate,y=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var _=b,C=_.next;_.next=null,y===null?d=C:y.next=C,y=_;var q=e.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==y&&(b===null?q.firstBaseUpdate=C:b.next=C,q.lastBaseUpdate=_))}if(d!==null){var $=o.baseState;y=0,q=C=_=null,b=d;do{var D=b.lane&-536870913,M=D!==b.lane;if(M?(we&D)===D:(s&D)===D){D!==0&&D===Ls&&(io=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=e,oe=b;D=t;var Re=a;switch(oe.tag){case 1:if(de=oe.payload,typeof de=="function"){$=de.call(Re,$,D);break e}$=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=oe.payload,D=typeof de=="function"?de.call(Re,$,D):de,D==null)break e;$=v({},$,D);break e;case 2:va=!0}}D=b.callback,D!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[D]:M.push(D))}else M={lane:D,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(C=q=M,_=$):q=q.next=M,y|=D;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;M=b,b=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);q===null&&(_=$),o.baseState=_,o.firstBaseUpdate=C,o.lastBaseUpdate=q,d===null&&(o.shared.lanes=0),Ta|=y,e.lanes=y,e.memoizedState=$}}function _d(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Sd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_d(a[e],t)}var Hs=z(null),ir=z(0);function Nd(e,t){e=da,K(ir,e),K(Hs,t),da=e|t.baseLanes}function oo(){K(ir,da),K(Hs,Hs.current)}function uo(){da=ir.current,V(Hs),V(ir)}var wa=0,me=null,Oe=null,Ie=null,or=!1,$s=!1,ls=!1,ur=0,Wn=0,Gs=null,Am=0;function Xe(){throw Error(i(321))}function co(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!jt(e[a],t[a]))return!1;return!0}function fo(e,t,a,s,o,d){return wa=d,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?uf:cf,ls=!1,d=a(s,o),ls=!1,$s&&(d=Ed(t,a,s,o)),kd(e),d}function kd(e){O.H=mr;var t=Oe!==null&&Oe.next!==null;if(wa=0,Ie=Oe=me=null,or=!1,Wn=0,Gs=null,t)throw Error(i(300));e===null||at||(e=e.dependencies,e!==null&&ar(e)&&(at=!0))}function Ed(e,t,a,s){me=e;var o=0;do{if($s&&(Gs=null),Wn=0,$s=!1,25<=o)throw Error(i(301));if(o+=1,Ie=Oe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}O.H=qm,d=t(a,s)}while($s);return d}function Om(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Fn(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(me.flags|=1024),t}function ho(){var e=ur!==0;return ur=0,e}function go(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function mo(e){if(or){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}or=!1}wa=0,Ie=Oe=me=null,$s=!1,Wn=ur=0,Gs=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?me.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Ze(){if(Oe===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Ie===null?me.memoizedState:Ie.next;if(t!==null)Ie=t,Oe=e;else{if(e===null)throw me.alternate===null?Error(i(467)):Error(i(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ie===null?me.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fn(e){var t=Wn;return Wn+=1,Gs===null&&(Gs=[]),e=xd(Gs,e,t),t=me,(Ie===null?t.memoizedState:Ie.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?uf:cf),e}function cr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fn(e);if(e.$$typeof===E)return dt(e)}throw Error(i(438,String(e)))}function po(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=yo(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=Ce;return t.index++,a}function la(e,t){return typeof t=="function"?t(e):t}function dr(e){var t=Ze();return vo(t,Oe,e)}function vo(e,t,a){var s=e.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=a;var o=e.baseQueue,d=s.pending;if(d!==null){if(o!==null){var y=o.next;o.next=d.next,d.next=y}t.baseQueue=o=d,s.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=y=null,_=null,C=t,q=!1;do{var $=C.lane&-536870913;if($!==C.lane?(we&$)===$:(wa&$)===$){var D=C.revertLane;if(D===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),$===Ls&&(q=!0);else if((wa&D)===D){C=C.next,D===Ls&&(q=!0);continue}else $={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(b=_=$,y=d):_=_.next=$,me.lanes|=D,Ta|=D;$=C.action,ls&&a(d,$),d=C.hasEagerState?C.eagerState:a(d,$)}else D={lane:$,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(b=_=D,y=d):_=_.next=D,me.lanes|=$,Ta|=$;C=C.next}while(C!==null&&C!==t);if(_===null?y=d:_.next=b,!jt(d,e.memoizedState)&&(at=!0,q&&(a=Bs,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=_,s.lastRenderedState=d}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function bo(e){var t=Ze(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var y=o=o.next;do d=e(d,y.action),y=y.next;while(y!==o);jt(d,t.memoizedState)||(at=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,s]}function Td(e,t,a){var s=me,o=Ze(),d=_e;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=t();var y=!jt((Oe||o).memoizedState,a);y&&(o.memoizedState=a,at=!0),o=o.queue;var b=Od.bind(null,s,o,e);if(el(2048,8,b,[e]),o.getSnapshot!==t||y||Ie!==null&&Ie.memoizedState.tag&1){if(s.flags|=2048,Ys(9,fr(),Ad.bind(null,s,o,a,t),null),qe===null)throw Error(i(349));d||(wa&124)!==0||Cd(s,t,a)}return a}function Cd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=yo(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ad(e,t,a,s){t.value=a,t.getSnapshot=s,Dd(t)&&Rd(e)}function Od(e,t,a){return a(function(){Dd(t)&&Rd(e)})}function Dd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!jt(e,a)}catch{return!0}}function Rd(e){var t=Ms(e,2);t!==null&&Tt(t,e,2)}function xo(e){var t=vt();if(typeof e=="function"){var a=e;if(e=a(),ls){Vt(!0);try{a()}finally{Vt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function Md(e,t,a,s){return e.baseState=a,vo(e,Oe,typeof s=="function"?s:la)}function Dm(e,t,a,s,o){if(gr(e))throw Error(i(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};O.T!==null?a(!0):d.isTransition=!1,s(d),a=t.pending,a===null?(d.next=t.pending=d,Ud(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Ud(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var d=O.T,y={};O.T=y;try{var b=a(o,s),_=O.S;_!==null&&_(y,b),zd(e,t,b)}catch(C){wo(e,t,C)}finally{O.T=d}}else try{d=a(o,s),zd(e,t,d)}catch(C){wo(e,t,C)}}function zd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){qd(e,t,s)},function(s){return wo(e,t,s)}):qd(e,t,a)}function qd(e,t,a){t.status="fulfilled",t.value=a,Ld(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Ud(e,a)))}function wo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Ld(t),t=t.next;while(t!==s)}e.action=null}function Ld(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bd(e,t){return t}function Hd(e,t){if(_e){var a=qe.formState;if(a!==null){e:{var s=me;if(_e){if(Qe){t:{for(var o=Qe,d=Xt;o.nodeType!==8;){if(!d){o=null;break t}if(o=Gt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Qe=Gt(o.nextSibling),s=o.data==="F!";break e}}ts(s)}s=!1}s&&(t=a[0])}}return a=vt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:t},a.queue=s,a=lf.bind(null,me,s),s.dispatch=a,s=xo(!1),d=ko.bind(null,me,!1,s.queue),s=vt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Dm.bind(null,me,o,d,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function $d(e){var t=Ze();return Gd(t,Oe,e)}function Gd(e,t,a){if(t=vo(e,t,Bd)[0],e=dr(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Fn(t)}catch(y){throw y===Kn?lr:y}else s=t;t=Ze();var o=t.queue,d=o.dispatch;return a!==t.memoizedState&&(me.flags|=2048,Ys(9,fr(),Rm.bind(null,o,a),null)),[s,d,e]}function Rm(e,t){e.action=t}function Yd(e){var t=Ze(),a=Oe;if(a!==null)return Gd(t,a,e);Ze(),t=t.memoizedState,a=Ze();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Ys(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=me.updateQueue,t===null&&(t=yo(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function fr(){return{destroy:void 0,resource:void 0}}function Qd(){return Ze().memoizedState}function hr(e,t,a,s){var o=vt();s=s===void 0?null:s,me.flags|=e,o.memoizedState=Ys(1|t,fr(),a,s)}function el(e,t,a,s){var o=Ze();s=s===void 0?null:s;var d=o.memoizedState.inst;Oe!==null&&s!==null&&co(s,Oe.memoizedState.deps)?o.memoizedState=Ys(t,d,a,s):(me.flags|=e,o.memoizedState=Ys(1|t,d,a,s))}function Vd(e,t){hr(8390656,8,e,t)}function Xd(e,t){el(2048,8,e,t)}function Kd(e,t){return el(4,2,e,t)}function Id(e,t){return el(4,4,e,t)}function Zd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pd(e,t,a){a=a!=null?a.concat([e]):null,el(4,4,Zd.bind(null,t,e),a)}function jo(){}function Jd(e,t){var a=Ze();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&co(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Wd(e,t){var a=Ze();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&co(t,s[1]))return s[0];if(s=e(),ls){Vt(!0);try{e()}finally{Vt(!1)}}return a.memoizedState=[s,t],s}function _o(e,t,a){return a===void 0||(wa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=ah(),me.lanes|=e,Ta|=e,a)}function Fd(e,t,a,s){return jt(a,t)?a:Hs.current!==null?(e=_o(e,a,s),jt(e,t)||(at=!0),e):(wa&42)===0?(at=!0,e.memoizedState=a):(e=ah(),me.lanes|=e,Ta|=e,t)}function ef(e,t,a,s,o){var d=Y.p;Y.p=d!==0&&8>d?d:8;var y=O.T,b={};O.T=b,ko(e,!1,t,a);try{var _=o(),C=O.S;if(C!==null&&C(b,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var q=Cm(_,s);tl(e,t,q,Et(e))}else tl(e,t,s,Et(e))}catch($){tl(e,t,{then:function(){},status:"rejected",reason:$},Et())}finally{Y.p=d,O.T=y}}function Mm(){}function So(e,t,a,s){if(e.tag!==5)throw Error(i(476));var o=tf(e).queue;ef(e,o,t,F,a===null?Mm:function(){return af(e),a(s)})}function tf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:F},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function af(e){var t=tf(e).next.queue;tl(e,t,{},Et())}function No(){return dt(bl)}function sf(){return Ze().memoizedState}function nf(){return Ze().memoizedState}function Um(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Et();e=ba(a);var s=xa(t,e,a);s!==null&&(Tt(s,t,a),Zn(s,t,a)),t={cache:eo()},e.payload=t;return}t=t.return}}function zm(e,t,a){var s=Et();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gr(e)?rf(t,a):(a=Qi(e,t,a,s),a!==null&&(Tt(a,e,s),of(a,t,s)))}function lf(e,t,a){var s=Et();tl(e,t,a,s)}function tl(e,t,a,s){var o={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gr(e))rf(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var y=t.lastRenderedState,b=d(y,a);if(o.hasEagerState=!0,o.eagerState=b,jt(b,y))return Jl(e,t,o,0),qe===null&&Pl(),!1}catch{}finally{}if(a=Qi(e,t,o,s),a!==null)return Tt(a,e,s),of(a,t,s),!0}return!1}function ko(e,t,a,s){if(s={lane:2,revertLane:nu(),action:s,hasEagerState:!1,eagerState:null,next:null},gr(e)){if(t)throw Error(i(479))}else t=Qi(e,a,s,2),t!==null&&Tt(t,e,2)}function gr(e){var t=e.alternate;return e===me||t!==null&&t===me}function rf(e,t){$s=or=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function of(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,mc(e,a)}}var mr={readContext:dt,use:cr,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},uf={readContext:dt,use:cr,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Vd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,hr(4194308,4,Zd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return hr(4194308,4,e,t)},useInsertionEffect:function(e,t){hr(4,2,e,t)},useMemo:function(e,t){var a=vt();t=t===void 0?null:t;var s=e();if(ls){Vt(!0);try{e()}finally{Vt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=vt();if(a!==void 0){var o=a(t);if(ls){Vt(!0);try{a(t)}finally{Vt(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=zm.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=xo(e);var t=e.queue,a=lf.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:jo,useDeferredValue:function(e,t){var a=vt();return _o(a,e,t)},useTransition:function(){var e=xo(!1);return e=ef.bind(null,me,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=me,o=vt();if(_e){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),qe===null)throw Error(i(349));(we&124)!==0||Cd(s,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,Vd(Od.bind(null,s,d,e),[e]),s.flags|=2048,Ys(9,fr(),Ad.bind(null,s,d,a,t),null),a},useId:function(){var e=vt(),t=qe.identifierPrefix;if(_e){var a=aa,s=ta;a=(s&~(1<<32-X(s)-1)).toString(32)+a,t=""+t+"R"+a,a=ur++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Am++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:No,useFormState:Hd,useActionState:Hd,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ko.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:po,useCacheRefresh:function(){return vt().memoizedState=Um.bind(null,me)}},cf={readContext:dt,use:cr,useCallback:Jd,useContext:dt,useEffect:Xd,useImperativeHandle:Pd,useInsertionEffect:Kd,useLayoutEffect:Id,useMemo:Wd,useReducer:dr,useRef:Qd,useState:function(){return dr(la)},useDebugValue:jo,useDeferredValue:function(e,t){var a=Ze();return Fd(a,Oe.memoizedState,e,t)},useTransition:function(){var e=dr(la)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Fn(e),t]},useSyncExternalStore:Td,useId:sf,useHostTransitionStatus:No,useFormState:$d,useActionState:$d,useOptimistic:function(e,t){var a=Ze();return Md(a,Oe,e,t)},useMemoCache:po,useCacheRefresh:nf},qm={readContext:dt,use:cr,useCallback:Jd,useContext:dt,useEffect:Xd,useImperativeHandle:Pd,useInsertionEffect:Kd,useLayoutEffect:Id,useMemo:Wd,useReducer:bo,useRef:Qd,useState:function(){return bo(la)},useDebugValue:jo,useDeferredValue:function(e,t){var a=Ze();return Oe===null?_o(a,e,t):Fd(a,Oe.memoizedState,e,t)},useTransition:function(){var e=bo(la)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Fn(e),t]},useSyncExternalStore:Td,useId:sf,useHostTransitionStatus:No,useFormState:Yd,useActionState:Yd,useOptimistic:function(e,t){var a=Ze();return Oe!==null?Md(a,Oe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:po,useCacheRefresh:nf},Qs=null,al=0;function yr(e){var t=al;return al+=1,Qs===null&&(Qs=[]),xd(Qs,e,t)}function sl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pr(e,t){throw t.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function df(e){var t=e._init;return t(e._payload)}function ff(e){function t(k,N){if(e){var T=k.deletions;T===null?(k.deletions=[N],k.flags|=16):T.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)t(k,N),N=N.sibling;return null}function s(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function o(k,N){return k=ea(k,N),k.index=0,k.sibling=null,k}function d(k,N,T){return k.index=T,e?(T=k.alternate,T!==null?(T=T.index,T<N?(k.flags|=67108866,N):T):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,N,T,L){return N===null||N.tag!==6?(N=Xi(T,k.mode,L),N.return=k,N):(N=o(N,T),N.return=k,N)}function _(k,N,T,L){var ne=T.type;return ne===A?q(k,N,T.props.children,L,T.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===te&&df(ne)===N.type)?(N=o(N,T.props),sl(N,T),N.return=k,N):(N=Fl(T.type,T.key,T.props,null,k.mode,L),sl(N,T),N.return=k,N)}function C(k,N,T,L){return N===null||N.tag!==4||N.stateNode.containerInfo!==T.containerInfo||N.stateNode.implementation!==T.implementation?(N=Ki(T,k.mode,L),N.return=k,N):(N=o(N,T.children||[]),N.return=k,N)}function q(k,N,T,L,ne){return N===null||N.tag!==7?(N=Ja(T,k.mode,L,ne),N.return=k,N):(N=o(N,T),N.return=k,N)}function $(k,N,T){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Xi(""+N,k.mode,T),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return T=Fl(N.type,N.key,N.props,null,k.mode,T),sl(T,N),T.return=k,T;case j:return N=Ki(N,k.mode,T),N.return=k,N;case te:var L=N._init;return N=L(N._payload),$(k,N,T)}if(se(N)||J(N))return N=Ja(N,k.mode,T,null),N.return=k,N;if(typeof N.then=="function")return $(k,yr(N),T);if(N.$$typeof===E)return $(k,sr(k,N),T);pr(k,N)}return null}function D(k,N,T,L){var ne=N!==null?N.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return ne!==null?null:b(k,N,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case S:return T.key===ne?_(k,N,T,L):null;case j:return T.key===ne?C(k,N,T,L):null;case te:return ne=T._init,T=ne(T._payload),D(k,N,T,L)}if(se(T)||J(T))return ne!==null?null:q(k,N,T,L,null);if(typeof T.then=="function")return D(k,N,yr(T),L);if(T.$$typeof===E)return D(k,N,sr(k,T),L);pr(k,T)}return null}function M(k,N,T,L,ne){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return k=k.get(T)||null,b(N,k,""+L,ne);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return k=k.get(L.key===null?T:L.key)||null,_(N,k,L,ne);case j:return k=k.get(L.key===null?T:L.key)||null,C(N,k,L,ne);case te:var pe=L._init;return L=pe(L._payload),M(k,N,T,L,ne)}if(se(L)||J(L))return k=k.get(T)||null,q(N,k,L,ne,null);if(typeof L.then=="function")return M(k,N,T,yr(L),ne);if(L.$$typeof===E)return M(k,N,T,sr(N,L),ne);pr(N,L)}return null}function de(k,N,T,L){for(var ne=null,pe=null,ie=N,ue=N=0,nt=null;ie!==null&&ue<T.length;ue++){ie.index>ue?(nt=ie,ie=null):nt=ie.sibling;var je=D(k,ie,T[ue],L);if(je===null){ie===null&&(ie=nt);break}e&&ie&&je.alternate===null&&t(k,ie),N=d(je,N,ue),pe===null?ne=je:pe.sibling=je,pe=je,ie=nt}if(ue===T.length)return a(k,ie),_e&&Fa(k,ue),ne;if(ie===null){for(;ue<T.length;ue++)ie=$(k,T[ue],L),ie!==null&&(N=d(ie,N,ue),pe===null?ne=ie:pe.sibling=ie,pe=ie);return _e&&Fa(k,ue),ne}for(ie=s(ie);ue<T.length;ue++)nt=M(ie,k,ue,T[ue],L),nt!==null&&(e&&nt.alternate!==null&&ie.delete(nt.key===null?ue:nt.key),N=d(nt,N,ue),pe===null?ne=nt:pe.sibling=nt,pe=nt);return e&&ie.forEach(function(qa){return t(k,qa)}),_e&&Fa(k,ue),ne}function oe(k,N,T,L){if(T==null)throw Error(i(151));for(var ne=null,pe=null,ie=N,ue=N=0,nt=null,je=T.next();ie!==null&&!je.done;ue++,je=T.next()){ie.index>ue?(nt=ie,ie=null):nt=ie.sibling;var qa=D(k,ie,je.value,L);if(qa===null){ie===null&&(ie=nt);break}e&&ie&&qa.alternate===null&&t(k,ie),N=d(qa,N,ue),pe===null?ne=qa:pe.sibling=qa,pe=qa,ie=nt}if(je.done)return a(k,ie),_e&&Fa(k,ue),ne;if(ie===null){for(;!je.done;ue++,je=T.next())je=$(k,je.value,L),je!==null&&(N=d(je,N,ue),pe===null?ne=je:pe.sibling=je,pe=je);return _e&&Fa(k,ue),ne}for(ie=s(ie);!je.done;ue++,je=T.next())je=M(ie,k,ue,je.value,L),je!==null&&(e&&je.alternate!==null&&ie.delete(je.key===null?ue:je.key),N=d(je,N,ue),pe===null?ne=je:pe.sibling=je,pe=je);return e&&ie.forEach(function(Ly){return t(k,Ly)}),_e&&Fa(k,ue),ne}function Re(k,N,T,L){if(typeof T=="object"&&T!==null&&T.type===A&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case S:e:{for(var ne=T.key;N!==null;){if(N.key===ne){if(ne=T.type,ne===A){if(N.tag===7){a(k,N.sibling),L=o(N,T.props.children),L.return=k,k=L;break e}}else if(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===te&&df(ne)===N.type){a(k,N.sibling),L=o(N,T.props),sl(L,T),L.return=k,k=L;break e}a(k,N);break}else t(k,N);N=N.sibling}T.type===A?(L=Ja(T.props.children,k.mode,L,T.key),L.return=k,k=L):(L=Fl(T.type,T.key,T.props,null,k.mode,L),sl(L,T),L.return=k,k=L)}return y(k);case j:e:{for(ne=T.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===T.containerInfo&&N.stateNode.implementation===T.implementation){a(k,N.sibling),L=o(N,T.children||[]),L.return=k,k=L;break e}else{a(k,N);break}else t(k,N);N=N.sibling}L=Ki(T,k.mode,L),L.return=k,k=L}return y(k);case te:return ne=T._init,T=ne(T._payload),Re(k,N,T,L)}if(se(T))return de(k,N,T,L);if(J(T)){if(ne=J(T),typeof ne!="function")throw Error(i(150));return T=ne.call(T),oe(k,N,T,L)}if(typeof T.then=="function")return Re(k,N,yr(T),L);if(T.$$typeof===E)return Re(k,N,sr(k,T),L);pr(k,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,N!==null&&N.tag===6?(a(k,N.sibling),L=o(N,T),L.return=k,k=L):(a(k,N),L=Xi(T,k.mode,L),L.return=k,k=L),y(k)):a(k,N)}return function(k,N,T,L){try{al=0;var ne=Re(k,N,T,L);return Qs=null,ne}catch(ie){if(ie===Kn||ie===lr)throw ie;var pe=_t(29,ie,null,k.mode);return pe.lanes=L,pe.return=k,pe}finally{}}}var Vs=ff(!0),hf=ff(!1),zt=z(null),Kt=null;function ja(e){var t=e.alternate;K(We,We.current&1),K(zt,e),Kt===null&&(t===null||Hs.current!==null||t.memoizedState!==null)&&(Kt=e)}function gf(e){if(e.tag===22){if(K(We,We.current),K(zt,e),Kt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Kt=e)}}else _a()}function _a(){K(We,We.current),K(zt,zt.current)}function ra(e){V(zt),Kt===e&&(Kt=null),V(We)}var We=z(0);function vr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||yu(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Eo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var To={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Et(),o=ba(s);o.payload=t,a!=null&&(o.callback=a),t=xa(e,o,s),t!==null&&(Tt(t,e,s),Zn(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Et(),o=ba(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=xa(e,o,s),t!==null&&(Tt(t,e,s),Zn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Et(),s=ba(a);s.tag=2,t!=null&&(s.callback=t),t=xa(e,s,a),t!==null&&(Tt(t,e,a),Zn(t,e,a))}};function mf(e,t,a,s,o,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,y):t.prototype&&t.prototype.isPureReactComponent?!Bn(a,s)||!Bn(o,d):!0}function yf(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function rs(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var br=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function pf(e){br(e)}function vf(e){console.error(e)}function bf(e){br(e)}function xr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function xf(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Co(e,t,a){return a=ba(a),a.tag=3,a.payload={element:null},a.callback=function(){xr(e,t)},a}function wf(e){return e=ba(e),e.tag=3,e}function jf(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=s.value;e.payload=function(){return o(d)},e.callback=function(){xf(t,a,s)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){xf(t,a,s),typeof o!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function Lm(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Qn(t,a,o,!0),a=zt.current,a!==null){switch(a.tag){case 13:return Kt===null?Fo():a.alternate===null&&Ve===0&&(Ve=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===so?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),tu(e,s,o)),!1;case 22:return a.flags|=65536,s===so?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),tu(e,s,o)),!1}throw Error(i(435,a.tag))}return tu(e,s,o),Fo(),!1}if(_e)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Pi&&(e=Error(i(422),{cause:s}),Yn(Dt(e,a)))):(s!==Pi&&(t=Error(i(423),{cause:s}),Yn(Dt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Dt(s,a),o=Co(e.stateNode,s,o),ro(e,o),Ve!==4&&(Ve=2)),!1;var d=Error(i(520),{cause:s});if(d=Dt(d,a),cl===null?cl=[d]:cl.push(d),Ve!==4&&(Ve=2),t===null)return!0;s=Dt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Co(a.stateNode,s,e),ro(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ca===null||!Ca.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=wf(o),jf(o,e,a,s),ro(a,o),!1}a=a.return}while(a!==null);return!1}var _f=Error(i(461)),at=!1;function rt(e,t,a,s){t.child=e===null?hf(t,null,a,s):Vs(t,e.child,a,s)}function Sf(e,t,a,s,o){a=a.render;var d=t.ref;if("ref"in s){var y={};for(var b in s)b!=="ref"&&(y[b]=s[b])}else y=s;return ss(t),s=fo(e,t,a,y,d,o),b=ho(),e!==null&&!at?(go(e,t,o),ia(e,t,o)):(_e&&b&&Ii(t),t.flags|=1,rt(e,t,s,o),t.child)}function Nf(e,t,a,s,o){if(e===null){var d=a.type;return typeof d=="function"&&!Vi(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,kf(e,t,d,s,o)):(e=Fl(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!qo(e,o)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Bn,a(y,s)&&e.ref===t.ref)return ia(e,t,o)}return t.flags|=1,e=ea(d,s),e.ref=t.ref,e.return=t,t.child=e}function kf(e,t,a,s,o){if(e!==null){var d=e.memoizedProps;if(Bn(d,s)&&e.ref===t.ref)if(at=!1,t.pendingProps=s=d,qo(e,o))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,ia(e,t,o)}return Ao(e,t,a,s,o)}function Ef(e,t,a){var s=t.pendingProps,o=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=d!==null?d.baseLanes|a:a,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~s}else t.childLanes=0,t.child=null;return Tf(e,t,s,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&nr(t,d!==null?d.cachePool:null),d!==null?Nd(t,d):oo(),gf(t);else return t.lanes=t.childLanes=536870912,Tf(e,t,d!==null?d.baseLanes|a:a,a)}else d!==null?(nr(t,d.cachePool),Nd(t,d),_a(),t.memoizedState=null):(e!==null&&nr(t,null),oo(),_a());return rt(e,t,o,a),t.child}function Tf(e,t,a,s){var o=ao();return o=o===null?null:{parent:Je._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&nr(t,null),oo(),gf(t),e!==null&&Qn(e,t,s,!0),null}function wr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ao(e,t,a,s,o){return ss(t),a=fo(e,t,a,s,void 0,o),s=ho(),e!==null&&!at?(go(e,t,o),ia(e,t,o)):(_e&&s&&Ii(t),t.flags|=1,rt(e,t,a,o),t.child)}function Cf(e,t,a,s,o,d){return ss(t),t.updateQueue=null,a=Ed(t,s,a,o),kd(e),s=ho(),e!==null&&!at?(go(e,t,d),ia(e,t,d)):(_e&&s&&Ii(t),t.flags|=1,rt(e,t,a,d),t.child)}function Af(e,t,a,s,o){if(ss(t),t.stateNode===null){var d=Us,y=a.contextType;typeof y=="object"&&y!==null&&(d=dt(y)),d=new a(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=To,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},no(t),y=a.contextType,d.context=typeof y=="object"&&y!==null?dt(y):Us,d.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Eo(t,a,y,s),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&To.enqueueReplaceState(d,d.state,null),Jn(t,s,d,o),Pn(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,_=rs(a,b);d.props=_;var C=d.context,q=a.contextType;y=Us,typeof q=="object"&&q!==null&&(y=dt(q));var $=a.getDerivedStateFromProps;q=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||C!==y)&&yf(t,d,s,y),va=!1;var D=t.memoizedState;d.state=D,Jn(t,s,d,o),Pn(),C=t.memoizedState,b||D!==C||va?(typeof $=="function"&&(Eo(t,a,$,s),C=t.memoizedState),(_=va||mf(t,a,_,s,D,C,y))?(q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=C),d.props=s,d.state=C,d.context=y,s=_):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,lo(e,t),y=t.memoizedProps,q=rs(a,y),d.props=q,$=t.pendingProps,D=d.context,C=a.contextType,_=Us,typeof C=="object"&&C!==null&&(_=dt(C)),b=a.getDerivedStateFromProps,(C=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==$||D!==_)&&yf(t,d,s,_),va=!1,D=t.memoizedState,d.state=D,Jn(t,s,d,o),Pn();var M=t.memoizedState;y!==$||D!==M||va||e!==null&&e.dependencies!==null&&ar(e.dependencies)?(typeof b=="function"&&(Eo(t,a,b,s),M=t.memoizedState),(q=va||mf(t,a,q,s,D,M,_)||e!==null&&e.dependencies!==null&&ar(e.dependencies))?(C||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,M,_),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,M,_)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=M),d.props=s,d.state=M,d.context=_,s=q):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,wr(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=Vs(t,e.child,null,o),t.child=Vs(t,null,a,o)):rt(e,t,a,o),t.memoizedState=d.state,e=t.child):e=ia(e,t,o),e}function Of(e,t,a,s){return Gn(),t.flags|=256,rt(e,t,a,s),t.child}var Oo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Do(e){return{baseLanes:e,cachePool:pd()}}function Ro(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function Df(e,t,a){var s=t.pendingProps,o=!1,d=(t.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),y&&(o=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?ja(t):_a(),_e){var b=Qe,_;if(_=b){e:{for(_=b,b=Xt;_.nodeType!==8;){if(!b){b=null;break e}if(_=Gt(_.nextSibling),_===null){b=null;break e}}b=_}b!==null?(t.memoizedState={dehydrated:b,treeContext:Wa!==null?{id:ta,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},_=_t(18,null,null,0),_.stateNode=b,_.return=t,t.child=_,gt=t,Qe=null,_=!0):_=!1}_||ts(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return yu(b)?t.lanes=32:t.lanes=536870912,null;ra(t)}return b=s.children,s=s.fallback,o?(_a(),o=t.mode,b=jr({mode:"hidden",children:b},o),s=Ja(s,o,a,null),b.return=t,s.return=t,b.sibling=s,t.child=b,o=t.child,o.memoizedState=Do(a),o.childLanes=Ro(e,y,a),t.memoizedState=Oo,s):(ja(t),Mo(t,b))}if(_=e.memoizedState,_!==null&&(b=_.dehydrated,b!==null)){if(d)t.flags&256?(ja(t),t.flags&=-257,t=Uo(e,t,a)):t.memoizedState!==null?(_a(),t.child=e.child,t.flags|=128,t=null):(_a(),o=s.fallback,b=t.mode,s=jr({mode:"visible",children:s.children},b),o=Ja(o,b,a,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,Vs(t,e.child,null,a),s=t.child,s.memoizedState=Do(a),s.childLanes=Ro(e,y,a),t.memoizedState=Oo,t=o);else if(ja(t),yu(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var C=y.dgst;y=C,s=Error(i(419)),s.stack="",s.digest=y,Yn({value:s,source:null,stack:null}),t=Uo(e,t,a)}else if(at||Qn(e,t,a,!1),y=(a&e.childLanes)!==0,at||y){if(y=qe,y!==null&&(s=a&-a,s=(s&42)!==0?1:yi(s),s=(s&(y.suspendedLanes|a))!==0?0:s,s!==0&&s!==_.retryLane))throw _.retryLane=s,Ms(e,s),Tt(y,e,s),_f;b.data==="$?"||Fo(),t=Uo(e,t,a)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Qe=Gt(b.nextSibling),gt=t,_e=!0,es=null,Xt=!1,e!==null&&(Mt[Ut++]=ta,Mt[Ut++]=aa,Mt[Ut++]=Wa,ta=e.id,aa=e.overflow,Wa=t),t=Mo(t,s.children),t.flags|=4096);return t}return o?(_a(),o=s.fallback,b=t.mode,_=e.child,C=_.sibling,s=ea(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,C!==null?o=ea(C,o):(o=Ja(o,b,a,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,b=e.child.memoizedState,b===null?b=Do(a):(_=b.cachePool,_!==null?(C=Je._currentValue,_=_.parent!==C?{parent:C,pool:C}:_):_=pd(),b={baseLanes:b.baseLanes|a,cachePool:_}),o.memoizedState=b,o.childLanes=Ro(e,y,a),t.memoizedState=Oo,s):(ja(t),a=e.child,e=a.sibling,a=ea(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function Mo(e,t){return t=jr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function jr(e,t){return e=_t(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Uo(e,t,a){return Vs(t,e.child,null,a),e=Mo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rf(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Wi(e.return,t,a)}function zo(e,t,a,s,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=a,d.tailMode=o)}function Mf(e,t,a){var s=t.pendingProps,o=s.revealOrder,d=s.tail;if(rt(e,t,s.children,a),s=We.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rf(e,a,t);else if(e.tag===19)Rf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(K(We,s),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&vr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),zo(t,!1,o,a,d);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&vr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}zo(t,!0,a,null,d);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ta|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=ea(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ea(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ar(e)))}function Bm(e,t,a){switch(t.tag){case 3:Ue(t,t.stateNode.containerInfo),pa(t,Je,e.memoizedState.cache),Gn();break;case 27:case 5:Nn(t);break;case 4:Ue(t,t.stateNode.containerInfo);break;case 10:pa(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ja(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Df(e,t,a):(ja(t),e=ia(e,t,a),e!==null?e.sibling:null);ja(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Qn(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Mf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(We,We.current),s)break;return null;case 22:case 23:return t.lanes=0,Ef(e,t,a);case 24:pa(t,Je,e.memoizedState.cache)}return ia(e,t,a)}function Uf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!qo(e,a)&&(t.flags&128)===0)return at=!1,Bm(e,t,a);at=(e.flags&131072)!==0}else at=!1,_e&&(t.flags&1048576)!==0&&cd(t,tr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,o=s._init;if(s=o(s._payload),t.type=s,typeof s=="function")Vi(s)?(e=rs(s,e),t.tag=1,t=Af(null,t,s,e,a)):(t.tag=0,t=Ao(null,t,s,e,a));else{if(s!=null){if(o=s.$$typeof,o===G){t.tag=11,t=Sf(null,t,s,e,a);break e}else if(o===le){t.tag=14,t=Nf(null,t,s,e,a);break e}}throw t=P(s)||s,Error(i(306,t,""))}}return t;case 0:return Ao(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=rs(s,t.pendingProps),Af(e,t,s,o,a);case 3:e:{if(Ue(t,t.stateNode.containerInfo),e===null)throw Error(i(387));s=t.pendingProps;var d=t.memoizedState;o=d.element,lo(e,t),Jn(t,s,null,a);var y=t.memoizedState;if(s=y.cache,pa(t,Je,s),s!==d.cache&&Fi(t,[Je],a,!0),Pn(),s=y.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Of(e,t,s,a);break e}else if(s!==o){o=Dt(Error(i(424)),t),Yn(o),t=Of(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Gt(e.firstChild),gt=t,_e=!0,es=null,Xt=!0,a=hf(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gn(),s===o){t=ia(e,t,a);break e}rt(e,t,s,a)}t=t.child}return t;case 26:return wr(e,t),e===null?(a=Bh(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,s=zr(ae.current).createElement(a),s[ct]=t,s[yt]=e,ot(s,a,e),tt(s),t.stateNode=s):t.memoizedState=Bh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Nn(t),e===null&&_e&&(s=t.stateNode=zh(t.type,t.pendingProps,ae.current),gt=t,Xt=!0,o=Qe,Da(t.type)?(pu=o,Qe=Gt(s.firstChild)):Qe=o),rt(e,t,t.pendingProps.children,a),wr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=s=Qe)&&(s=hy(s,t.type,t.pendingProps,Xt),s!==null?(t.stateNode=s,gt=t,Qe=Gt(s.firstChild),Xt=!1,o=!0):o=!1),o||ts(t)),Nn(t),o=t.type,d=t.pendingProps,y=e!==null?e.memoizedProps:null,s=d.children,hu(o,d)?s=null:y!==null&&hu(o,y)&&(t.flags|=32),t.memoizedState!==null&&(o=fo(e,t,Om,null,null,a),bl._currentValue=o),wr(e,t),rt(e,t,s,a),t.child;case 6:return e===null&&_e&&((e=a=Qe)&&(a=gy(a,t.pendingProps,Xt),a!==null?(t.stateNode=a,gt=t,Qe=null,e=!0):e=!1),e||ts(t)),null;case 13:return Df(e,t,a);case 4:return Ue(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Vs(t,null,s,a):rt(e,t,s,a),t.child;case 11:return Sf(e,t,t.type,t.pendingProps,a);case 7:return rt(e,t,t.pendingProps,a),t.child;case 8:return rt(e,t,t.pendingProps.children,a),t.child;case 12:return rt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,pa(t,t.type,s.value),rt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,ss(t),o=dt(o),s=s(o),t.flags|=1,rt(e,t,s,a),t.child;case 14:return Nf(e,t,t.type,t.pendingProps,a);case 15:return kf(e,t,t.type,t.pendingProps,a);case 19:return Mf(e,t,a);case 31:return s=t.pendingProps,a=t.mode,s={mode:s.mode,children:s.children},e===null?(a=jr(s,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ea(e.child,s),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Ef(e,t,a);case 24:return ss(t),s=dt(Je),e===null?(o=ao(),o===null&&(o=qe,d=eo(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:s,cache:o},no(t),pa(t,Je,o)):((e.lanes&a)!==0&&(lo(e,t),Jn(t,null,null,a),Pn()),o=e.memoizedState,d=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),pa(t,Je,s)):(s=d.cache,pa(t,Je,s),s!==o.cache&&Fi(t,[Je],a,!0))),rt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function oa(e){e.flags|=4}function zf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qh(t)){if(t=zt.current,t!==null&&((we&4194048)===we?Kt!==null:(we&62914560)!==we&&(we&536870912)===0||t!==Kt))throw In=so,vd;e.flags|=8192}}function _r(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hc():536870912,e.lanes|=t,Zs|=t)}function nl(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Hm(e,t,a){var s=t.pendingProps;switch(Zi(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),na(Je),Bt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&($n(t)?oa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,hd())),Ye(t),null;case 26:return a=t.memoizedState,e===null?(oa(t),a!==null?(Ye(t),zf(t,a)):(Ye(t),t.flags&=-16777217)):a?a!==e.memoizedState?(oa(t),Ye(t),zf(t,a)):(Ye(t),t.flags&=-16777217):(e.memoizedProps!==s&&oa(t),Ye(t),t.flags&=-16777217),null;case 27:ps(t),a=ae.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ye(t),null}e=W.current,$n(t)?dd(t):(e=zh(o,s,a),t.stateNode=e,oa(t))}return Ye(t),null;case 5:if(ps(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ye(t),null}if(e=W.current,$n(t))dd(t);else{switch(o=zr(ae.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?o.createElement(a,{is:s.is}):o.createElement(a)}}e[ct]=t,e[yt]=s;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ot(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&oa(t)}}return Ye(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(e=ae.current,$n(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=gt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[ct]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Ch(e.nodeValue,a)),e||ts(t)}else e=zr(e).createTextNode(s),e[ct]=t,t.stateNode=e}return Ye(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=$n(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[ct]=t}else Gn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else o=hd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ra(t),t):(ra(t),null)}if(ra(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool);var d=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==o&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),_r(t,t.updateQueue),Ye(t),null;case 4:return Bt(),e===null&&ou(t.stateNode.containerInfo),Ye(t),null;case 10:return na(t.type),Ye(t),null;case 19:if(V(We),o=t.memoizedState,o===null)return Ye(t),null;if(s=(t.flags&128)!==0,d=o.rendering,d===null)if(s)nl(o,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=vr(e),d!==null){for(t.flags|=128,nl(o,!1),e=d.updateQueue,t.updateQueue=e,_r(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ud(a,e),a=a.sibling;return K(We,We.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ct()>kr&&(t.flags|=128,s=!0,nl(o,!1),t.lanes=4194304)}else{if(!s)if(e=vr(d),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,_r(t,e),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!_e)return Ye(t),null}else 2*Ct()-o.renderingStartTime>kr&&a!==536870912&&(t.flags|=128,s=!0,nl(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ct(),t.sibling=null,e=We.current,K(We,s?e&1|2:e&1),t):(Ye(t),null);case 22:case 23:return ra(t),uo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&_r(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&V(ns),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),na(Je),Ye(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function $m(e,t){switch(Zi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(Je),Bt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ps(t),null;case 13:if(ra(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(We),null;case 4:return Bt(),null;case 10:return na(t.type),null;case 22:case 23:return ra(t),uo(),e!==null&&V(ns),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return na(Je),null;case 25:return null;default:return null}}function qf(e,t){switch(Zi(t),t.tag){case 3:na(Je),Bt();break;case 26:case 27:case 5:ps(t);break;case 4:Bt();break;case 13:ra(t);break;case 19:V(We);break;case 10:na(t.type);break;case 22:case 23:ra(t),uo(),e!==null&&V(ns);break;case 24:na(Je)}}function ll(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var d=a.create,y=a.inst;s=d(),y.destroy=s}a=a.next}while(a!==o)}}catch(b){ze(t,t.return,b)}}function Sa(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&e)===e){var y=s.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,o=t;var _=a,C=b;try{C()}catch(q){ze(o,_,q)}}}s=s.next}while(s!==d)}}catch(q){ze(t,t.return,q)}}function Lf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Sd(t,a)}catch(s){ze(e,e.return,s)}}}function Bf(e,t,a){a.props=rs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){ze(e,t,s)}}function rl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){ze(e,t,o)}}function It(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){ze(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){ze(e,t,o)}else a.current=null}function Hf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){ze(e,e.return,o)}}function Lo(e,t,a){try{var s=e.stateNode;oy(s,e.type,a,t),s[yt]=t}catch(o){ze(e,e.return,o)}}function $f(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Da(e.type)||e.tag===4}function Bo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$f(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Da(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ho(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ur));else if(s!==4&&(s===27&&Da(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ho(e,t,a),e=e.sibling;e!==null;)Ho(e,t,a),e=e.sibling}function Sr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Da(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Sr(e,t,a),e=e.sibling;e!==null;)Sr(e,t,a),e=e.sibling}function Gf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ot(t,s,a),t[ct]=e,t[yt]=a}catch(d){ze(e,e.return,d)}}var ua=!1,Ke=!1,$o=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,st=null;function Gm(e,t){if(e=e.containerInfo,du=Gr,e=Fc(e),Li(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,b=-1,_=-1,C=0,q=0,$=e,D=null;t:for(;;){for(var M;$!==a||o!==0&&$.nodeType!==3||(b=y+o),$!==d||s!==0&&$.nodeType!==3||(_=y+s),$.nodeType===3&&(y+=$.nodeValue.length),(M=$.firstChild)!==null;)D=$,$=M;for(;;){if($===e)break t;if(D===a&&++C===o&&(b=y),D===d&&++q===s&&(_=y),(M=$.nextSibling)!==null)break;$=D,D=$.parentNode}$=M}a=b===-1||_===-1?null:{start:b,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(fu={focusedElem:e,selectionRange:a},Gr=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,s=a.stateNode;try{var de=rs(a.type,o,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(de,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){ze(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)mu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Qf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Na(e,a),s&4&&ll(5,a);break;case 1:if(Na(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(y){ze(a,a.return,y)}else{var o=rs(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ze(a,a.return,y)}}s&64&&Lf(a),s&512&&rl(a,a.return);break;case 3:if(Na(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Sd(e,t)}catch(y){ze(a,a.return,y)}}break;case 27:t===null&&s&4&&Gf(a);case 26:case 5:Na(e,a),t===null&&s&4&&Hf(a),s&512&&rl(a,a.return);break;case 12:Na(e,a);break;case 13:Na(e,a),s&4&&Kf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Jm.bind(null,a),my(e,a))));break;case 22:if(s=a.memoizedState!==null||ua,!s){t=t!==null&&t.memoizedState!==null||Ke,o=ua;var d=Ke;ua=s,(Ke=t)&&!d?ka(e,a,(a.subtreeFlags&8772)!==0):Na(e,a),ua=o,Ke=d}break;case 30:break;default:Na(e,a)}}function Vf(e){var t=e.alternate;t!==null&&(e.alternate=null,Vf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,bt=!1;function ca(e,t,a){for(a=a.child;a!==null;)Xf(e,t,a),a=a.sibling}function Xf(e,t,a){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Xa,a)}catch{}switch(a.tag){case 26:Ke||It(a,t),ca(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ke||It(a,t);var s=Ge,o=bt;Da(a.type)&&(Ge=a.stateNode,bt=!1),ca(e,t,a),ml(a.stateNode),Ge=s,bt=o;break;case 5:Ke||It(a,t);case 6:if(s=Ge,o=bt,Ge=null,ca(e,t,a),Ge=s,bt=o,Ge!==null)if(bt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(a.stateNode)}catch(d){ze(a,t,d)}else try{Ge.removeChild(a.stateNode)}catch(d){ze(a,t,d)}break;case 18:Ge!==null&&(bt?(e=Ge,Mh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),_l(e)):Mh(Ge,a.stateNode));break;case 4:s=Ge,o=bt,Ge=a.stateNode.containerInfo,bt=!0,ca(e,t,a),Ge=s,bt=o;break;case 0:case 11:case 14:case 15:Ke||Sa(2,a,t),Ke||Sa(4,a,t),ca(e,t,a);break;case 1:Ke||(It(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Bf(a,t,s)),ca(e,t,a);break;case 21:ca(e,t,a);break;case 22:Ke=(s=Ke)||a.memoizedState!==null,ca(e,t,a),Ke=s;break;default:ca(e,t,a)}}function Kf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_l(e)}catch(a){ze(t,t.return,a)}}function Ym(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yf),t;default:throw Error(i(435,e.tag))}}function Go(e,t){var a=Ym(e);t.forEach(function(s){var o=Wm.bind(null,e,s);a.has(s)||(a.add(s),s.then(o,o))})}function St(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],d=e,y=t,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Da(b.type)){Ge=b.stateNode,bt=!1;break e}break;case 5:Ge=b.stateNode,bt=!1;break e;case 3:case 4:Ge=b.stateNode.containerInfo,bt=!0;break e}b=b.return}if(Ge===null)throw Error(i(160));Xf(d,y,o),Ge=null,bt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)If(t,e),t=t.sibling}var $t=null;function If(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),Nt(e),s&4&&(Sa(3,e,e.return),ll(3,e),Sa(5,e,e.return));break;case 1:St(t,e),Nt(e),s&512&&(Ke||a===null||It(a,a.return)),s&64&&ua&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=$t;if(St(t,e),Nt(e),s&512&&(Ke||a===null||It(a,a.return)),s&4){var d=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":d=o.getElementsByTagName("title")[0],(!d||d[An]||d[ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(s),o.head.insertBefore(d,o.querySelector("head > title"))),ot(d,s,a),d[ct]=e,tt(d),s=d;break e;case"link":var y=Gh("link","href",o).get(s+(a.href||""));if(y){for(var b=0;b<y.length;b++)if(d=y[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(b,1);break t}}d=o.createElement(s),ot(d,s,a),o.head.appendChild(d);break;case"meta":if(y=Gh("meta","content",o).get(s+(a.content||""))){for(b=0;b<y.length;b++)if(d=y[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(b,1);break t}}d=o.createElement(s),ot(d,s,a),o.head.appendChild(d);break;default:throw Error(i(468,s))}d[ct]=e,tt(d),s=d}e.stateNode=s}else Yh(o,e.type,e.stateNode);else e.stateNode=$h(o,s,e.memoizedProps);else d!==s?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,s===null?Yh(o,e.type,e.stateNode):$h(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Lo(e,e.memoizedProps,a.memoizedProps)}break;case 27:St(t,e),Nt(e),s&512&&(Ke||a===null||It(a,a.return)),a!==null&&s&4&&Lo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(St(t,e),Nt(e),s&512&&(Ke||a===null||It(a,a.return)),e.flags&32){o=e.stateNode;try{Es(o,"")}catch(M){ze(e,e.return,M)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Lo(e,o,a!==null?a.memoizedProps:o)),s&1024&&($o=!0);break;case 6:if(St(t,e),Nt(e),s&4){if(e.stateNode===null)throw Error(i(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(M){ze(e,e.return,M)}}break;case 3:if(Br=null,o=$t,$t=qr(t.containerInfo),St(t,e),$t=o,Nt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{_l(t.containerInfo)}catch(M){ze(e,e.return,M)}$o&&($o=!1,Zf(e));break;case 4:s=$t,$t=qr(e.stateNode.containerInfo),St(t,e),Nt(e),$t=s;break;case 12:St(t,e),Nt(e);break;case 13:St(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Io=Ct()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Go(e,s)));break;case 22:o=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,C=ua,q=Ke;if(ua=C||o,Ke=q||_,St(t,e),Ke=q,ua=C,Nt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||_||ua||Ke||is(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(d=_.stateNode,o)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=_.stateNode;var $=_.memoizedProps.style,D=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(M){ze(_,_.return,M)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(M){ze(_,_.return,M)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Go(e,a))));break;case 19:St(t,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Go(e,s)));break;case 30:break;case 21:break;default:St(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if($f(s)){a=s;break}s=s.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var o=a.stateNode,d=Bo(e);Sr(e,d,o);break;case 5:var y=a.stateNode;a.flags&32&&(Es(y,""),a.flags&=-33);var b=Bo(e);Sr(e,b,y);break;case 3:case 4:var _=a.stateNode.containerInfo,C=Bo(e);Ho(e,C,_);break;default:throw Error(i(161))}}catch(q){ze(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Na(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qf(e,t.alternate,t),t=t.sibling}function is(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Sa(4,t,t.return),is(t);break;case 1:It(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Bf(t,t.return,a),is(t);break;case 27:ml(t.stateNode);case 26:case 5:It(t,t.return),is(t);break;case 22:t.memoizedState===null&&is(t);break;case 30:is(t);break;default:is(t)}e=e.sibling}}function ka(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,d=t,y=d.flags;switch(d.tag){case 0:case 11:case 15:ka(o,d,a),ll(4,d);break;case 1:if(ka(o,d,a),s=d,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(C){ze(s,s.return,C)}if(s=d,o=s.updateQueue,o!==null){var b=s.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)_d(_[o],b)}catch(C){ze(s,s.return,C)}}a&&y&64&&Lf(d),rl(d,d.return);break;case 27:Gf(d);case 26:case 5:ka(o,d,a),a&&s===null&&y&4&&Hf(d),rl(d,d.return);break;case 12:ka(o,d,a);break;case 13:ka(o,d,a),a&&y&4&&Kf(o,d);break;case 22:d.memoizedState===null&&ka(o,d,a),rl(d,d.return);break;case 30:break;default:ka(o,d,a)}t=t.sibling}}function Yo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vn(a))}function Qo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vn(e))}function Zt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pf(e,t,a,s),t=t.sibling}function Pf(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,a,s),o&2048&&ll(9,t);break;case 1:Zt(e,t,a,s);break;case 3:Zt(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vn(e)));break;case 12:if(o&2048){Zt(e,t,a,s),e=t.stateNode;try{var d=t.memoizedProps,y=d.id,b=d.onPostCommit;typeof b=="function"&&b(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){ze(t,t.return,_)}}else Zt(e,t,a,s);break;case 13:Zt(e,t,a,s);break;case 23:break;case 22:d=t.stateNode,y=t.alternate,t.memoizedState!==null?d._visibility&2?Zt(e,t,a,s):il(e,t):d._visibility&2?Zt(e,t,a,s):(d._visibility|=2,Xs(e,t,a,s,(t.subtreeFlags&10256)!==0)),o&2048&&Yo(y,t);break;case 24:Zt(e,t,a,s),o&2048&&Qo(t.alternate,t);break;default:Zt(e,t,a,s)}}function Xs(e,t,a,s,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,y=t,b=a,_=s,C=y.flags;switch(y.tag){case 0:case 11:case 15:Xs(d,y,b,_,o),ll(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&2?Xs(d,y,b,_,o):il(d,y):(q._visibility|=2,Xs(d,y,b,_,o)),o&&C&2048&&Yo(y.alternate,y);break;case 24:Xs(d,y,b,_,o),o&&C&2048&&Qo(y.alternate,y);break;default:Xs(d,y,b,_,o)}t=t.sibling}}function il(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:il(a,s),o&2048&&Yo(s.alternate,s);break;case 24:il(a,s),o&2048&&Qo(s.alternate,s);break;default:il(a,s)}t=t.sibling}}var ol=8192;function Ks(e){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Jf(e),e=e.sibling}function Jf(e){switch(e.tag){case 26:Ks(e),e.flags&ol&&e.memoizedState!==null&&Ty($t,e.memoizedState,e.memoizedProps);break;case 5:Ks(e);break;case 3:case 4:var t=$t;$t=qr(e.stateNode.containerInfo),Ks(e),$t=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ol,ol=16777216,Ks(e),ol=t):Ks(e));break;default:Ks(e)}}function Wf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ul(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];st=s,eh(s,e)}Wf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ff(e),e=e.sibling}function Ff(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&Sa(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Nr(e)):ul(e);break;default:ul(e)}}function Nr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];st=s,eh(s,e)}Wf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Sa(8,t,t.return),Nr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Nr(t));break;default:Nr(t)}e=e.sibling}}function eh(e,t){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Sa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Vn(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,st=s;else e:for(a=e;st!==null;){s=st;var o=s.sibling,d=s.return;if(Vf(s),s===a){st=null;break e}if(o!==null){o.return=d,st=o;break e}st=d}}}var Qm={getCacheForType:function(e){var t=dt(Je),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Vm=typeof WeakMap=="function"?WeakMap:Map,ke=0,qe=null,ve=null,we=0,Ee=0,kt=null,Ea=!1,Is=!1,Vo=!1,da=0,Ve=0,Ta=0,os=0,Xo=0,qt=0,Zs=0,cl=null,xt=null,Ko=!1,Io=0,kr=1/0,Er=null,Ca=null,it=0,Aa=null,Ps=null,Js=0,Zo=0,Po=null,th=null,dl=0,Jo=null;function Et(){if((ke&2)!==0&&we!==0)return we&-we;if(O.T!==null){var e=Ls;return e!==0?e:nu()}return yc()}function ah(){qt===0&&(qt=(we&536870912)===0||_e?fc():536870912);var e=zt.current;return e!==null&&(e.flags|=32),qt}function Tt(e,t,a){(e===qe&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Ws(e,0),Oa(e,we,qt,!1)),Cn(e,a),((ke&2)===0||e!==qe)&&(e===qe&&((ke&2)===0&&(os|=a),Ve===4&&Oa(e,we,qt,!1)),Pt(e))}function sh(e,t,a){if((ke&6)!==0)throw Error(i(327));var s=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Tn(e,t),o=s?Im(e,t):eu(e,t,!0),d=s;do{if(o===0){Is&&!s&&Oa(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!Xm(a)){o=eu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var b=e;o=cl;var _=b.current.memoizedState.isDehydrated;if(_&&(Ws(b,y).flags|=256),y=eu(b,y,!1),y!==2){if(Vo&&!_){b.errorRecoveryDisabledLanes|=d,os|=d,o=4;break e}d=xt,xt=o,d!==null&&(xt===null?xt=d:xt.push.apply(xt,d))}o=y}if(d=!1,o!==2)continue}}if(o===1){Ws(e,0),Oa(e,t,0,!0);break}e:{switch(s=e,d=o,d){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Oa(s,t,qt,!Ea);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Io+300-Ct(),10<o)){if(Oa(s,t,qt,!Ea),bs(s,0,!0)!==0)break e;s.timeoutHandle=Dh(nh.bind(null,s,a,xt,Er,Ko,t,qt,os,Zs,Ea,d,2,-0,0),o);break e}nh(s,a,xt,Er,Ko,t,qt,os,Zs,Ea,d,0,-0,0)}}break}while(!0);Pt(e)}function nh(e,t,a,s,o,d,y,b,_,C,q,$,D,M){if(e.timeoutHandle=-1,$=t.subtreeFlags,($&8192||($&16785408)===16785408)&&(vl={stylesheets:null,count:0,unsuspend:Ey},Jf(t),$=Cy(),$!==null)){e.cancelPendingCommit=$(dh.bind(null,e,t,d,a,s,o,y,b,_,q,1,D,M)),Oa(e,d,y,!C);return}dh(e,t,d,a,s,o,y,b,_)}function Xm(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],d=o.getSnapshot;o=o.value;try{if(!jt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oa(e,t,a,s){t&=~Xo,t&=~os,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var d=31-X(o),y=1<<d;s[d]=-1,o&=~y}a!==0&&gc(e,a,t)}function Tr(){return(ke&6)===0?(fl(0),!1):!0}function Wo(){if(ve!==null){if(Ee===0)var e=ve.return;else e=ve,sa=as=null,mo(e),Qs=null,al=0,e=ve;for(;e!==null;)qf(e.alternate,e),e=e.return;ve=null}}function Ws(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wo(),qe=e,ve=a=ea(e.current,null),we=t,Ee=0,kt=null,Ea=!1,Is=Tn(e,t),Vo=!1,Zs=qt=Xo=os=Ta=Ve=0,xt=cl=null,Ko=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-X(s),d=1<<o;t|=e[o],s&=~d}return da=t,Pl(),a}function lh(e,t){me=null,O.H=mr,t===Kn||t===lr?(t=wd(),Ee=3):t===vd?(t=wd(),Ee=4):Ee=t===_f?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,ve===null&&(Ve=1,xr(e,Dt(t,e.current)))}function rh(){var e=O.H;return O.H=mr,e===null?mr:e}function ih(){var e=O.A;return O.A=Qm,e}function Fo(){Ve=4,Ea||(we&4194048)!==we&&zt.current!==null||(Is=!0),(Ta&134217727)===0&&(os&134217727)===0||qe===null||Oa(qe,we,qt,!1)}function eu(e,t,a){var s=ke;ke|=2;var o=rh(),d=ih();(qe!==e||we!==t)&&(Er=null,Ws(e,t)),t=!1;var y=Ve;e:do try{if(Ee!==0&&ve!==null){var b=ve,_=kt;switch(Ee){case 8:Wo(),y=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var C=Ee;if(Ee=0,kt=null,Fs(e,b,_,C),a&&Is){y=0;break e}break;default:C=Ee,Ee=0,kt=null,Fs(e,b,_,C)}}Km(),y=Ve;break}catch(q){lh(e,q)}while(!0);return t&&e.shellSuspendCounter++,sa=as=null,ke=s,O.H=o,O.A=d,ve===null&&(qe=null,we=0,Pl()),y}function Km(){for(;ve!==null;)oh(ve)}function Im(e,t){var a=ke;ke|=2;var s=rh(),o=ih();qe!==e||we!==t?(Er=null,kr=Ct()+500,Ws(e,t)):Is=Tn(e,t);e:do try{if(Ee!==0&&ve!==null){t=ve;var d=kt;t:switch(Ee){case 1:Ee=0,kt=null,Fs(e,t,d,1);break;case 2:case 9:if(bd(d)){Ee=0,kt=null,uh(t);break}t=function(){Ee!==2&&Ee!==9||qe!==e||(Ee=7),Pt(e)},d.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:bd(d)?(Ee=0,kt=null,uh(t)):(Ee=0,kt=null,Fs(e,t,d,7));break;case 5:var y=null;switch(ve.tag){case 26:y=ve.memoizedState;case 5:case 27:var b=ve;if(!y||Qh(y)){Ee=0,kt=null;var _=b.sibling;if(_!==null)ve=_;else{var C=b.return;C!==null?(ve=C,Cr(C)):ve=null}break t}}Ee=0,kt=null,Fs(e,t,d,5);break;case 6:Ee=0,kt=null,Fs(e,t,d,6);break;case 8:Wo(),Ve=6;break e;default:throw Error(i(462))}}Zm();break}catch(q){lh(e,q)}while(!0);return sa=as=null,O.H=s,O.A=o,ke=a,ve!==null?0:(qe=null,we=0,Pl(),Ve)}function Zm(){for(;ve!==null&&!ui();)oh(ve)}function oh(e){var t=Uf(e.alternate,e,da);e.memoizedProps=e.pendingProps,t===null?Cr(e):ve=t}function uh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Cf(a,t,t.pendingProps,t.type,void 0,we);break;case 11:t=Cf(a,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:mo(t);default:qf(a,t),t=ve=ud(t,da),t=Uf(a,t,da)}e.memoizedProps=e.pendingProps,t===null?Cr(e):ve=t}function Fs(e,t,a,s){sa=as=null,mo(t),Qs=null,al=0;var o=t.return;try{if(Lm(e,o,t,a,we)){Ve=1,xr(e,Dt(a,e.current)),ve=null;return}}catch(d){if(o!==null)throw ve=o,d;Ve=1,xr(e,Dt(a,e.current)),ve=null;return}t.flags&32768?(_e||s===1?e=!0:Is||(we&536870912)!==0?e=!1:(Ea=e=!0,(s===2||s===9||s===3||s===6)&&(s=zt.current,s!==null&&s.tag===13&&(s.flags|=16384))),ch(t,e)):Cr(t)}function Cr(e){var t=e;do{if((t.flags&32768)!==0){ch(t,Ea);return}e=t.return;var a=Hm(t.alternate,t,da);if(a!==null){ve=a;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ve===0&&(Ve=5)}function ch(e,t){do{var a=$m(e.alternate,e);if(a!==null){a.flags&=32767,ve=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=a}while(e!==null);Ve=6,ve=null}function dh(e,t,a,s,o,d,y,b,_){e.cancelPendingCommit=null;do Ar();while(it!==0);if((ke&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(d=t.lanes|t.childLanes,d|=Yi,Eg(e,a,d,y,b,_),e===qe&&(ve=qe=null,we=0),Ps=t,Aa=e,Js=a,Zo=d,Po=o,th=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fm(vs,function(){return yh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null,o=Y.p,Y.p=2,y=ke,ke|=4;try{Gm(e,t,a)}finally{ke=y,Y.p=o,O.T=s}}it=1,fh(),hh(),gh()}}function fh(){if(it===1){it=0;var e=Aa,t=Ps,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var s=Y.p;Y.p=2;var o=ke;ke|=4;try{If(t,e);var d=fu,y=Fc(e.containerInfo),b=d.focusedElem,_=d.selectionRange;if(y!==b&&b&&b.ownerDocument&&Wc(b.ownerDocument.documentElement,b)){if(_!==null&&Li(b)){var C=_.start,q=_.end;if(q===void 0&&(q=C),"selectionStart"in b)b.selectionStart=C,b.selectionEnd=Math.min(q,b.value.length);else{var $=b.ownerDocument||document,D=$&&$.defaultView||window;if(D.getSelection){var M=D.getSelection(),de=b.textContent.length,oe=Math.min(_.start,de),Re=_.end===void 0?oe:Math.min(_.end,de);!M.extend&&oe>Re&&(y=Re,Re=oe,oe=y);var k=Jc(b,oe),N=Jc(b,Re);if(k&&N&&(M.rangeCount!==1||M.anchorNode!==k.node||M.anchorOffset!==k.offset||M.focusNode!==N.node||M.focusOffset!==N.offset)){var T=$.createRange();T.setStart(k.node,k.offset),M.removeAllRanges(),oe>Re?(M.addRange(T),M.extend(N.node,N.offset)):(T.setEnd(N.node,N.offset),M.addRange(T))}}}}for($=[],M=b;M=M.parentNode;)M.nodeType===1&&$.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var L=$[b];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Gr=!!du,fu=du=null}finally{ke=o,Y.p=s,O.T=a}}e.current=t,it=2}}function hh(){if(it===2){it=0;var e=Aa,t=Ps,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var s=Y.p;Y.p=2;var o=ke;ke|=4;try{Qf(e,t.alternate,t)}finally{ke=o,Y.p=s,O.T=a}}it=3}}function gh(){if(it===4||it===3){it=0,ci();var e=Aa,t=Ps,a=Js,s=th;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,Ps=Aa=null,mh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ca=null),pi(a),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Xa,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=O.T,o=Y.p,Y.p=2,O.T=null;try{for(var d=e.onRecoverableError,y=0;y<s.length;y++){var b=s[y];d(b.value,{componentStack:b.stack})}}finally{O.T=t,Y.p=o}}(Js&3)!==0&&Ar(),Pt(e),o=e.pendingLanes,(a&4194090)!==0&&(o&42)!==0?e===Jo?dl++:(dl=0,Jo=e):dl=0,fl(0)}}function mh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vn(t)))}function Ar(e){return fh(),hh(),gh(),yh()}function yh(){if(it!==5)return!1;var e=Aa,t=Zo;Zo=0;var a=pi(Js),s=O.T,o=Y.p;try{Y.p=32>a?32:a,O.T=null,a=Po,Po=null;var d=Aa,y=Js;if(it=0,Ps=Aa=null,Js=0,(ke&6)!==0)throw Error(i(331));var b=ke;if(ke|=4,Ff(d.current),Pf(d,d.current,y,a),ke=b,fl(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Xa,d)}catch{}return!0}finally{Y.p=o,O.T=s,mh(e,t)}}function ph(e,t,a){t=Dt(a,t),t=Co(e.stateNode,t,2),e=xa(e,t,2),e!==null&&(Cn(e,2),Pt(e))}function ze(e,t,a){if(e.tag===3)ph(e,e,a);else for(;t!==null;){if(t.tag===3){ph(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ca===null||!Ca.has(s))){e=Dt(a,e),a=wf(2),s=xa(t,a,2),s!==null&&(jf(a,s,t,e),Cn(s,2),Pt(s));break}}t=t.return}}function tu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Vm;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Vo=!0,o.add(a),e=Pm.bind(null,e,t,a),t.then(e,e))}function Pm(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(we&a)===a&&(Ve===4||Ve===3&&(we&62914560)===we&&300>Ct()-Io?(ke&2)===0&&Ws(e,0):Xo|=a,Zs===we&&(Zs=0)),Pt(e)}function vh(e,t){t===0&&(t=hc()),e=Ms(e,t),e!==null&&(Cn(e,t),Pt(e))}function Jm(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),vh(e,a)}function Wm(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(i(314))}s!==null&&s.delete(t),vh(e,a)}function Fm(e,t){return kn(e,t)}var Or=null,en=null,au=!1,Dr=!1,su=!1,us=0;function Pt(e){e!==en&&e.next===null&&(en===null?Or=en=e:en=en.next=e),Dr=!0,au||(au=!0,ty())}function fl(e,t){if(!su&&Dr){su=!0;do for(var a=!1,s=Or;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var d=0;else{var y=s.suspendedLanes,b=s.pingedLanes;d=(1<<31-X(42|e)+1)-1,d&=o&~(y&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,jh(s,d))}else d=we,d=bs(s,s===qe?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||Tn(s,d)||(a=!0,jh(s,d));s=s.next}while(a);su=!1}}function ey(){bh()}function bh(){Dr=au=!1;var e=0;us!==0&&(uy()&&(e=us),us=0);for(var t=Ct(),a=null,s=Or;s!==null;){var o=s.next,d=xh(s,t);d===0?(s.next=null,a===null?Or=o:a.next=o,o===null&&(en=a)):(a=s,(e!==0||(d&3)!==0)&&(Dr=!0)),s=o}fl(e)}function xh(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-X(d),b=1<<y,_=o[y];_===-1?((b&a)===0||(b&s)!==0)&&(o[y]=kg(b,t)):_<=t&&(e.expiredLanes|=b),d&=~b}if(t=qe,a=we,a=bs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&En(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Tn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&En(s),pi(a)){case 2:case 8:a=ql;break;case 32:a=vs;break;case 268435456:a=Ll;break;default:a=vs}return s=wh.bind(null,e),a=kn(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&En(s),e.callbackPriority=2,e.callbackNode=null,2}function wh(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ar()&&e.callbackNode!==a)return null;var s=we;return s=bs(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(sh(e,s,t),xh(e,Ct()),e.callbackNode!=null&&e.callbackNode===a?wh.bind(null,e):null)}function jh(e,t){if(Ar())return null;sh(e,t,!0)}function ty(){dy(function(){(ke&6)!==0?kn(zl,ey):bh()})}function nu(){return us===0&&(us=fc()),us}function _h(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yl(""+e)}function Sh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ay(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var d=_h((o[yt]||null).action),y=s.submitter;y&&(t=(t=y[yt]||null)?_h(t.formAction):y.getAttribute("formAction"),t!==null&&(d=t,y=null));var b=new Kl("action","action",null,s,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(us!==0){var _=y?Sh(o,y):new FormData(o);So(a,{pending:!0,data:_,method:o.method,action:d},null,_)}}else typeof d=="function"&&(b.preventDefault(),_=y?Sh(o,y):new FormData(o),So(a,{pending:!0,data:_,method:o.method,action:d},d,_))},currentTarget:o}]})}}for(var lu=0;lu<Gi.length;lu++){var ru=Gi[lu],sy=ru.toLowerCase(),ny=ru[0].toUpperCase()+ru.slice(1);Ht(sy,"on"+ny)}Ht(ad,"onAnimationEnd"),Ht(sd,"onAnimationIteration"),Ht(nd,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(wm,"onTransitionRun"),Ht(jm,"onTransitionStart"),Ht(_m,"onTransitionCancel"),Ht(ld,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function Nh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var y=s.length-1;0<=y;y--){var b=s[y],_=b.instance,C=b.currentTarget;if(b=b.listener,_!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=C;try{d(o)}catch(q){br(q)}o.currentTarget=null,d=_}else for(y=0;y<s.length;y++){if(b=s[y],_=b.instance,C=b.currentTarget,b=b.listener,_!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=C;try{d(o)}catch(q){br(q)}o.currentTarget=null,d=_}}}}function be(e,t){var a=t[vi];a===void 0&&(a=t[vi]=new Set);var s=e+"__bubble";a.has(s)||(kh(t,e,2,!1),a.add(s))}function iu(e,t,a){var s=0;t&&(s|=4),kh(a,e,s,t)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[Rr]){e[Rr]=!0,vc.forEach(function(a){a!=="selectionchange"&&(ly.has(a)||iu(a,!1,e),iu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rr]||(t[Rr]=!0,iu("selectionchange",!1,t))}}function kh(e,t,a,s){switch(Ph(t)){case 2:var o=Dy;break;case 8:o=Ry;break;default:o=ju}a=o.bind(null,t,a,e),o=void 0,!Ci||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function uu(e,t,a,s,o){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var b=s.stateNode.containerInfo;if(b===o)break;if(y===4)for(y=s.return;y!==null;){var _=y.tag;if((_===3||_===4)&&y.stateNode.containerInfo===o)return;y=y.return}for(;b!==null;){if(y=ws(b),y===null)return;if(_=y.tag,_===5||_===6||_===26||_===27){s=d=y;continue e}b=b.parentNode}}s=s.return}Dc(function(){var C=d,q=Ei(a),$=[];e:{var D=rd.get(e);if(D!==void 0){var M=Kl,de=e;switch(e){case"keypress":if(Vl(a)===0)break e;case"keydown":case"keyup":M=Fg;break;case"focusin":de="focus",M=Ri;break;case"focusout":de="blur",M=Ri;break;case"beforeblur":case"afterblur":M=Ri;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=am;break;case ad:case sd:case nd:M=Qg;break;case ld:M=nm;break;case"scroll":case"scrollend":M=Bg;break;case"wheel":M=rm;break;case"copy":case"cut":case"paste":M=Xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=qc;break;case"toggle":case"beforetoggle":M=om}var oe=(t&4)!==0,Re=!oe&&(e==="scroll"||e==="scrollend"),k=oe?D!==null?D+"Capture":null:D;oe=[];for(var N=C,T;N!==null;){var L=N;if(T=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||T===null||k===null||(L=Dn(N,k),L!=null&&oe.push(gl(N,L,T))),Re)break;N=N.return}0<oe.length&&(D=new M(D,de,null,a,q),$.push({event:D,listeners:oe}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",D&&a!==ki&&(de=a.relatedTarget||a.fromElement)&&(ws(de)||de[xs]))break e;if((M||D)&&(D=q.window===q?q:(D=q.ownerDocument)?D.defaultView||D.parentWindow:window,M?(de=a.relatedTarget||a.toElement,M=C,de=de?ws(de):null,de!==null&&(Re=f(de),oe=de.tag,de!==Re||oe!==5&&oe!==27&&oe!==6)&&(de=null)):(M=null,de=C),M!==de)){if(oe=Uc,L="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(oe=qc,L="onPointerLeave",k="onPointerEnter",N="pointer"),Re=M==null?D:On(M),T=de==null?D:On(de),D=new oe(L,N+"leave",M,a,q),D.target=Re,D.relatedTarget=T,L=null,ws(q)===C&&(oe=new oe(k,N+"enter",de,a,q),oe.target=T,oe.relatedTarget=Re,L=oe),Re=L,M&&de)t:{for(oe=M,k=de,N=0,T=oe;T;T=tn(T))N++;for(T=0,L=k;L;L=tn(L))T++;for(;0<N-T;)oe=tn(oe),N--;for(;0<T-N;)k=tn(k),T--;for(;N--;){if(oe===k||k!==null&&oe===k.alternate)break t;oe=tn(oe),k=tn(k)}oe=null}else oe=null;M!==null&&Eh($,D,M,oe,!1),de!==null&&Re!==null&&Eh($,Re,de,oe,!0)}}e:{if(D=C?On(C):window,M=D.nodeName&&D.nodeName.toLowerCase(),M==="select"||M==="input"&&D.type==="file")var ne=Vc;else if(Yc(D))if(Xc)ne=vm;else{ne=ym;var pe=mm}else M=D.nodeName,!M||M.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?C&&Ni(C.elementType)&&(ne=Vc):ne=pm;if(ne&&(ne=ne(e,C))){Qc($,ne,a,q);break e}pe&&pe(e,D,C),e==="focusout"&&C&&D.type==="number"&&C.memoizedProps.value!=null&&Si(D,"number",D.value)}switch(pe=C?On(C):window,e){case"focusin":(Yc(pe)||pe.contentEditable==="true")&&(Os=pe,Bi=C,Hn=null);break;case"focusout":Hn=Bi=Os=null;break;case"mousedown":Hi=!0;break;case"contextmenu":case"mouseup":case"dragend":Hi=!1,ed($,a,q);break;case"selectionchange":if(xm)break;case"keydown":case"keyup":ed($,a,q)}var ie;if(Ui)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else As?$c(e,a)&&(ue="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Lc&&a.locale!=="ko"&&(As||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&As&&(ie=Rc()):(ya=q,Ai="value"in ya?ya.value:ya.textContent,As=!0)),pe=Mr(C,ue),0<pe.length&&(ue=new zc(ue,e,null,a,q),$.push({event:ue,listeners:pe}),ie?ue.data=ie:(ie=Gc(a),ie!==null&&(ue.data=ie)))),(ie=cm?dm(e,a):fm(e,a))&&(ue=Mr(C,"onBeforeInput"),0<ue.length&&(pe=new zc("onBeforeInput","beforeinput",null,a,q),$.push({event:pe,listeners:ue}),pe.data=ie)),ay($,e,C,a,q)}Nh($,t)})}function gl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Mr(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Dn(e,a),o!=null&&s.unshift(gl(e,o,d)),o=Dn(e,t),o!=null&&s.push(gl(e,o,d))),e.tag===3)return s;e=e.return}return[]}function tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Eh(e,t,a,s,o){for(var d=t._reactName,y=[];a!==null&&a!==s;){var b=a,_=b.alternate,C=b.stateNode;if(b=b.tag,_!==null&&_===s)break;b!==5&&b!==26&&b!==27||C===null||(_=C,o?(C=Dn(a,d),C!=null&&y.unshift(gl(a,C,_))):o||(C=Dn(a,d),C!=null&&y.push(gl(a,C,_)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var ry=/\r\n?/g,iy=/\u0000|\uFFFD/g;function Th(e){return(typeof e=="string"?e:""+e).replace(ry,`
`).replace(iy,"")}function Ch(e,t){return t=Th(t),Th(e)===t}function Ur(){}function De(e,t,a,s,o,d){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Es(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Es(e,""+s);break;case"className":Hl(e,"class",s);break;case"tabIndex":Hl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Hl(e,a,s);break;case"style":Ac(e,s,d);break;case"data":if(t!=="object"){Hl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Yl(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&De(e,t,"name",o.name,o,null),De(e,t,"formEncType",o.formEncType,o,null),De(e,t,"formMethod",o.formMethod,o,null),De(e,t,"formTarget",o.formTarget,o,null)):(De(e,t,"encType",o.encType,o,null),De(e,t,"method",o.method,o,null),De(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Yl(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Ur);break;case"onScroll":s!=null&&be("scroll",e);break;case"onScrollEnd":s!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Yl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":be("beforetoggle",e),be("toggle",e),Bl(e,"popover",s);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Bl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qg.get(a)||a,Bl(e,a,s))}}function cu(e,t,a,s,o,d){switch(a){case"style":Ac(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Es(e,s):(typeof s=="number"||typeof s=="bigint")&&Es(e,""+s);break;case"onScroll":s!=null&&be("scroll",e);break;case"onScrollEnd":s!=null&&be("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof s=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Bl(e,a,s)}}}function ot(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var s=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:De(e,t,d,y,a,null)}}o&&De(e,t,"srcSet",a.srcSet,a,null),s&&De(e,t,"src",a.src,a,null);return;case"input":be("invalid",e);var b=d=y=o=null,_=null,C=null;for(s in a)if(a.hasOwnProperty(s)){var q=a[s];if(q!=null)switch(s){case"name":o=q;break;case"type":y=q;break;case"checked":_=q;break;case"defaultChecked":C=q;break;case"value":d=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,t));break;default:De(e,t,s,q,a,null)}}kc(e,d,b,_,C,y,o,!1),$l(e);return;case"select":be("invalid",e),s=y=d=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":y=b;break;case"multiple":s=b;default:De(e,t,o,b,a,null)}t=d,a=y,e.multiple=!!s,t!=null?ks(e,!!s,t,!1):a!=null&&ks(e,!!s,a,!0);return;case"textarea":be("invalid",e),d=o=s=null;for(y in a)if(a.hasOwnProperty(y)&&(b=a[y],b!=null))switch(y){case"value":s=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:De(e,t,y,b,a,null)}Tc(e,s,o,d),$l(e);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(s=a[_],s!=null))switch(_){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:De(e,t,_,s,a,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(s=0;s<hl.length;s++)be(hl[s],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(s=a[C],s!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:De(e,t,C,s,a,null)}return;default:if(Ni(t)){for(q in a)a.hasOwnProperty(q)&&(s=a[q],s!==void 0&&cu(e,t,q,s,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null&&De(e,t,b,s,a,null))}function oy(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,y=null,b=null,_=null,C=null,q=null;for(M in a){var $=a[M];if(a.hasOwnProperty(M)&&$!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":_=$;default:s.hasOwnProperty(M)||De(e,t,M,null,s,$)}}for(var D in s){var M=s[D];if($=a[D],s.hasOwnProperty(D)&&(M!=null||$!=null))switch(D){case"type":d=M;break;case"name":o=M;break;case"checked":C=M;break;case"defaultChecked":q=M;break;case"value":y=M;break;case"defaultValue":b=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,t));break;default:M!==$&&De(e,t,D,M,s,$)}}_i(e,y,b,_,C,q,d,o);return;case"select":M=y=b=D=null;for(d in a)if(_=a[d],a.hasOwnProperty(d)&&_!=null)switch(d){case"value":break;case"multiple":M=_;default:s.hasOwnProperty(d)||De(e,t,d,null,s,_)}for(o in s)if(d=s[o],_=a[o],s.hasOwnProperty(o)&&(d!=null||_!=null))switch(o){case"value":D=d;break;case"defaultValue":b=d;break;case"multiple":y=d;default:d!==_&&De(e,t,o,d,s,_)}t=b,a=y,s=M,D!=null?ks(e,!!a,D,!1):!!s!=!!a&&(t!=null?ks(e,!!a,t,!0):ks(e,!!a,a?[]:"",!1));return;case"textarea":M=D=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:De(e,t,b,null,s,o)}for(y in s)if(o=s[y],d=a[y],s.hasOwnProperty(y)&&(o!=null||d!=null))switch(y){case"value":D=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==d&&De(e,t,y,o,s,d)}Ec(e,D,M);return;case"option":for(var de in a)if(D=a[de],a.hasOwnProperty(de)&&D!=null&&!s.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:De(e,t,de,null,s,D)}for(_ in s)if(D=s[_],M=a[_],s.hasOwnProperty(_)&&D!==M&&(D!=null||M!=null))switch(_){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:De(e,t,_,D,s,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)D=a[oe],a.hasOwnProperty(oe)&&D!=null&&!s.hasOwnProperty(oe)&&De(e,t,oe,null,s,D);for(C in s)if(D=s[C],M=a[C],s.hasOwnProperty(C)&&D!==M&&(D!=null||M!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,t));break;default:De(e,t,C,D,s,M)}return;default:if(Ni(t)){for(var Re in a)D=a[Re],a.hasOwnProperty(Re)&&D!==void 0&&!s.hasOwnProperty(Re)&&cu(e,t,Re,void 0,s,D);for(q in s)D=s[q],M=a[q],!s.hasOwnProperty(q)||D===M||D===void 0&&M===void 0||cu(e,t,q,D,s,M);return}}for(var k in a)D=a[k],a.hasOwnProperty(k)&&D!=null&&!s.hasOwnProperty(k)&&De(e,t,k,null,s,D);for($ in s)D=s[$],M=a[$],!s.hasOwnProperty($)||D===M||D==null&&M==null||De(e,t,$,D,s,M)}var du=null,fu=null;function zr(e){return e.nodeType===9?e:e.ownerDocument}function Ah(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gu=null;function uy(){var e=window.event;return e&&e.type==="popstate"?e===gu?!1:(gu=e,!0):(gu=null,!1)}var Dh=typeof setTimeout=="function"?setTimeout:void 0,cy=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,dy=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(e){return Rh.resolve(null).then(e).catch(fy)}:Dh;function fy(e){setTimeout(function(){throw e})}function Da(e){return e==="head"}function Mh(e,t){var a=t,s=0,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<s&&8>s){a=s;var y=e.ownerDocument;if(a&1&&ml(y.documentElement),a&2&&ml(y.body),a&4)for(a=y.head,ml(a),y=a.firstChild;y;){var b=y.nextSibling,_=y.nodeName;y[An]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=b}}if(o===0){e.removeChild(d),_l(t);return}o--}else a==="$"||a==="$?"||a==="$!"?o++:s=a.charCodeAt(0)-48;else s=0;a=d}while(a);_l(t)}function mu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mu(a),bi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function hy(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[An])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function gy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gt(e.nextSibling),e===null))return null;return e}function yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function my(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var pu=null;function Uh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function zh(e,t,a){switch(t=zr(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function ml(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bi(e)}var Lt=new Map,qh=new Set;function qr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fa=Y.d;Y.d={f:yy,r:py,D:vy,C:by,L:xy,m:wy,X:_y,S:jy,M:Sy};function yy(){var e=fa.f(),t=Tr();return e||t}function py(e){var t=js(e);t!==null&&t.tag===5&&t.type==="form"?af(t):fa.r(e)}var an=typeof document>"u"?null:document;function Lh(e,t,a){var s=an;if(s&&typeof t=="string"&&t){var o=Ot(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),qh.has(o)||(qh.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),ot(t,"link",e),tt(t),s.head.appendChild(t)))}}function vy(e){fa.D(e),Lh("dns-prefetch",e,null)}function by(e,t){fa.C(e,t),Lh("preconnect",e,t)}function xy(e,t,a){fa.L(e,t,a);var s=an;if(s&&e&&t){var o='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Ot(a.imageSizes)+'"]')):o+='[href="'+Ot(e)+'"]';var d=o;switch(t){case"style":d=sn(e);break;case"script":d=nn(e)}Lt.has(d)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Lt.set(d,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(yl(d))||t==="script"&&s.querySelector(pl(d))||(t=s.createElement("link"),ot(t,"link",e),tt(t),s.head.appendChild(t)))}}function wy(e,t){fa.m(e,t);var a=an;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ot(s)+'"][href="'+Ot(e)+'"]',d=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=nn(e)}if(!Lt.has(d)&&(e=v({rel:"modulepreload",href:e},t),Lt.set(d,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(d)))return}s=a.createElement("link"),ot(s,"link",e),tt(s),a.head.appendChild(s)}}}function jy(e,t,a){fa.S(e,t,a);var s=an;if(s&&e){var o=_s(s).hoistableStyles,d=sn(e);t=t||"default";var y=o.get(d);if(!y){var b={loading:0,preload:null};if(y=s.querySelector(yl(d)))b.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Lt.get(d))&&vu(e,a);var _=y=s.createElement("link");tt(_),ot(_,"link",e),_._p=new Promise(function(C,q){_.onload=C,_.onerror=q}),_.addEventListener("load",function(){b.loading|=1}),_.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Lr(y,t,s)}y={type:"stylesheet",instance:y,count:1,state:b},o.set(d,y)}}}function _y(e,t){fa.X(e,t);var a=an;if(a&&e){var s=_s(a).hoistableScripts,o=nn(e),d=s.get(o);d||(d=a.querySelector(pl(o)),d||(e=v({src:e,async:!0},t),(t=Lt.get(o))&&bu(e,t),d=a.createElement("script"),tt(d),ot(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function Sy(e,t){fa.M(e,t);var a=an;if(a&&e){var s=_s(a).hoistableScripts,o=nn(e),d=s.get(o);d||(d=a.querySelector(pl(o)),d||(e=v({src:e,async:!0,type:"module"},t),(t=Lt.get(o))&&bu(e,t),d=a.createElement("script"),tt(d),ot(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function Bh(e,t,a,s){var o=(o=ae.current)?qr(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=sn(a.href),a=_s(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=sn(a.href);var d=_s(o).hoistableStyles,y=d.get(e);if(y||(o=o.ownerDocument||o,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=o.querySelector(yl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Lt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Lt.set(e,a),d||Ny(o,e,a,y.state))),t&&s===null)throw Error(i(528,""));return y}if(t&&s!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=nn(a),a=_s(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function sn(e){return'href="'+Ot(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function Hh(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Ny(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ot(t,"link",a),tt(t),e.head.appendChild(t))}function nn(e){return'[src="'+Ot(e)+'"]'}function pl(e){return"script[async]"+e}function $h(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(s)return t.instance=s,tt(s),s;var o=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),tt(s),ot(s,"style",o),Lr(s,a.precedence,e),t.instance=s;case"stylesheet":o=sn(a.href);var d=e.querySelector(yl(o));if(d)return t.state.loading|=4,t.instance=d,tt(d),d;s=Hh(a),(o=Lt.get(o))&&vu(s,o),d=(e.ownerDocument||e).createElement("link"),tt(d);var y=d;return y._p=new Promise(function(b,_){y.onload=b,y.onerror=_}),ot(d,"link",s),t.state.loading|=4,Lr(d,a.precedence,e),t.instance=d;case"script":return d=nn(a.src),(o=e.querySelector(pl(d)))?(t.instance=o,tt(o),o):(s=a,(o=Lt.get(d))&&(s=v({},a),bu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),tt(o),ot(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Lr(s,a.precedence,e));return t.instance}function Lr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,d=o,y=0;y<s.length;y++){var b=s[y];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function vu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Br=null;function Gh(e,t,a){if(Br===null){var s=new Map,o=Br=new Map;o.set(a,s)}else o=Br,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[An]||d[ct]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(t)||"";y=e+y;var b=s.get(y);b?b.push(d):s.set(y,[d])}}return s}function Yh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ky(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vl=null;function Ey(){}function Ty(e,t,a){if(vl===null)throw Error(i(475));var s=vl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=sn(a.href),d=e.querySelector(yl(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Hr.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=d,tt(d);return}d=e.ownerDocument||e,a=Hh(a),(o=Lt.get(o))&&vu(a,o),d=d.createElement("link"),tt(d);var y=d;y._p=new Promise(function(b,_){y.onload=b,y.onerror=_}),ot(d,"link",a),t.instance=d}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=Hr.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function Cy(){if(vl===null)throw Error(i(475));var e=vl;return e.stylesheets&&e.count===0&&xu(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&xu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Hr(){if(this.count--,this.count===0){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $r=null;function xu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$r=new Map,t.forEach(Ay,e),$r=null,Hr.call(e))}function Ay(e,t){if(!(t.state.loading&4)){var a=$r.get(e);if(a)var s=a.get(null);else{a=new Map,$r.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var y=o[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),s=y)}s&&a.set(null,s)}o=t.instance,y=o.getAttribute("data-precedence"),d=a.get(y)||s,d===s&&a.set(null,o),a.set(y,o),this.count++,s=Hr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var bl={$$typeof:E,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Oy(e,t,a,s,o,d,y,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Vh(e,t,a,s,o,d,y,b,_,C,q,$){return e=new Oy(e,t,a,y,b,_,C,$),t=1,d===!0&&(t|=24),d=_t(3,null,null,t),e.current=d,d.stateNode=e,t=eo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:a,cache:t},no(d),e}function Xh(e){return e?(e=Us,e):Us}function Kh(e,t,a,s,o,d){o=Xh(o),s.context===null?s.context=o:s.pendingContext=o,s=ba(t),s.payload={element:a},d=d===void 0?null:d,d!==null&&(s.callback=d),a=xa(e,s,t),a!==null&&(Tt(a,e,t),Zn(a,e,t))}function Ih(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function wu(e,t){Ih(e,t),(e=e.alternate)&&Ih(e,t)}function Zh(e){if(e.tag===13){var t=Ms(e,67108864);t!==null&&Tt(t,e,67108864),wu(e,67108864)}}var Gr=!0;function Dy(e,t,a,s){var o=O.T;O.T=null;var d=Y.p;try{Y.p=2,ju(e,t,a,s)}finally{Y.p=d,O.T=o}}function Ry(e,t,a,s){var o=O.T;O.T=null;var d=Y.p;try{Y.p=8,ju(e,t,a,s)}finally{Y.p=d,O.T=o}}function ju(e,t,a,s){if(Gr){var o=_u(s);if(o===null)uu(e,t,s,Yr,a),Jh(e,s);else if(Uy(o,e,t,a,s))s.stopPropagation();else if(Jh(e,s),t&4&&-1<My.indexOf(e)){for(;o!==null;){var d=js(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=He(d.pendingLanes);if(y!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var _=1<<31-X(y);b.entanglements[1]|=_,y&=~_}Pt(d),(ke&6)===0&&(kr=Ct()+500,fl(0))}}break;case 13:b=Ms(d,2),b!==null&&Tt(b,d,2),Tr(),wu(d,2)}if(d=_u(s),d===null&&uu(e,t,s,Yr,a),d===o)break;o=d}o!==null&&s.stopPropagation()}else uu(e,t,s,null,a)}}function _u(e){return e=Ei(e),Su(e)}var Yr=null;function Su(e){if(Yr=null,e=ws(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yr=e,null}function Ph(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(di()){case zl:return 2;case ql:return 8;case vs:case fi:return 32;case Ll:return 268435456;default:return 32}default:return 32}}var Nu=!1,Ra=null,Ma=null,Ua=null,xl=new Map,wl=new Map,za=[],My="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jh(e,t){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(t.pointerId)}}function jl(e,t,a,s,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:d,targetContainers:[o]},t!==null&&(t=js(t),t!==null&&Zh(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Uy(e,t,a,s,o){switch(t){case"focusin":return Ra=jl(Ra,e,t,a,s,o),!0;case"dragenter":return Ma=jl(Ma,e,t,a,s,o),!0;case"mouseover":return Ua=jl(Ua,e,t,a,s,o),!0;case"pointerover":var d=o.pointerId;return xl.set(d,jl(xl.get(d)||null,e,t,a,s,o)),!0;case"gotpointercapture":return d=o.pointerId,wl.set(d,jl(wl.get(d)||null,e,t,a,s,o)),!0}return!1}function Wh(e){var t=ws(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Tg(e.priority,function(){if(a.tag===13){var s=Et();s=yi(s);var o=Ms(a,s);o!==null&&Tt(o,a,s),wu(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=_u(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);ki=s,a.target.dispatchEvent(s),ki=null}else return t=js(a),t!==null&&Zh(t),e.blockedOn=a,!1;t.shift()}return!0}function Fh(e,t,a){Qr(e)&&a.delete(t)}function zy(){Nu=!1,Ra!==null&&Qr(Ra)&&(Ra=null),Ma!==null&&Qr(Ma)&&(Ma=null),Ua!==null&&Qr(Ua)&&(Ua=null),xl.forEach(Fh),wl.forEach(Fh)}function Vr(e,t){e.blockedOn===t&&(e.blockedOn=null,Nu||(Nu=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,zy)))}var Xr=null;function e0(e){Xr!==e&&(Xr=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Xr===e&&(Xr=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Su(s||a)===null)continue;break}var d=js(a);d!==null&&(e.splice(t,3),t-=3,So(d,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function _l(e){function t(_){return Vr(_,e)}Ra!==null&&Vr(Ra,e),Ma!==null&&Vr(Ma,e),Ua!==null&&Vr(Ua,e),xl.forEach(t),wl.forEach(t);for(var a=0;a<za.length;a++){var s=za[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<za.length&&(a=za[0],a.blockedOn===null);)Wh(a),a.blockedOn===null&&za.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],d=a[s+1],y=o[yt]||null;if(typeof d=="function")y||e0(a);else if(y){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,y=d[yt]||null)b=y.formAction;else if(Su(o)!==null)continue}else b=y.action;typeof b=="function"?a[s+1]=b:(a.splice(s,3),s-=3),e0(a)}}}function ku(e){this._internalRoot=e}Kr.prototype.render=ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,s=Et();Kh(a,s,e,t,null,null)},Kr.prototype.unmount=ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kh(e.current,2,null,e,null,null),Tr(),t[xs]=null}};function Kr(e){this._internalRoot=e}Kr.prototype.unstable_scheduleHydration=function(e){if(e){var t=yc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<za.length&&t!==0&&t<za[a].priority;a++);za.splice(a,0,e),a===0&&Wh(e)}};var t0=n.version;if(t0!=="19.1.1")throw Error(i(527,t0,"19.1.1"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var qy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ir.isDisabled&&Ir.supportsFiber)try{Xa=Ir.inject(qy),ht=Ir}catch{}}return Nl.createRoot=function(e,t){if(!c(e))throw Error(i(299));var a=!1,s="",o=pf,d=vf,y=bf,b=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=Vh(e,1,!1,null,null,a,s,o,d,y,b,null),e[xs]=t.current,ou(e),new ku(t)},Nl.hydrateRoot=function(e,t,a){if(!c(e))throw Error(i(299));var s=!1,o="",d=pf,y=vf,b=bf,_=null,C=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks),a.formState!==void 0&&(C=a.formState)),t=Vh(e,1,!0,t,a??null,s,o,d,y,b,_,C),t.context=Xh(null),a=t.current,s=Et(),s=yi(s),o=ba(s),o.callback=null,xa(a,o,s),a=s,t.current.lanes=a,Cn(t,a),Pt(t),e[xs]=t.current,ou(e),new Kr(t)},Nl.version="19.1.1",Nl}var d0;function Iy(){if(d0)return Cu.exports;d0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(n){console.error(n)}}return u(),Cu.exports=Ky(),Cu.exports}var Zy=Iy();const Py=sc(Zy);var Me=(u=>(u.STUDENT="student",u.INSTRUCTOR="instructor",u.ADMIN="admin",u))(Me||{}),wt=(u=>(u.TEXT="text",u.VIDEO="video",u.PDF="pdf",u.QUIZ="quiz",u))(wt||{}),El=(u=>(u.YOUTUBE="youtube",u.VIMEO="vimeo",u.SELF_HOSTED="self_hosted",u))(El||{});const Jy=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("polygon",{points:"10 8 16 12 10 16 10 8"})]}),ei=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),l.jsx("path",{d:"m9 12 2 2 4-4"})]}),vn=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),l.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),l.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),l.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]}),Wy=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"m16 6 4 14"}),l.jsx("path",{d:"M12 6v14"}),l.jsx("path",{d:"M8 8v12"}),l.jsx("path",{d:"M4 4v16"})]}),ms=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("circle",{cx:"12",cy:"10",r:"3"}),l.jsx("path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"})]}),K0=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l-.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),I0=u=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:l.jsx("path",{d:"m15 18-6-6 6-6"})}),Z0=u=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:l.jsx("path",{d:"m9 18 6-6-6-6"})}),P0=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("polyline",{points:"12 6 12 12 16 14"})]}),Ga=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),l.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),lc=u=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:l.jsx("path",{d:"m6 9 6 6 6-6"})}),ai=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("circle",{cx:"12",cy:"8",r:"7"}),l.jsx("polyline",{points:"8.21 13.89 7 23 12 17 17 23 15.79 13.88"})]}),f0=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),l.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),bn=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),l.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),l.jsx("path",{d:"M12 11h4"}),l.jsx("path",{d:"M12 16h4"}),l.jsx("path",{d:"M8 11h.01"}),l.jsx("path",{d:"M8 16h.01"})]}),Fy=u=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:l.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),ep=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),l.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),gs=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),si=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),l.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),l.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),xn=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),l.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),wn=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M3 6h18"}),l.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),l.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),l.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Ya=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),l.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),J0=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),l.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),l.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),tp=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),l.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),W0=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l.jsx("polyline",{points:"16 17 21 12 16 7"}),l.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),F0=u=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:l.jsx("path",{d:"m18 15-6-6-6 6"})}),eg=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("path",{d:"m21 21-4.3-4.3"})]}),ap=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),l.jsx("polyline",{points:"7 10 12 15 17 10"}),l.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),_n=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Cl=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),l.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),ti=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),l.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),l.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),l.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),ni=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"m22 8-6 4 6 4V8Z"}),l.jsx("rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2"})]}),tg=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("circle",{cx:"12",cy:"12",r:"4"}),l.jsx("line",{x1:"4.93",y1:"4.93",x2:"9.17",y2:"9.17"}),l.jsx("line",{x1:"14.83",y1:"14.83",x2:"19.07",y2:"19.07"}),l.jsx("line",{x1:"14.83",y1:"9.17",x2:"19.07",y2:"4.93"}),l.jsx("line",{x1:"14.83",y1:"9.17",x2:"18.36",y2:"5.64"}),l.jsx("line",{x1:"4.93",y1:"19.07",x2:"9.17",y2:"14.83"})]}),sp=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),h0=u=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...u,children:[l.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),l.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),l.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),l.jsx("line",{x1:"2",x2:"22",y1:"2",y2:"22"})]}),np=u=>l.jsxs("svg",{...u,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),l.jsx("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"})]}),lp=u=>l.jsxs("svg",{...u,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"19",y1:"4",x2:"10",y2:"4"}),l.jsx("line",{x1:"14",y1:"20",x2:"5",y2:"20"}),l.jsx("line",{x1:"15",y1:"4",x2:"9",y2:"20"})]}),rp=u=>l.jsxs("svg",{...u,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"}),l.jsx("line",{x1:"4",y1:"21",x2:"20",y2:"21"})]}),ip=u=>l.jsxs("svg",{...u,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),l.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),l.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),l.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),l.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),l.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),op=u=>l.jsxs("svg",{...u,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"10",y1:"6",x2:"21",y2:"6"}),l.jsx("line",{x1:"10",y1:"12",x2:"21",y2:"12"}),l.jsx("line",{x1:"10",y1:"18",x2:"21",y2:"18"}),l.jsx("path",{d:"M4 6h1v4"}),l.jsx("path",{d:"M4 10h2"}),l.jsx("path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"})]}),up=({user:u,viewAsRole:n,onSetViewAsRole:r})=>{if(u.role===Me.STUDENT)return null;const c={[Me.ADMIN]:[Me.ADMIN,Me.INSTRUCTOR,Me.STUDENT],[Me.INSTRUCTOR]:[Me.INSTRUCTOR,Me.STUDENT],[Me.STUDENT]:[]}[u.role];return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"View as:"}),l.jsx("select",{value:n,onChange:f=>r(f.target.value),className:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1.5 text-sm font-semibold focus:ring-pink-500 focus:border-pink-500 capitalize",children:c.map(f=>l.jsx("option",{value:f,className:"capitalize",children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]})},cp=({user:u,viewAsRole:n,onSetViewAsRole:r,onLogout:i,onNavigate:c})=>{const[f,h]=H.useState(!1);return l.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 sm:px-6 h-24 flex items-center justify-between z-30 sticky top-0",children:[l.jsx("div",{className:"flex items-center gap-8",children:l.jsx(up,{user:u,viewAsRole:n,onSetViewAsRole:r})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{className:"relative text-gray-500 dark:text-gray-400 hover:text-pink-500 transition-colors",children:[l.jsx(tp,{className:"w-6 h-6"}),l.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-pink-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-pink-500"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>h(!f),className:"flex items-center space-x-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full py-1 pr-3 pl-1 transition-colors",onBlur:()=>setTimeout(()=>h(!1),200),children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-100 dark:bg-pink-900/50 flex items-center justify-center",children:l.jsx(ms,{className:"w-8 h-8 text-pink-500"})}),l.jsxs("div",{className:"text-left hidden md:block",children:[l.jsxs("p",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:[u.firstName," ",u.lastName]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:u.role})]}),l.jsx(lc,{className:`w-5 h-5 text-gray-500 dark:text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),f&&l.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl py-2 border border-gray-200 dark:border-gray-700 z-40",children:[l.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("p",{className:"font-semibold text-gray-800 dark:text-white",children:[u.firstName," ",u.lastName]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u.email})]}),l.jsxs("div",{className:"py-1",children:[l.jsxs("a",{href:"#",onClick:m=>{m.preventDefault(),c("profile")},className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[l.jsx(ms,{className:"w-4 h-4 mr-3"})," Profile"]}),l.jsxs("a",{href:"#",onClick:m=>{m.preventDefault(),c("profile")},className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[l.jsx(K0,{className:"w-4 h-4 mr-3"})," Settings"]})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),l.jsxs("a",{href:"#",onClick:m=>{m.preventDefault(),i()},className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/50",children:[l.jsx(W0,{className:"w-4 h-4 mr-3"})," Logout"]})]})]})]})]})},ag=({categoryNode:u,onSelectCategory:n,selectedCategoryId:r,level:i})=>{const[c,f]=H.useState(!0),h=r===u.id,m=u.children.length>0;return l.jsxs("li",{children:[l.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors group ${h?"bg-pink-100 dark:bg-pink-900/50 text-pink-600 dark:text-pink-400":""}`,style:{paddingLeft:`${12+i*16}px`},children:[l.jsx("a",{href:"#",onClick:g=>{g.preventDefault(),n(u.id)},className:"flex-grow font-semibold text-sm",children:u.name}),m&&l.jsx("button",{onClick:()=>f(!c),className:"p-1",children:c?l.jsx(F0,{className:"w-4 h-4"}):l.jsx(lc,{className:"w-4 h-4"})})]}),m&&c&&l.jsx("ul",{className:"pl-2",children:u.children.map(g=>l.jsx(ag,{categoryNode:g,onSelectCategory:n,selectedCategoryId:r,level:i+1},g.id))})]})},g0=({icon:u,label:n,active:r,onClick:i})=>l.jsx("li",{children:l.jsxs("a",{href:"#",onClick:c=>{c.preventDefault(),i==null||i()},className:`flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors group ${r?"bg-pink-100 dark:bg-pink-900/50 text-pink-600 dark:text-pink-400":""}`,children:[X0.cloneElement(u,{className:`w-6 h-6 transition-colors group-hover:text-pink-500 dark:group-hover:text-pink-400 ${r?"text-pink-600 dark:text-pink-400":"text-gray-400 dark:text-gray-500"}`}),l.jsx("span",{className:"ml-4 font-semibold",children:n})]})}),dp=({userRole:u,viewAsRole:n,onNavigate:r,currentView:i,isMobileMenuOpen:c,closeMenu:f,onLogout:h,categories:m,onSelectCategory:g,selectedCategoryId:p})=>{const v={[Me.STUDENT]:[{view:"dashboard",icon:l.jsx(vn,{}),label:"Dashboard"},{view:"inbox",icon:l.jsx(Cl,{}),label:"Inbox"},{view:"calendar",icon:l.jsx(ti,{}),label:"Calendar"},{view:"certifications",icon:l.jsx(ai,{}),label:"Certifications"},{view:"help",icon:l.jsx(tg,{}),label:"Help"}],[Me.INSTRUCTOR]:[{view:"dashboard",icon:l.jsx(vn,{}),label:"Dashboard"},{view:"my-courses",icon:l.jsx(Ga,{}),label:"My Courses"},{view:"course-categories",icon:l.jsx(bn,{}),label:"Categories"},{view:"student-management",icon:l.jsx(gs,{}),label:"Student Management"},{view:"live-sessions",icon:l.jsx(ni,{}),label:"Live Sessions"},{view:"inbox",icon:l.jsx(Cl,{}),label:"Inbox"},{view:"calendar",icon:l.jsx(ti,{}),label:"Calendar"},{view:"analytics",icon:l.jsx(si,{}),label:"Analytics"}],[Me.ADMIN]:[{view:"dashboard",icon:l.jsx(vn,{}),label:"Dashboard"},{view:"my-courses",icon:l.jsx(Ga,{}),label:"My Courses"},{view:"course-categories",icon:l.jsx(bn,{}),label:"Categories"},{view:"student-management",icon:l.jsx(gs,{}),label:"Student Management"},{view:"analytics",icon:l.jsx(si,{}),label:"Analytics"},{view:"user-management",icon:l.jsx(gs,{}),label:"User Management"},{view:"platform-settings",icon:l.jsx(K0,{}),label:"Settings"},{view:"live-sessions",icon:l.jsx(ni,{}),label:"Live Sessions"},{view:"inbox",icon:l.jsx(Cl,{}),label:"Inbox"},{view:"calendar",icon:l.jsx(ti,{}),label:"Calendar"}]},w=[{view:"profile",icon:l.jsx(ms,{}),label:"Profile"}],S=(E,G=null)=>E.filter(B=>B.parentId===G).map(B=>({...B,children:S(E,B.id)})),j=S(m),A=()=>v[n]||[],R=()=>{f(),h()},U="https://i.postimg.cc/TYYjfM7n/Nexus-logo.jpg",I=E=>{r(E),f()},ee=A();return l.jsxs("aside",{className:`fixed inset-y-0 left-0 md:relative md:translate-x-0 w-64 bg-white dark:bg-gray-800 h-full flex flex-col z-50 transition-transform duration-300 ease-in-out ${c?"translate-x-0":"-translate-x-full"}`,children:[l.jsxs("div",{className:"flex items-center justify-between h-24 px-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[l.jsx("a",{href:"#",onClick:E=>{E.preventDefault(),I("dashboard")},className:"flex items-center gap-2",children:l.jsx("img",{src:U,alt:"Nexus by Intersect Logo",className:"h-20"})}),l.jsx("button",{onClick:f,className:"md:hidden p-2 text-gray-500 dark:text-gray-400",children:l.jsx(_n,{className:"w-6 h-6"})})]}),l.jsxs("nav",{className:"flex-grow p-4 space-y-2 overflow-y-auto",children:[l.jsx("p",{className:"px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Menu"}),l.jsx("ul",{children:ee.map(E=>l.jsx(g0,{icon:E.icon,label:E.label,active:i===E.view,onClick:()=>I(E.view)},E.view))}),l.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("p",{className:"px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Categories"}),l.jsxs("ul",{children:[l.jsx("li",{children:l.jsxs("a",{href:"#",onClick:E=>{E.preventDefault(),g(null)},className:`flex items-center p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors group font-semibold text-sm ${p===null&&i==="dashboard"?"bg-pink-100 dark:bg-pink-900/50 text-pink-600 dark:text-pink-400":""}`,children:[l.jsx(Wy,{className:`w-5 h-5 mr-3 ${p===null&&i==="dashboard"?"text-pink-600 dark:text-pink-400":"text-gray-400 dark:text-gray-500"}`}),"All Courses"]})}),j.map(E=>l.jsx(ag,{categoryNode:E,onSelectCategory:g,selectedCategoryId:p,level:0},E.id))]})]}),l.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("p",{className:"px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Account"}),l.jsxs("ul",{children:[w.map(E=>l.jsx(g0,{icon:E.icon,label:E.label,active:i===E.view,onClick:()=>I(E.view)},E.view)),l.jsx("li",{children:l.jsxs("a",{href:"#",onClick:E=>{E.preventDefault(),R()},className:"flex items-center p-3 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors group",children:[l.jsx(W0,{className:"w-6 h-6 text-gray-400 dark:text-gray-500 transition-colors group-hover:text-pink-500 dark:group-hover:text-pink-400"}),l.jsx("span",{className:"ml-4 font-semibold",children:"Logout"})]})})]})]})]})]})},rc=({progress:u,size:n="md"})=>{const r=n==="sm"?"h-1.5":"h-2.5";return l.jsx("div",{className:`w-full bg-gray-200 dark:bg-gray-700 rounded-full ${r}`,children:l.jsx("div",{className:"bg-pink-500 rounded-full",style:{width:`${Math.max(0,Math.min(100,u))}%`,height:"100%"}})})},$u=({course:u,user:n,progress:r,onSelect:i,onEdit:c,onDelete:f,onToggleVisibility:h,categoryName:m})=>{const g=n.id===u.instructorId,p=n.role===Me.INSTRUCTOR&&g||n.role===Me.ADMIN;return l.jsxs("div",{onClick:()=>i(u),className:`bg-white dark:bg-gray-800 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group cursor-pointer flex flex-col ${(u.isHidden||!u.isPublished)&&p?"opacity-70":""}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:u.thumbnail,alt:u.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),l.jsx("div",{className:"absolute top-3 right-3 bg-gray-900/50 text-white text-xs font-semibold px-2 py-1 rounded-full",children:m}),l.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[u.isHidden&&p&&l.jsxs("div",{className:"bg-yellow-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[l.jsx(h0,{className:"w-3 h-3"}),"HIDDEN"]}),!u.isPublished&&p&&l.jsx("div",{className:"bg-gray-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"DRAFT"})]})]}),l.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[l.jsx("h3",{className:"text-lg font-bold group-hover:text-pink-500 transition-colors",children:u.title}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["by ",u.instructorName]}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mt-3 space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-1.5",children:[l.jsx(Ga,{className:"w-4 h-4"}),l.jsxs("span",{children:[u.totalLessons," Lessons"]})]}),l.jsxs("div",{className:"flex items-center space-x-1.5",children:[l.jsx(P0,{className:"w-4 h-4"}),l.jsxs("span",{children:[u.estimatedDuration," hrs"]})]})]}),l.jsx("div",{className:"mt-auto pt-4",children:r!==void 0&&n.role===Me.STUDENT?l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Progress"}),l.jsxs("span",{className:"text-xs font-bold text-pink-500",children:[r,"%"]})]}),l.jsx(rc,{progress:r,size:"md"})]}):p?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:v=>{v.stopPropagation(),c==null||c(u)},className:"w-full bg-blue-500 text-white text-sm font-semibold py-2.5 rounded-lg hover:bg-blue-600 transition-all flex items-center justify-center gap-2",children:[l.jsx(xn,{className:"w-4 h-4"}),"Edit"]}),l.jsx("button",{onClick:v=>{v.stopPropagation(),h==null||h(u)},className:"flex-shrink-0 bg-yellow-100 text-yellow-600 p-2.5 rounded-lg hover:bg-yellow-200 dark:bg-yellow-900/50 dark:text-yellow-400 dark:hover:bg-yellow-900 transition-colors","aria-label":u.isHidden?"Make course visible":"Hide course",children:u.isHidden?l.jsx(sp,{className:"w-4 h-4"}):l.jsx(h0,{className:"w-4 h-4"})}),l.jsx("button",{onClick:v=>{v.stopPropagation(),f==null||f(u)},className:"flex-shrink-0 bg-red-100 text-red-600 p-2.5 rounded-lg hover:bg-red-200 dark:bg-red-900/50 dark:text-red-400 dark:hover:bg-red-900 transition-colors","aria-label":"Delete course",children:l.jsx(wn,{className:"w-4 h-4"})})]}):l.jsx("div",{className:"h-[44px]"})})]})]})},Gu=(u,n=6)=>Array.from({length:n},(r,i)=>({name:`${u} ${i+1}`,value:Math.floor(Math.random()*400)+50})),Yu=({data:u,color:n})=>l.jsx("div",{className:"w-full h-64 bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg flex items-end justify-around gap-2",children:u.map((r,i)=>l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full",children:[l.jsx("div",{className:"w-3/4 rounded-t-md",style:{height:`${r.value/Math.max(...u.map(c=>c.value),1)*100}%`,backgroundColor:n},title:`${r.name}: ${r.value}`}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:r.name})]},i))}),$a=({icon:u,value:n,label:r,color:i})=>l.jsxs("div",{className:`flex items-center p-6 rounded-2xl bg-gradient-to-br ${i} text-white shadow-lg`,children:[l.jsx("div",{className:"p-4 rounded-full bg-white/20",children:u}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-2xl md:text-3xl font-bold",children:n}),l.jsx("p",{className:"text-sm font-medium opacity-80",children:r})]})]}),fp=({user:u,courses:n,enrollments:r,onSelectCourse:i,categories:c,selectedCategoryId:f})=>{const h=r.map(j=>j.courseId),m=n.filter(j=>h.includes(j.id)),g=(j,A)=>{const R=A.filter(U=>U.parentId===j);return R.length===0?[j]:[j,...R.flatMap(U=>g(U.id,A))]},p=H.useMemo(()=>{const j=n.filter(R=>!h.includes(R.id)&&!R.isHidden&&R.isPublished);if(!f)return j;const A=g(f,c);return j.filter(R=>A.includes(R.categoryId))},[n,h,f,c]),v=H.useMemo(()=>new Map(c.map(j=>[j.id,j.name])),[c]),w=f&&v.get(f)||"Explore Courses",S=j=>{var A;return((A=r.find(R=>R.courseId===j))==null?void 0:A.progress)||0};return l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[l.jsx(vn,{className:"w-16 h-16 mx-auto text-pink-500"}),l.jsxs("h1",{className:"mt-4 text-4xl md:text-5xl font-extrabold",children:["Welcome back, ",u.firstName,"!"]}),l.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-600 dark:text-gray-400",children:"Ready to continue your learning journey?"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-12",children:[l.jsx($a,{icon:l.jsx(Ga,{className:"w-8 h-8 text-white"}),value:r.filter(j=>j.progress>0&&j.progress<100).length,label:"Courses in Progress",color:"from-cyan-500 to-blue-500"}),l.jsx($a,{icon:l.jsx(ei,{className:"w-8 h-8 text-white"}),value:r.filter(j=>j.progress===100).length,label:"Courses Completed",color:"from-green-500 to-emerald-600"})]}),l.jsxs("section",{className:"mt-16",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"My Library"}),m.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 mt-6",children:m.map(j=>l.jsx($u,{course:j,user:u,progress:S(j.id),onSelect:i,categoryName:v.get(j.categoryId)||"Uncategorized"},j.id))}):l.jsx("div",{className:"mt-6 text-center py-12 bg-gray-100 dark:bg-gray-800 rounded-lg",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"You are not enrolled in any courses yet."})})]}),l.jsxs("section",{className:"mt-16",children:[l.jsx("h2",{className:"text-2xl font-bold",children:w}),p.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 mt-6",children:p.map(j=>l.jsx($u,{course:j,user:u,onSelect:i,categoryName:v.get(j.categoryId)||"Uncategorized"},j.id))}):l.jsx("div",{className:"mt-6 text-center py-12 bg-gray-100 dark:bg-gray-800 rounded-lg",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No courses found in this category."})})]})]})},hp=({user:u,courses:n,enrollments:r,onNavigate:i,onEditCourse:c,categories:f})=>{const h=n.filter(S=>S.instructorId===u.id),m=h.map(S=>S.id),g=r.filter(S=>m.includes(S.courseId)),p=new Set(g.map(S=>S.userId)).size,v=g.length>0?g.reduce((S,j)=>S+j.progress,0)/g.length:0,w=H.useMemo(()=>new Map(f.map(S=>[S.id,S.name])),[f]);return l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[l.jsx(vn,{className:"w-16 h-16 mx-auto text-pink-500"}),l.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-extrabold",children:"Instructor Dashboard"}),l.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-600 dark:text-gray-400",children:"Manage your courses and view student analytics."})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-12",children:[l.jsx($a,{icon:l.jsx(gs,{className:"w-8 h-8"}),value:p,label:"Total Students",color:"from-cyan-500 to-blue-500"}),l.jsx($a,{icon:l.jsx(Ga,{className:"w-8 h-8"}),value:h.length,label:"Your Courses",color:"from-pink-500 to-rose-500"}),l.jsx($a,{icon:l.jsx(si,{className:"w-8 h-8"}),value:`${Math.round(v)}%`,label:"Avg. Completion",color:"from-amber-500 to-orange-500"})]}),l.jsxs("div",{className:"mt-16 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Student Engagement"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"New enrollments over the last 6 months"}),l.jsx(Yu,{data:Gu("Month"),color:"var(--brand-purple)"})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Your Courses"}),l.jsxs("button",{onClick:()=>c(null),className:"flex items-center gap-2 text-sm font-semibold text-pink-500 hover:text-pink-600 dark:text-pink-400 dark:hover:text-pink-300 bg-pink-100/50 dark:bg-pink-900/30 hover:bg-pink-100 dark:hover:bg-pink-900/50 px-3 py-1.5 rounded-lg transition-all",children:[l.jsx(Ya,{className:"w-5 h-5"}),l.jsx("span",{children:"Add New Course"})]})]}),l.jsx("ul",{className:"space-y-4",children:h.length>0?h.map(S=>l.jsxs("li",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-blue-600 dark:text-blue-400",children:S.title}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:w.get(S.categoryId)})]}),l.jsxs("button",{onClick:()=>c(S),className:"flex items-center gap-2 text-sm font-semibold text-pink-500 hover:text-pink-600 dark:text-pink-400 dark:hover:text-pink-300 bg-pink-100/50 dark:bg-pink-900/30 hover:bg-pink-100 dark:hover:bg-pink-900/50 px-3 py-1.5 rounded-lg transition-all",children:[l.jsx(xn,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit"})]})]},S.id)):l.jsx("li",{className:"text-center py-8 text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:l.jsx("p",{children:"You haven't created any courses yet."})})})]})]})]})},gp=({user:u,courses:n,enrollments:r,allUsers:i})=>l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[l.jsx(vn,{className:"w-16 h-16 mx-auto text-pink-500"}),l.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-extrabold",children:"Platform Overview"}),l.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-600 dark:text-gray-400",children:"Key metrics for the Nexus LMS."})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-12",children:[l.jsx($a,{icon:l.jsx(gs,{className:"w-8 h-8"}),value:i.length,label:"Total Users",color:"from-blue-600 to-violet-600"}),l.jsx($a,{icon:l.jsx(Ga,{className:"w-8 h-8"}),value:n.length,label:"Total Courses",color:"from-pink-500 to-rose-500"}),l.jsx($a,{icon:l.jsx(si,{className:"w-8 h-8"}),value:r.length.toLocaleString(),label:"Total Enrollments",color:"from-teal-400 to-cyan-600"})]}),l.jsxs("div",{className:"mt-16 grid grid-cols-1 lg:grid-cols-5 gap-8",children:[l.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md",children:[l.jsx("h3",{className:"text-xl font-bold",children:"New User Signups"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Last 6 months"}),l.jsx(Yu,{data:Gu("Month"),color:"var(--brand-blue)"})]}),l.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Course Performance"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Average completion rate by category"}),l.jsx(Yu,{data:Gu("Course",4),color:"var(--brand-pink)"})]})]})]}),mp=({user:u,viewAsRole:n,courses:r,enrollments:i,allUsers:c,onSelectCourse:f,onNavigate:h,onEditCourse:m,categories:g,selectedCategoryId:p})=>{if(n===Me.INSTRUCTOR)return l.jsx(hp,{user:u,courses:r,enrollments:i,onNavigate:h,onEditCourse:m,categories:g});if(n===Me.ADMIN)return l.jsx(gp,{user:u,courses:r,enrollments:i,allUsers:c});const v=i.filter(w=>w.userId===u.id);return l.jsx(fp,{user:u,courses:r,enrollments:v,onSelectCourse:f,categories:g,selectedCategoryId:p})},yp="modulepreload",pp=function(u){return"/"+u},m0={},Ml=function(n,r,i){let c=Promise.resolve();if(r&&r.length>0){let h=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));c=h(r.map(p=>{if(p=pp(p),p in m0)return;m0[p]=!0;const v=p.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":yp,v||(S.as="script"),S.crossOrigin="",S.href=p,g&&S.setAttribute("nonce",g),document.head.appendChild(S),v)return new Promise((j,A)=>{S.addEventListener("load",j),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function f(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return c.then(h=>{for(const m of h||[])m.status==="rejected"&&f(m.reason);return n().catch(f)})},vp=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...r)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>Sn);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)};class ic extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class bp extends ic{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class y0 extends ic{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class p0 extends ic{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Qu;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Qu||(Qu={}));var xp=function(u,n,r,i){function c(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function m(v){try{p(i.next(v))}catch(w){h(w)}}function g(v){try{p(i.throw(v))}catch(w){h(w)}}function p(v){v.done?f(v.value):c(v.value).then(m,g)}p((i=i.apply(u,n||[])).next())})};class wp{constructor(n,{headers:r={},customFetch:i,region:c=Qu.Any}={}){this.url=n,this.headers=r,this.region=c,this.fetch=vp(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var i;return xp(this,void 0,void 0,function*(){try{const{headers:c,method:f,body:h}=r;let m={},{region:g}=r;g||(g=this.region);const p=new URL(`${this.url}/${n}`);g&&g!=="any"&&(m["x-region"]=g,p.searchParams.set("forceFunctionRegion",g));let v;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=h):typeof h=="string"?(m["Content-Type"]="text/plain",v=h):typeof FormData<"u"&&h instanceof FormData?v=h:(m["Content-Type"]="application/json",v=JSON.stringify(h)));const w=yield this.fetch(p.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:v}).catch(R=>{throw new bp(R)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new y0(w);if(!w.ok)throw new p0(w);let j=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return j==="application/json"?A=yield w.json():j==="application/octet-stream"?A=yield w.blob():j==="text/event-stream"?A=w:j==="multipart/form-data"?A=yield w.formData():A=yield w.text(),{data:A,error:null,response:w}}catch(c){return{data:null,error:c,response:c instanceof p0||c instanceof y0?c.context:void 0}}})}}var lt={},ln={},rn={},on={},un={},cn={},jp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=jp();const _p=jn.fetch,sg=jn.fetch.bind(jn),ng=jn.Headers,Sp=jn.Request,Np=jn.Response,Sn=Object.freeze(Object.defineProperty({__proto__:null,Headers:ng,Request:Sp,Response:Np,default:sg,fetch:_p},Symbol.toStringTag,{value:"Module"})),kp=By(Sn);var Zr={},v0;function lg(){if(v0)return Zr;v0=1,Object.defineProperty(Zr,"__esModule",{value:!0});class u extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Zr.default=u,Zr}var b0;function rg(){if(b0)return cn;b0=1;var u=cn&&cn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(cn,"__esModule",{value:!0});const n=u(kp),r=u(lg());class i{constructor(f){var h,m;this.shouldThrowOnError=!1,this.method=f.method,this.url=f.url,this.headers=new Headers(f.headers),this.schema=f.schema,this.body=f.body,this.shouldThrowOnError=(h=f.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=f.signal,this.isMaybeSingle=(m=f.isMaybeSingle)!==null&&m!==void 0?m:!1,f.fetch?this.fetch=f.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(f,h){return this.headers=new Headers(this.headers),this.headers.set(f,h),this}then(f,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,w,S,j;let A=null,R=null,U=null,I=p.status,ee=p.statusText;if(p.ok){if(this.method!=="HEAD"){const Z=await p.text();Z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=Z:R=JSON.parse(Z))}const G=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),B=(S=p.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");G&&B&&B.length>1&&(U=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(A={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,U=null,I=406,ee="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const G=await p.text();try{A=JSON.parse(G),Array.isArray(A)&&p.status===404&&(R=[],A=null,I=200,ee="OK")}catch{p.status===404&&G===""?(I=204,ee="No Content"):A={message:G}}if(A&&this.isMaybeSingle&&(!((j=A==null?void 0:A.details)===null||j===void 0)&&j.includes("0 rows"))&&(A=null,I=200,ee="OK"),A&&this.shouldThrowOnError)throw new r.default(A)}return{error:A,data:R,count:U,status:I,statusText:ee}});return this.shouldThrowOnError||(g=g.catch(p=>{var v,w,S;return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(w=p==null?void 0:p.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(S=p==null?void 0:p.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(f,h)}returns(){return this}overrideTypes(){return this}}return cn.default=i,cn}var x0;function ig(){if(x0)return un;x0=1;var u=un&&un.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(un,"__esModule",{value:!0});const n=u(rg());class r extends n.default{select(c){let f=!1;const h=(c??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:f=!0,nullsFirst:h,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${c}.${f?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:f,referencedTable:h=f}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,f,{foreignTable:h,referencedTable:m=h}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(p,`${f-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:f=!1,settings:h=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var v;const w=[c?"analyze":null,f?"verbose":null,h?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${S}"; options=${w};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return un.default=r,un}var w0;function oc(){if(w0)return on;w0=1;var u=on&&on.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(on,"__esModule",{value:!0});const n=u(ig());class r extends n.default{eq(c,f){return this.url.searchParams.append(c,`eq.${f}`),this}neq(c,f){return this.url.searchParams.append(c,`neq.${f}`),this}gt(c,f){return this.url.searchParams.append(c,`gt.${f}`),this}gte(c,f){return this.url.searchParams.append(c,`gte.${f}`),this}lt(c,f){return this.url.searchParams.append(c,`lt.${f}`),this}lte(c,f){return this.url.searchParams.append(c,`lte.${f}`),this}like(c,f){return this.url.searchParams.append(c,`like.${f}`),this}likeAllOf(c,f){return this.url.searchParams.append(c,`like(all).{${f.join(",")}}`),this}likeAnyOf(c,f){return this.url.searchParams.append(c,`like(any).{${f.join(",")}}`),this}ilike(c,f){return this.url.searchParams.append(c,`ilike.${f}`),this}ilikeAllOf(c,f){return this.url.searchParams.append(c,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(c,f){return this.url.searchParams.append(c,`ilike(any).{${f.join(",")}}`),this}is(c,f){return this.url.searchParams.append(c,`is.${f}`),this}in(c,f){const h=Array.from(new Set(f)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cs.{${f.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(f)}`),this}containedBy(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cd.{${f.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(f)}`),this}rangeGt(c,f){return this.url.searchParams.append(c,`sr.${f}`),this}rangeGte(c,f){return this.url.searchParams.append(c,`nxl.${f}`),this}rangeLt(c,f){return this.url.searchParams.append(c,`sl.${f}`),this}rangeLte(c,f){return this.url.searchParams.append(c,`nxr.${f}`),this}rangeAdjacent(c,f){return this.url.searchParams.append(c,`adj.${f}`),this}overlaps(c,f){return typeof f=="string"?this.url.searchParams.append(c,`ov.${f}`):this.url.searchParams.append(c,`ov.{${f.join(",")}}`),this}textSearch(c,f,{config:h,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const p=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${g}fts${p}.${f}`),this}match(c){return Object.entries(c).forEach(([f,h])=>{this.url.searchParams.append(f,`eq.${h}`)}),this}not(c,f,h){return this.url.searchParams.append(c,`not.${f}.${h}`),this}or(c,{foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,f,h){return this.url.searchParams.append(c,`${f}.${h}`),this}}return on.default=r,on}var j0;function og(){if(j0)return rn;j0=1;var u=rn&&rn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(rn,"__esModule",{value:!0});const n=u(oc());class r{constructor(c,{headers:f={},schema:h,fetch:m}){this.url=c,this.headers=new Headers(f),this.schema=h,this.fetch=m}select(c,{head:f=!1,count:h}={}){const m=f?"HEAD":"GET";let g=!1;const p=(c??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",p),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:f,defaultToNull:h=!0}={}){var m;const g="POST";if(f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const p=c.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(p.length>0){const v=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:f,ignoreDuplicates:h=!1,count:m,defaultToNull:g=!0}={}){var p;const v="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),f!==void 0&&this.url.searchParams.set("on_conflict",f),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const w=c.reduce((S,j)=>S.concat(Object.keys(j)),[]);if(w.length>0){const S=[...new Set(w)].map(j=>`"${j}"`);this.url.searchParams.set("columns",S.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(c,{count:f}={}){var h;const m="PATCH";return f&&this.headers.append("Prefer",`count=${f}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var f;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return rn.default=r,rn}var _0;function Ep(){if(_0)return ln;_0=1;var u=ln&&ln.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ln,"__esModule",{value:!0});const n=u(og()),r=u(oc());class i{constructor(f,{headers:h={},schema:m,fetch:g}={}){this.url=f,this.headers=new Headers(h),this.schemaName=m,this.fetch=g}from(f){const h=new URL(`${this.url}/${f}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new i(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,h={},{head:m=!1,get:g=!1,count:p}={}){var v;let w;const S=new URL(`${this.url}/rpc/${f}`);let j;m||g?(w=m?"HEAD":"GET",Object.entries(h).filter(([R,U])=>U!==void 0).map(([R,U])=>[R,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([R,U])=>{S.searchParams.append(R,U)})):(w="POST",j=h);const A=new Headers(this.headers);return p&&A.set("Prefer",`count=${p}`),new r.default({method:w,url:S,headers:A,schema:this.schemaName,body:j,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return ln.default=i,ln}var S0;function Tp(){if(S0)return lt;S0=1;var u=lt&&lt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(lt,"__esModule",{value:!0}),lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const n=u(Ep());lt.PostgrestClient=n.default;const r=u(og());lt.PostgrestQueryBuilder=r.default;const i=u(oc());lt.PostgrestFilterBuilder=i.default;const c=u(ig());lt.PostgrestTransformBuilder=c.default;const f=u(rg());lt.PostgrestBuilder=f.default;const h=u(lg());return lt.PostgrestError=h.default,lt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:f.default,PostgrestError:h.default},lt}var Cp=Tp();const Ap=sc(Cp),{PostgrestClient:Op,PostgrestQueryBuilder:rx,PostgrestFilterBuilder:ix,PostgrestTransformBuilder:ox,PostgrestBuilder:ux,PostgrestError:cx}=Ap;class Dp{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const i=this.getWebSocketConstructor();return new i(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Rp="2.15.5",Mp=`realtime-js/${Rp}`,Up="1.0.0",Vu=1e4,zp=1e3,qp=100;var Al;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(Al||(Al={}));var Fe;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Fe||(Fe={}));var Qt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Qt||(Qt={}));var Xu;(function(u){u.websocket="websocket"})(Xu||(Xu={}));var hs;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(hs||(hs={}));class Lp{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,r,i)}_decodeBroadcast(n,r,i){const c=r.getUint8(1),f=r.getUint8(2);let h=this.HEADER_LENGTH+2;const m=i.decode(n.slice(h,h+c));h=h+c;const g=i.decode(n.slice(h,h+f));h=h+f;const p=JSON.parse(i.decode(n.slice(h,n.byteLength)));return{ref:null,topic:m,event:g,payload:p}}}class ug{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(Le||(Le={}));const N0=(u,n,r={})=>{var i;const c=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((f,h)=>(f[h]=Bp(h,u,n,c),f),{})},Bp=(u,n,r,i)=>{const c=n.find(m=>m.name===u),f=c==null?void 0:c.type,h=r[u];return f&&!i.includes(f)?cg(f,h):Ku(h)},cg=(u,n)=>{if(u.charAt(0)==="_"){const r=u.slice(1,u.length);return Yp(n,r)}switch(u){case Le.bool:return Hp(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return $p(n);case Le.json:case Le.jsonb:return Gp(n);case Le.timestamp:return Qp(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Ku(n);default:return Ku(n)}},Ku=u=>u,Hp=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},$p=u=>{if(typeof u=="string"){const n=parseFloat(u);if(!Number.isNaN(n))return n}return u},Gp=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(n){return console.log(`JSON parse error: ${n}`),u}return u},Yp=(u,n)=>{if(typeof u!="string")return u;const r=u.length-1,i=u[r];if(u[0]==="{"&&i==="}"){let f;const h=u.slice(1,r);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(m=>cg(n,m))}return u},Qp=u=>typeof u=="string"?u.replace(" ","T"):u,dg=u=>{let n=u;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Ru{constructor(n,r,i={},c=Vu){this.channel=n,this.event=r,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var k0;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(k0||(k0={}));class Ol{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:f,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ol.syncState(this.state,c,f,h),this.pendingDiffs.forEach(g=>{this.state=Ol.syncDiff(this.state,g,f,h)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:f,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ol.syncDiff(this.state,c,f,h),m())}),this.onJoin((c,f,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:h})}),this.onLeave((c,f,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,c){const f=this.cloneDeep(n),h=this.transformState(r),m={},g={};return this.map(f,(p,v)=>{h[p]||(g[p]=v)}),this.map(h,(p,v)=>{const w=f[p];if(w){const S=v.map(U=>U.presence_ref),j=w.map(U=>U.presence_ref),A=v.filter(U=>j.indexOf(U.presence_ref)<0),R=w.filter(U=>S.indexOf(U.presence_ref)<0);A.length>0&&(m[p]=A),R.length>0&&(g[p]=R)}else m[p]=v}),this.syncDiff(f,{joins:m,leaves:g},i,c)}static syncDiff(n,r,i,c){const{joins:f,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(f,(m,g)=>{var p;const v=(p=n[m])!==null&&p!==void 0?p:[];if(n[m]=this.cloneDeep(g),v.length>0){const w=n[m].map(j=>j.presence_ref),S=v.filter(j=>w.indexOf(j.presence_ref)<0);n[m].unshift(...S)}i(m,v,g)}),this.map(h,(m,g)=>{let p=n[m];if(!p)return;const v=g.map(w=>w.presence_ref);p=p.filter(w=>v.indexOf(w.presence_ref)<0),n[m]=p,c(m,p,g),p.length===0&&delete n[m]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const c=n[i];return"metas"in c?r[i]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):r[i]=c,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var E0;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(E0||(E0={}));var Dl;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(Dl||(Dl={}));var ga;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(ga||(ga={}));class uc{constructor(n,r={config:{}},i){this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ru(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new ug(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new Ol(this),this.broadcastEndpointURL=dg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,r=this.timeout){var i,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,p=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(j=>j.filter))!==null&&c!==void 0?c:[],v=!!this.bindings[Dl.PRESENCE]&&this.bindings[Dl.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,w={},S={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(j=>n==null?void 0:n(ga.CHANNEL_ERROR,j)),this._onClose(()=>n==null?void 0:n(ga.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:j})=>{var A;if(this.socket.setAuth(),j===void 0){n==null||n(ga.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,U=(A=R==null?void 0:R.length)!==null&&A!==void 0?A:0,I=[];for(let ee=0;ee<U;ee++){const E=R[ee],{filter:{event:G,schema:B,table:Z,filter:le}}=E,te=j&&j[ee];if(te&&te.event===G&&te.schema===B&&te.table===Z&&te.filter===le)I.push(Object.assign(Object.assign({},E),{id:te.id}));else{this.unsubscribe(),this.state=Fe.errored,n==null||n(ga.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,n&&n(ga.SUBSCRIBED);return}}).receive("error",j=>{this.state=Fe.errored,n==null||n(ga.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(ga.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this.state===Fe.joined&&n===Dl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,i)}async send(n,r={}){var i,c;if(!this._canPush()&&n.type==="broadcast"){const{event:f,payload:h}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,m,g;const p=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&f("ok"),p.receive("ok",()=>f("ok")),p.receive("error",()=>f("error")),p.receive("timeout",()=>f("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new Ru(this,Qt.leave,{},n),i.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(n,r,i){const c=new AbortController,f=setTimeout(()=>c.abort(),i),h=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(f),h}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Ru(this,n,r,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>qp){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var c,f;const h=n.toLocaleLowerCase(),{close:m,error:g,leave:p,join:v}=Qt;if(i&&[m,g,p,v].indexOf(h)>=0&&i!==this._joinRef())return;let S=this._onMessage(h,r,i);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var A,R,U;return((A=j.filter)===null||A===void 0?void 0:A.event)==="*"||((U=(R=j.filter)===null||R===void 0?void 0:R.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===h}).map(j=>j.callback(S,i)):(f=this.bindings[h])===null||f===void 0||f.filter(j=>{var A,R,U,I,ee,E;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in j){const G=j.id,B=(A=j.filter)===null||A===void 0?void 0:A.event;return G&&((R=r.ids)===null||R===void 0?void 0:R.includes(G))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((U=r.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const G=(ee=(I=j==null?void 0:j.filter)===null||I===void 0?void 0:I.event)===null||ee===void 0?void 0:ee.toLocaleLowerCase();return G==="*"||G===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===h}).map(j=>{if(typeof S=="object"&&"ids"in S){const A=S.data,{schema:R,table:U,commit_timestamp:I,type:ee,errors:E}=A;S=Object.assign(Object.assign({},{schema:R,table:U,commit_timestamp:I,eventType:ee,new:{},old:{},errors:E}),this._getPayloadRecords(A))}j.callback(S,i)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const c=n.toLocaleLowerCase(),f={type:c,filter:r,callback:i};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===i&&uc.isEqual(c.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Qt.close,{},n)}_onError(n){this._on(Qt.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=N0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=N0(n.columns,n.old_record)),r}}const Mu=()=>{},Pr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vp=[1e3,2e3,5e3,1e4],Xp=1e4,Kp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ip{constructor(n,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vu,this.transport=null,this.heartbeatIntervalMs=Pr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mu,this.ref=0,this.reconnectTimer=null,this.logger=Mu,this.conn=null,this.sendBuffer=[],this.serializer=new Lp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let f;return c?f=c:typeof fetch>"u"?f=(...h)=>Ml(async()=>{const{default:m}=await Promise.resolve().then(()=>Sn);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):f=fetch,(...h)=>f(...h)},!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Xu.websocket}`,this.httpEndpoint=dg(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Up}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Al.connecting:return hs.Connecting;case Al.open:return hs.Open;case Al.closing:return hs.Closing;default:return hs.Closed}}isConnected(){return this.connectionState()===hs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const i=`realtime:${n}`,c=this.getChannels().find(f=>f.topic===i);if(c)return c;{const f=new uc(`realtime:${n}`,r,this);return this.channels.push(f),f}}push(n){const{topic:r,event:i,payload:c,ref:f}=n,h=()=>{this.encode(n,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${i} (${f})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(zp,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Pr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:f,ref:h}=r,m=h?`(${h})`:"",g=f.status||"";this.log("receive",`${g} ${i} ${c} ${m}`.trim(),f),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(c,f,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Qt.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${n}${i}${c}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([Kp],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const c={access_token:r,version:Mp};r&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(Qt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(r)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new ug(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,i,c,f,h,m,g,p,v;if(this.transport=(r=n==null?void 0:n.transport)!==null&&r!==void 0?r:null,this.timeout=(i=n==null?void 0:n.timeout)!==null&&i!==void 0?i:Vu,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:Pr.HEARTBEAT_INTERVAL,this.worker=(f=n==null?void 0:n.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=n==null?void 0:n.heartbeatCallback)!==null&&m!==void 0?m:Mu,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n==null?void 0:n.reconnectAfterMs)!==null&&g!==void 0?g:(w=>Vp[w-1]||Xp),this.encode=(p=n==null?void 0:n.encode)!==null&&p!==void 0?p:((w,S)=>S(JSON.stringify(w))),this.decode=(v=n==null?void 0:n.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class cc extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function et(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class Zp extends cc{constructor(n,r,i){super(n),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Iu extends cc{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var Pp=function(u,n,r,i){function c(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function m(v){try{p(i.next(v))}catch(w){h(w)}}function g(v){try{p(i.throw(v))}catch(w){h(w)}}function p(v){v.done?f(v.value):c(v.value).then(m,g)}p((i=i.apply(u,n||[])).next())})};const fg=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...r)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>Sn);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},Jp=()=>Pp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ml(()=>Promise.resolve().then(()=>Sn),void 0)).Response:Response}),Zu=u=>{if(Array.isArray(u))return u.map(r=>Zu(r));if(typeof u=="function"||u!==Object(u))return u;const n={};return Object.entries(u).forEach(([r,i])=>{const c=r.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));n[c]=Zu(i)}),n},Wp=u=>{if(typeof u!="object"||u===null)return!1;const n=Object.getPrototypeOf(u);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var ys=function(u,n,r,i){function c(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function m(v){try{p(i.next(v))}catch(w){h(w)}}function g(v){try{p(i.throw(v))}catch(w){h(w)}}function p(v){v.done?f(v.value):c(v.value).then(m,g)}p((i=i.apply(u,n||[])).next())})};const Uu=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Fp=(u,n,r)=>ys(void 0,void 0,void 0,function*(){const i=yield Jp();u instanceof i&&!(r!=null&&r.noResolveJson)?u.json().then(c=>{const f=u.status||500,h=(c==null?void 0:c.statusCode)||f+"";n(new Zp(Uu(c),f,h))}).catch(c=>{n(new Iu(Uu(c),c))}):n(new Iu(Uu(u),u))}),ev=(u,n,r,i)=>{const c={method:u,headers:(n==null?void 0:n.headers)||{}};return u==="GET"||!i?c:(Wp(i)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(i)):c.body=i,n!=null&&n.duplex&&(c.duplex=n.duplex),Object.assign(Object.assign({},c),r))};function Ul(u,n,r,i,c,f){return ys(this,void 0,void 0,function*(){return new Promise((h,m)=>{u(r,ev(n,i,c,f)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Fp(g,m,i))})})}function li(u,n,r,i){return ys(this,void 0,void 0,function*(){return Ul(u,"GET",n,r,i)})}function Jt(u,n,r,i,c){return ys(this,void 0,void 0,function*(){return Ul(u,"POST",n,i,c,r)})}function Pu(u,n,r,i,c){return ys(this,void 0,void 0,function*(){return Ul(u,"PUT",n,i,c,r)})}function tv(u,n,r,i){return ys(this,void 0,void 0,function*(){return Ul(u,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function hg(u,n,r,i,c){return ys(this,void 0,void 0,function*(){return Ul(u,"DELETE",n,i,c,r)})}var mt=function(u,n,r,i){function c(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function m(v){try{p(i.next(v))}catch(w){h(w)}}function g(v){try{p(i.throw(v))}catch(w){h(w)}}function p(v){v.done?f(v.value):c(v.value).then(m,g)}p((i=i.apply(u,n||[])).next())})};const av={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sv{constructor(n,r={},i,c){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.bucketId=i,this.fetch=fg(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,r,i,c){return mt(this,void 0,void 0,function*(){try{let f;const h=Object.assign(Object.assign({},T0),c);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),g&&f.append("metadata",this.encodeMetadata(g)),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",h.cacheControl),g&&f.append("metadata",this.encodeMetadata(g))):(f=i,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),c!=null&&c.headers&&(m=Object.assign(Object.assign({},m),c.headers));const p=this._removeEmptyFolders(r),v=this._getFinalPath(p),w=yield(n=="PUT"?Pu:Jt)(this.fetch,`${this.url}/object/${v}`,f,Object.assign({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:w.Id,fullPath:w.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(et(f))return{data:null,error:f};throw f}})}upload(n,r,i){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,c){return mt(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",r);try{let g;const p=Object.assign({upsert:T0.upsert},c),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const w=yield Pu(this.fetch,m.toString(),g,{headers:v});return{data:{path:f,fullPath:w.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(et(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,r){return mt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const c=Object.assign({},this.headers);r!=null&&r.upsert&&(c["x-upsert"]="true");const f=yield Jt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),h=new URL(this.url+f.url),m=h.searchParams.get("token");if(!m)throw new cc("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}update(n,r,i){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return mt(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}copy(n,r,i){return mt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}createSignedUrl(n,r,i){return mt(this,void 0,void 0,function*(){try{let c=this._getFinalPath(n),f=yield Jt(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${h}`)},{data:f,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}createSignedUrls(n,r,i){return mt(this,void 0,void 0,function*(){try{const c=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),f=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${f}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}download(n,r){return mt(this,void 0,void 0,function*(){const c=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),h=f?`?${f}`:"";try{const m=this._getFinalPath(n);return{data:yield(yield li(this.fetch,`${this.url}/${c}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(et(m))return{data:null,error:m};throw m}})}info(n){return mt(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield li(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zu(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}exists(n){return mt(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield tv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i)&&i instanceof Iu){const c=i.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),c=[],f=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";f!==""&&c.push(f);const m=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&c.push(g);let p=c.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${p}`)}}}remove(n){return mt(this,void 0,void 0,function*(){try{return{data:yield hg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}list(n,r,i){return mt(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},av),r),{prefix:n||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}listV2(n,r){return mt(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield Jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const nv="2.12.1",lv={"X-Client-Info":`storage-js/${nv}`};var dn=function(u,n,r,i){function c(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function m(v){try{p(i.next(v))}catch(w){h(w)}}function g(v){try{p(i.throw(v))}catch(w){h(w)}}function p(v){v.done?f(v.value):c(v.value).then(m,g)}p((i=i.apply(u,n||[])).next())})};class rv{constructor(n,r={},i,c){this.shouldThrowOnError=!1;const f=new URL(n);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(f.hostname)&&!f.hostname.includes("storage.supabase.")&&(f.hostname=f.hostname.replace("supabase.","storage.supabase.")),this.url=f.href,this.headers=Object.assign(Object.assign({},lv),r),this.fetch=fg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return dn(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}getBucket(n){return dn(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return dn(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}updateBucket(n,r){return dn(this,void 0,void 0,function*(){try{return{data:yield Pu(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}emptyBucket(n){return dn(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteBucket(n){return dn(this,void 0,void 0,function*(){try{return{data:yield hg(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}}class iv extends rv{constructor(n,r={},i,c){super(n,r,i,c)}from(n){return new sv(this.url,this.headers,n,this.fetch)}}const ov="2.57.4";let Tl="";typeof Deno<"u"?Tl="deno":typeof document<"u"?Tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tl="react-native":Tl="node";const uv={"X-Client-Info":`supabase-js-${Tl}/${ov}`},cv={headers:uv},dv={schema:"public"},fv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hv={};var gv=function(u,n,r,i){function c(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function m(v){try{p(i.next(v))}catch(w){h(w)}}function g(v){try{p(i.throw(v))}catch(w){h(w)}}function p(v){v.done?f(v.value):c(v.value).then(m,g)}p((i=i.apply(u,n||[])).next())})};const mv=u=>{let n;return u?n=u:typeof fetch>"u"?n=sg:n=fetch,(...r)=>n(...r)},yv=()=>typeof Headers>"u"?ng:Headers,pv=(u,n,r)=>{const i=mv(r),c=yv();return(f,h)=>gv(void 0,void 0,void 0,function*(){var m;const g=(m=yield n())!==null&&m!==void 0?m:u;let p=new c(h==null?void 0:h.headers);return p.has("apikey")||p.set("apikey",u),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),i(f,Object.assign(Object.assign({},h),{headers:p}))})};var vv=function(u,n,r,i){function c(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function m(v){try{p(i.next(v))}catch(w){h(w)}}function g(v){try{p(i.throw(v))}catch(w){h(w)}}function p(v){v.done?f(v.value):c(v.value).then(m,g)}p((i=i.apply(u,n||[])).next())})};function bv(u){return u.endsWith("/")?u:u+"/"}function xv(u,n){var r,i;const{db:c,auth:f,realtime:h,global:m}=u,{db:g,auth:p,realtime:v,global:w}=n,S={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},p),f),realtime:Object.assign(Object.assign({},v),h),storage:{},global:Object.assign(Object.assign(Object.assign({},w),m),{headers:Object.assign(Object.assign({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>vv(this,void 0,void 0,function*(){return""})};return u.accessToken?S.accessToken=u.accessToken:delete S.accessToken,S}function wv(u){const n=u==null?void 0:u.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bv(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gg="2.71.1",yn=30*1e3,Ju=3,zu=Ju*yn,jv="http://localhost:9999",_v="supabase.auth.token",Sv={"X-Client-Info":`gotrue-js/${gg}`},Wu="X-Supabase-Api-Version",mg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kv=600*1e3;class dc extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function he(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class Ev extends dc{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function Tv(u){return he(u)&&u.name==="AuthApiError"}class yg extends dc{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Qa extends dc{constructor(n,r,i,c){super(n,i,c),this.name=r,this.status=i}}class Ba extends Qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cv(u){return he(u)&&u.name==="AuthSessionMissingError"}class Jr extends Qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wr extends Qa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Fr extends Qa{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Av(u){return he(u)&&u.name==="AuthImplicitGrantRedirectError"}class C0 extends Qa{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fu extends Qa{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function qu(u){return he(u)&&u.name==="AuthRetryableFetchError"}class A0 extends Qa{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class ec extends Qa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),O0=` 	
\r=`.split(""),Ov=(()=>{const u=new Array(128);for(let n=0;n<u.length;n+=1)u[n]=-1;for(let n=0;n<O0.length;n+=1)u[O0[n].charCodeAt(0)]=-2;for(let n=0;n<ri.length;n+=1)u[ri[n].charCodeAt(0)]=n;return u})();function D0(u,n,r){if(u!==null)for(n.queue=n.queue<<8|u,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(ri[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(ri[i]),n.queuedBits-=6}}function pg(u,n,r){const i=Ov[u];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function R0(u){const n=[],r=h=>{n.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=h=>{Mv(h,i,r)};for(let h=0;h<u.length;h+=1)pg(u.charCodeAt(h),c,f);return n.join("")}function Dv(u,n){if(u<=127){n(u);return}else if(u<=2047){n(192|u>>6),n(128|u&63);return}else if(u<=65535){n(224|u>>12),n(128|u>>6&63),n(128|u&63);return}else if(u<=1114111){n(240|u>>18),n(128|u>>12&63),n(128|u>>6&63),n(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function Rv(u,n){for(let r=0;r<u.length;r+=1){let i=u.charCodeAt(r);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(u.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}Dv(i,n)}}function Mv(u,n,r){if(n.utf8seq===0){if(u<=127){r(u);return}for(let i=1;i<6;i+=1)if((u>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=u&31;else if(n.utf8seq===3)n.codepoint=u&15;else if(n.utf8seq===4)n.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|u&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Uv(u){const n=[],r={queue:0,queuedBits:0},i=c=>{n.push(c)};for(let c=0;c<u.length;c+=1)pg(u.charCodeAt(c),r,i);return new Uint8Array(n)}function zv(u){const n=[];return Rv(u,r=>n.push(r)),new Uint8Array(n)}function qv(u){const n=[],r={queue:0,queuedBits:0},i=c=>{n.push(c)};return u.forEach(c=>D0(c,r,i)),D0(null,r,i),n.join("")}function Lv(u){return Math.round(Date.now()/1e3)+u}function Bv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const n=Math.random()*16|0;return(u=="x"?n:n&3|8).toString(16)})}const Yt=()=>typeof window<"u"&&typeof document<"u",cs={tested:!1,writable:!1},vg=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cs.tested)return cs.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),cs.tested=!0,cs.writable=!0}catch{cs.tested=!0,cs.writable=!1}return cs.writable};function Hv(u){const n={},r=new URL(u);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,f)=>{n[f]=c})}catch{}return r.searchParams.forEach((i,c)=>{n[c]=i}),n}const bg=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...r)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>Sn);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},$v=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",pn=async(u,n,r)=>{await u.setItem(n,JSON.stringify(r))},ds=async(u,n)=>{const r=await u.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},La=async(u,n)=>{await u.removeItem(n)};class ii{constructor(){this.promise=new ii.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}ii.promiseConstructor=Promise;function Lu(u){const n=u.split(".");if(n.length!==3)throw new ec("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!Nv.test(n[i]))throw new ec("JWT not in base64url format");return{header:JSON.parse(R0(n[0])),payload:JSON.parse(R0(n[1])),signature:Uv(n[2]),raw:{header:n[0],payload:n[1]}}}async function Gv(u){return await new Promise(n=>{setTimeout(()=>n(null),u)})}function Yv(u,n){return new Promise((i,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await u(f);if(!n(f,null,h)){i(h);return}}catch(h){if(!n(f,h)){c(h);return}}})()})}function Qv(u){return("0"+u.toString(16)).substr(-2)}function Vv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let c="";for(let f=0;f<56;f++)c+=r.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(n),Array.from(n,Qv).join("")}async function Xv(u){const r=new TextEncoder().encode(u),i=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(i);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function Kv(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const r=await Xv(u);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fn(u,n,r=!1){const i=Vv();let c=i;r&&(c+="/PASSWORD_RECOVERY"),await pn(u,`${n}-code-verifier`,c);const f=await Kv(i);return[f,i===f?"plain":"s256"]}const Iv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zv(u){const n=u.headers.get(Wu);if(!n||!n.match(Iv))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Pv(u){if(!u)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(u<=n)throw new Error("JWT has expired")}function Jv(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hn(u){if(!Wv.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bu(){const u={};return new Proxy(u,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function M0(u){return JSON.parse(JSON.stringify(u))}var Fv=function(u,n){var r={};for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&n.indexOf(i)<0&&(r[i]=u[i]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(u);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(u,i[c])&&(r[i[c]]=u[i[c]]);return r};const fs=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),eb=[502,503,504];async function U0(u){var n;if(!$v(u))throw new Fu(fs(u),0);if(eb.includes(u.status))throw new Fu(fs(u),u.status);let r;try{r=await u.json()}catch(f){throw new yg(fs(f),f)}let i;const c=Zv(u);if(c&&c.getTime()>=mg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new A0(fs(r),u.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new Ba}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new A0(fs(r),u.status,r.weak_password.reasons);throw new Ev(fs(r),u.status||500,i)}const tb=(u,n,r,i)=>{const c={method:u,headers:(n==null?void 0:n.headers)||{}};return u==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),r))};async function xe(u,n,r,i){var c;const f=Object.assign({},i==null?void 0:i.headers);f[Wu]||(f[Wu]=mg["2024-01-01"].name),i!=null&&i.jwt&&(f.Authorization=`Bearer ${i.jwt}`);const h=(c=i==null?void 0:i.query)!==null&&c!==void 0?c:{};i!=null&&i.redirectTo&&(h.redirect_to=i.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await ab(u,n,r+m,{headers:f,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function ab(u,n,r,i,c,f){const h=tb(n,i,c,f);let m;try{m=await u(r,Object.assign({},h))}catch(g){throw console.error(g),new Fu(fs(g),0)}if(m.ok||await U0(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(g){await U0(g)}}function ha(u){var n;let r=null;rb(u)&&(r=Object.assign({},u),u.expires_at||(r.expires_at=Lv(u.expires_in)));const i=(n=u.user)!==null&&n!==void 0?n:u;return{data:{session:r,user:i},error:null}}function z0(u){const n=ha(u);return!n.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=u.weak_password),n}function Ha(u){var n;return{data:{user:(n=u.user)!==null&&n!==void 0?n:u},error:null}}function sb(u){return{data:u,error:null}}function nb(u){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:c,verification_type:f}=u,h=Fv(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:r,hashed_token:i,redirect_to:c,verification_type:f},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function lb(u){return u}function rb(u){return u.access_token&&u.refresh_token&&u.expires_in}const Hu=["global","local","others"];var ib=function(u,n){var r={};for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&n.indexOf(i)<0&&(r[i]=u[i]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(u);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(u,i[c])&&(r[i[c]]=u[i[c]]);return r};class ob{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=bg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r=Hu[0]){if(Hu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hu.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ha})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=ib(n,["options"]),c=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(c.new_email=i==null?void 0:i.newEmail,delete c.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:nb,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(he(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ha})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,c,f,h,m,g;try{const p={nextPage:null,lastPage:0,total:0},v=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(f=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:lb});if(v.error)throw v.error;const w=await v.json(),S=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(A.split(";")[1].split("=")[1]);p[`${U}Page`]=R}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(he(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){hn(n);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ha})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){hn(n);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Ha})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){hn(n);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ha})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){hn(n.userId);try{const{data:r,error:i}=await xe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:i}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteFactor(n){hn(n.userId),hn(n.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}}function q0(u={}){return{getItem:n=>u[n]||null,setItem:(n,r)=>{u[n]=r},removeItem:n=>{delete u[n]}}}function ub(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gn={debug:!!(globalThis&&vg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class cb extends xg{}async function db(u,n,r){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,c.name);try{return await r()}finally{gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,c.name)}}else{if(n===0)throw gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new cb(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(gn.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}ub();const fb={url:jv,storageKey:_v,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function L0(u,n,r){return await r()}const mn={};class Rl{constructor(n){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rl.nextInstanceID,Rl.nextInstanceID+=1,this.instanceID>0&&Yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},fb),n);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new ob({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=bg(c.fetch),this.lock=c.lock||L0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Yt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=db:this.lock=L0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:vg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=q0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=q0(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}get jwks(){var n,r;return(r=(n=mn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){mn[this.storageKey]=Object.assign(Object.assign({},mn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=mn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){mn[this.storageKey]=Object.assign(Object.assign({},mn[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gg}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=Hv(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),Yt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:f}=await this._getSessionFromURL(r,i);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),Av(f)){const g=(n=f.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return he(r)?{error:r}:{error:new yg("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,c;try{const f=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:ha}),{data:h,error:m}=f;if(m||!h)return{data:{user:null,session:null},error:m};const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(f){if(he(f))return{data:{user:null,session:null},error:f};throw f}}async signUp(n){var r,i,c;try{let f;if("email"in n){const{email:v,password:w,options:S}=n;let j=null,A=null;this.flowType==="pkce"&&([j,A]=await fn(this.storage,this.storageKey)),f=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:v,password:w,data:(r=S==null?void 0:S.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:j,code_challenge_method:A},xform:ha})}else if("phone"in n){const{phone:v,password:w,options:S}=n;f=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},channel:(c=S==null?void 0:S.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:ha})}else throw new Wr("You must provide either an email or phone number and a password");const{data:h,error:m}=f;if(m||!h)return{data:{user:null,session:null},error:m};const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(f){if(he(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(n){try{let r;if("email"in n){const{email:f,password:h,options:m}=n;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:z0})}else if("phone"in n){const{phone:f,password:h,options:m}=n;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:z0})}else throw new Wr("You must provide either an email or phone number and a password");const{data:i,error:c}=r;return c?{data:{user:null,session:null},error:c}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Jr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,i,c,f;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=n.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;if(r==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(n){var r,i,c,f,h,m,g,p,v,w,S,j;let A,R;if("message"in n)A=n.message,R=n.signature;else{const{chain:U,wallet:I,statement:ee,options:E}=n;let G;if(Yt())if(typeof I=="object")G=I;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))G=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=I}const B=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in G&&G.signIn){const Z=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),ee?{statement:ee}:null));let le;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")le=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)le=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in le&&"signature"in le&&(typeof le.signedMessage=="string"||le.signedMessage instanceof Uint8Array)&&le.signature instanceof Uint8Array)A=typeof le.signedMessage=="string"?le.signedMessage:new TextDecoder().decode(le.signedMessage),R=le.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${B.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...ee?["",ee,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(c=(i=E==null?void 0:E.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((m=E==null?void 0:E.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((g=E==null?void 0:E.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((w=(v=E==null?void 0:E.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...E.signInWithSolana.resources.map(le=>`- ${le}`)]:[]].join(`
`);const Z=await G.signMessage(new TextEncoder().encode(A),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=Z}}try{const{data:U,error:I}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:qv(R)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ha});if(I)throw I;return!U||!U.session||!U.user?{data:{user:null,session:null},error:new Jr}:(U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),{data:Object.assign({},U),error:I})}catch(U){if(he(U))return{data:{user:null,session:null},error:U};throw U}}async _exchangeCodeForSession(n){const r=await ds(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(r??"").split("/");try{const{data:f,error:h}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:ha});if(await La(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!f||!f.session||!f.user?{data:{user:null,session:null,redirectType:null},error:new Jr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:h})}catch(f){if(he(f))return{data:{user:null,session:null,redirectType:null},error:f};throw f}}async signInWithIdToken(n){try{const{options:r,provider:i,token:c,access_token:f,nonce:h}=n,m=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ha}),{data:g,error:p}=m;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Jr}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,i,c,f,h;try{if("email"in n){const{email:m,options:g}=n;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await fn(this.storage,this.storageKey));const{error:w}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in n){const{phone:m,options:g}=n,{data:p,error:v}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(f=g==null?void 0:g.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v}}throw new Wr("You must provide either an email or phone number.")}catch(m){if(he(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var r,i;try{let c,f;"options"in n&&(c=(r=n.options)===null||r===void 0?void 0:r.redirectTo,f=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:m}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:ha});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,p=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(c){if(he(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(n){var r,i,c;try{let f=null,h=null;return this.flowType==="pkce"&&([f,h]=await fn(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:sb})}catch(f){if(he(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Ba;const{error:c}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:c}})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:c,options:f}=n,{error:h}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:i,type:c,options:f}=n,{data:h,error:m}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new Wr("You must provide either an email or phone number and a type")}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<zu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const h=await ds(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=Bu()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(g,p,v)=>(!h&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,v))})}return{data:{session:n},error:null}}const{session:c,error:f}=await this._callRefreshToken(n.refresh_token);return f?{data:{session:null},error:f}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ha}):await this._useSession(async r=>{var i,c,f;const{data:h,error:m}=r;if(m)throw m;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ba}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:Ha})})}catch(r){if(he(r))return Cv(r)&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:c,error:f}=i;if(f)throw f;if(!c.session)throw new Ba;const h=c.session;let m=null,g=null;this.flowType==="pkce"&&n.email!=null&&([m,g]=await fn(this.storage,this.storageKey));const{data:p,error:v}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:Ha});if(v)throw v;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ba;const r=Date.now()/1e3;let i=r,c=!0,f=null;const{payload:h}=Lu(n.access_token);if(h.exp&&(i=h.exp,c=i<=r),c){const{session:m,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};f=m}else{const{data:m,error:g}=await this._getUser(n.access_token);if(g)throw g;f={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(r){if(he(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:h,error:m}=r;if(m)throw m;n=(i=h.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new Ba;const{session:c,error:f}=await this._callRefreshToken(n.refresh_token);return f?{data:{user:null,session:null},error:f}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!Yt())throw new Fr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Fr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new C0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new C0("No code detected.");const{data:ee,error:E}=await this._exchangeCodeForSession(n.code);if(E)throw E;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:ee.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:f,refresh_token:h,expires_in:m,expires_at:g,token_type:p}=n;if(!f||!m||!h||!p)throw new Fr("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(m);let S=v+w;g&&(S=parseInt(g));const j=S-v;j*1e3<=yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${w}s`);const A=S-w;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,S,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,S,v);const{data:R,error:U}=await this._getUser(f);if(U)throw U;const I={provider_token:i,provider_refresh_token:c,access_token:f,expires_in:w,expires_at:S,refresh_token:h,token_type:p,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:n.type},error:null}}catch(i){if(he(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:c,error:f}=r;if(f)return{error:f};const h=(i=c.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(Tv(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return n!=="others"&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=Bv(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,c;try{const{data:{session:f},error:h}=r;if(h)throw h;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",n,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",f),console.error(f)}})}async resetPasswordForEmail(n,r={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await fn(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(f){if(he(f))return{data:null,error:f};throw f}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{const{data:i,error:c}=await this._useSession(async f=>{var h,m,g,p,v;const{data:w,error:S}=f;if(S)throw S;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",j,{headers:this.headers,jwt:(v=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return Yt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:n.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(he(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,c;const{data:f,error:h}=r;if(h)throw h;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(i=f.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Yv(async c=>(c>0&&await Gv(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ha})),(c,f)=>{const h=200*Math.pow(2,c);return f&&qu(f)&&Date.now()+h-i<yn})}catch(i){if(this._debug(r,"error",i),he(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Yt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await ds(this.storage,this.storageKey);if(c&&this.userStorage){let h=await ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await pn(this.userStorage,this.storageKey+"-user",h)),c.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:Bu()}else if(c&&!c.user&&!c.user){const h=await ds(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await La(this.storage,this.storageKey+"-user"),await pn(this.storage,this.storageKey,c)):c.user=Bu()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const f=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zu;if(this._debug(i,`session has${f?"":" not"} expired with margin of ${zu}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),qu(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new Ba;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ii;const{data:f,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!f.session)throw new Ba;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const m={session:f.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(f){if(this._debug(c,"error",f),he(f)){const h={session:null,error:f};return qu(f)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,r,i=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,r)}catch(g){f.push(g)}});if(await Promise.all(h),f.length>0){for(let m=0;m<f.length;m+=1)console.error(f[m]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await pn(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const f=M0(c);await pn(this.storage,this.storageKey,f)}else{const c=M0(r);await pn(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await La(this.storage,this.storageKey),await La(this.storage,this.storageKey+"-code-verifier"),await La(this.storage,this.storageKey+"-user"),this.userStorage&&await La(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),yn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-n)/yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${yn}ms, refresh threshold is ${Ju} ticks`),c<=Ju&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof xg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const c=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[f,h]=await fn(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(i!=null&&i.queryParams){const f=new URLSearchParams(i.queryParams);c.push(f.toString())}return i!=null&&i.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:c,error:f}=r;return f?{data:null,error:f}:await xe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,c;const{data:f,error:h}=r;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:g,error:p}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=f==null?void 0:f.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(n.factorType==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:c,error:f}=r;if(f)return{data:null,error:f};const{data:h,error:m}=await xe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(r){if(he(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:c,error:f}=r;return f?{data:null,error:f}:await xe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(he(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=(n==null?void 0:n.factors)||[],c=i.filter(h=>h.factor_type==="totp"&&h.status==="verified"),f=i.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:i,totp:c,phone:f},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,i;const{data:{session:c},error:f}=n;if(f)return{data:null,error:f};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Lu(c.access_token);let m=null;h.aal&&(m=h.aal);let g=m;((i=(r=c.user.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const v=h.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(m=>m.kid===n);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===n),i&&this.jwks_cached_at+kv>c)return i;const{data:f,error:h}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,i=f.keys.find(m=>m.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){const{data:j,error:A}=await this.getSession();if(A||!j.session)return{data:null,error:A};i=j.session.access_token}const{header:c,payload:f,signature:h,raw:{header:m,payload:g}}=Lu(i);r!=null&&r.allowExpired||Pv(f.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:j}=await this.getUser(i);if(j)throw j;return{data:{claims:f,header:c,signature:h},error:null}}const v=Jv(c.alg),w=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,h,zv(`${m}.${g}`)))throw new ec("Invalid JWT signature");return{data:{claims:f,header:c,signature:h},error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}}Rl.nextInstanceID=0;const hb=Rl;class gb extends hb{constructor(n){super(n)}}var mb=function(u,n,r,i){function c(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function m(v){try{p(i.next(v))}catch(w){h(w)}}function g(v){try{p(i.throw(v))}catch(w){h(w)}}function p(v){v.done?f(v.value):c(v.value).then(m,g)}p((i=i.apply(u,n||[])).next())})};class yb{constructor(n,r,i){var c,f,h;this.supabaseUrl=n,this.supabaseKey=r;const m=wv(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:dv,realtime:hv,auth:Object.assign(Object.assign({},fv),{storageKey:g}),global:cv},v=xv(i??{},p);this.storageKey=(c=v.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(f=v.global.headers)!==null&&f!==void 0?f:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=v.auth)!==null&&h!==void 0?h:{},this.headers,v.global.fetch),this.fetch=pv(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Op(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new iv(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new wp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return mb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:c,userStorage:f,storageKey:h,flowType:m,lock:g,debug:p},v,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gb({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),v),storageKey:h,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:c,userStorage:f,flowType:m,lock:g,debug:p,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Ip(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pb=(u,n,r)=>new yb(u,n,r);function vb(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const n=u.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}vb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bb="https://ajvfpnqhmhpuxkfwxpuo.supabase.co",xb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFqdmZwbnFobWhwdXhrZnd4cHVvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyNzI3MjEsImV4cCI6MjA3MTg0ODcyMX0.XLPSXKqsbHj_fUXLjnLB4xsqoI-BeS0KpOZATzJV7A0",re=pb(bb,xb),$e=u=>u===null||typeof u!="object"?u:Array.isArray(u)?u.map($e):Object.keys(u).reduce((n,r)=>{const i=r.replace(/_([a-z])/g,c=>c[1].toUpperCase());return n[i]=$e(u[r]),n},{}),B0=async u=>{var m,g,p;const{data:n,error:r}=await re.from("profiles").select("*").eq("id",u).single();if(n)return $e(n);if(r&&r.code!=="PGRST116")return console.error("Error fetching profile:",r.message),null;console.warn(`Profile not found for user ${u}. Attempting to create one as a fallback.`);const{data:{user:i}}=await re.auth.getUser();if(!i||i.id!==u)return console.error("Mismatched user or unable to get auth user to create profile."),null;const{error:c}=await re.from("profiles").upsert({id:i.id,email:i.email,first_name:((m=i.user_metadata)==null?void 0:m.firstName)||"",last_name:((g=i.user_metadata)==null?void 0:g.lastName)||"",role:((p=i.user_metadata)==null?void 0:p.role)||"student"},{ignoreDuplicates:!0,onConflict:"id"});if(c)return console.error("Error during profile upsert:",c.message),null;const{data:f,error:h}=await re.from("profiles").select("*").eq("id",u).single();return h?(console.error("CRITICAL: Failed to fetch profile even after upsert:",h.message),null):f?(console.log(`Successfully ensured profile exists for user ${u}.`),$e(f)):(console.error("Unreachable code in getProfile: profile not found after successful upsert."),null)},H0=async u=>{try{const n=u.role===Me.ADMIN?re.from("enrollments").select("*"):re.from("enrollments").select("*").eq("user_id",u.id),r=u.role===Me.ADMIN?re.from("conversations").select("*"):re.from("conversations").select("*").contains("participant_ids",[u.id]),i=u.role===Me.ADMIN?re.from("calendar_events").select("*"):re.from("calendar_events").select("*").eq("user_id",u.id),c=re.from("profiles").select("*"),[f,h,m,g,p,v,w,S,j]=await Promise.all([re.from("courses").select("*"),re.from("modules").select("*"),re.from("lessons").select("*"),n,c,r,i,re.from("live_sessions").select("*"),re.from("categories").select("*").order("name")]),A={coursesRes:f,modulesRes:h,lessonsRes:m,enrollmentsRes:g,usersRes:p,conversationsRes:v,calendarEventsRes:w,liveSessionsRes:S,categoriesRes:j};for(const[Z,le]of Object.entries(A))if(le.error)throw console.error(`Error fetching ${Z}:`,le.error),le.error;const R=(v.data||[]).map(Z=>Z.id);let U;if(u.role===Me.ADMIN?U=await re.from("messages").select("*"):U=R.length>0?await re.from("messages").select("*").in("conversation_id",R):{data:[],error:null},U.error)throw U.error;const I=$e(p.data||[]),ee=new Map(I.map(Z=>[Z.id,Z])),E=$e(m.data||[]),G=$e(h.data||[]).map(Z=>({...Z,lessons:E.filter(le=>le.moduleId===Z.id).sort((le,te)=>le.order-te.order)}));return{courses:$e(f.data||[]).map(Z=>{const le=G.filter(Se=>Se.courseId===Z.id).sort((Se,J)=>Se.order-J.order),te=le.reduce((Se,J)=>Se+J.lessons.length,0),Te=le.reduce((Se,J)=>Se+J.lessons.reduce((ye,P)=>ye+P.duration,0),0),Ce=ee.get(Z.instructorId);return{...Z,instructorName:Ce?`${Ce.firstName} ${Ce.lastName}`:"Unknown Instructor",modules:le,totalLessons:te,estimatedDuration:Math.round(Te/60)}}),enrollments:$e(g.data||[]),allUsers:I,conversations:$e(v.data||[]),messages:$e(U.data||[]),calendarEvents:$e(w.data||[]),liveSessions:$e(S.data||[]),categories:$e(j.data||[])}}catch(n){throw console.error("Error fetching initial dashboard data:",n),n}},wb=async u=>{const{data:n,error:r}=await re.from("discussion_posts").select("*, author:profiles!author_id(id, first_name, last_name, avatar_url)").eq("lesson_id",u).is("parent_post_id",null).order("timestamp",{ascending:!1});if(r)return console.error("Error fetching discussions:",r),[];const i={id:"deleted",firstName:"Deleted",lastName:"User",avatarUrl:""};return $e(n).map(c=>({...c,author:c.author?{id:c.author.id,firstName:c.author.firstName,lastName:c.author.lastName,avatarUrl:c.author.avatarUrl}:i,replies:[]}))},jb=async(u,n)=>{const r={first_name:n.firstName,last_name:n.lastName,role:n.role};Object.keys(r).forEach(f=>r[f]===void 0&&delete r[f]);const{data:i,error:c}=await re.from("profiles").update(r).eq("id",u).select().single();return c?(console.error("Error updating user profile:",c),{success:!1,error:c}):{success:!0,data:$e(i)}},_b=async u=>{const{lessonId:n,authorId:r,content:i}=u,{data:c,error:f}=await re.from("discussion_posts").insert({lesson_id:n,author_id:r,content:i}).select("*, author:profiles!author_id(id, first_name, last_name, avatar_url)").single();if(f)return console.error("Error posting discussion:",f),null;const h={id:"deleted",firstName:"Deleted",lastName:"User",avatarUrl:""},m=$e(c);return{...m,author:m.author?{id:m.author.id,firstName:m.author.firstName,lastName:m.author.lastName,avatarUrl:m.author.avatarUrl}:h,replies:[]}},$0=async u=>{const n={user_id:u.userId,course_id:u.courseId,progress:u.progress,completed_lesson_ids:u.completedLessonIds,quiz_scores:u.quizScores,last_accessed_lesson_id:u.lastAccessedLessonId},{data:r,error:i}=await re.from("enrollments").upsert(n).select().single();return i?(console.error("Error updating enrollment:",i),null):$e(r)},Sb=async u=>{const n={user_id:u.userId,course_id:u.courseId,lesson_id:u.lessonId,score:u.score,passed:u.passed,answers:u.answers},{data:r,error:i}=await re.from("quiz_attempts").insert(n).select().single();return i?(console.error("Error saving quiz attempt:",i),{success:!1,error:i}):{success:!0,data:$e(r)}},Nb=async u=>{try{const n=u.id.startsWith("new-course-");let r=u.id,i=[];const c=u.modules.some(v=>v.quiz&&v.quiz.questions.length>0),f={title:u.title,description:u.description,thumbnail:u.thumbnail,category_id:u.categoryId||null,instructor_id:u.instructorId,has_quizzes:c,is_certification_course:u.isCertificationCourse,is_hidden:u.isHidden,is_published:u.isPublished};if(n){const{data:v,error:w}=await re.from("courses").insert(f).select("id").single();if(w)throw new Error(`Failed to create course: ${w.message}`);r=v.id}else{const{error:v}=await re.from("courses").update(f).eq("id",r);if(v)throw new Error(`Failed to update course: ${v.message}`)}for(const[v,w]of u.modules.entries()){const S=w.id.startsWith("new-module-");let j=w.id;if(S){const A={title:w.title,quiz:w.quiz,order:v,course_id:r},{data:R,error:U}=await re.from("modules").insert(A).select("id").single();if(U)throw new Error(`Failed to create module: ${U.message}`);j=R.id}else{const A={title:w.title,quiz:w.quiz,order:v},{error:R}=await re.from("modules").update(A).eq("id",w.id);if(R)throw new Error(`Failed to update module: ${R.message}`)}i.push({...w,id:j,courseId:r})}const h=new Set(i.map(v=>v.id)),{data:m}=await re.from("modules").select("id").eq("course_id",r),g=(m==null?void 0:m.filter(v=>!h.has(v.id)).map(v=>v.id))||[];g.length>0&&await re.from("modules").delete().in("id",g);const p=new Set;for(const v of i)for(const[w,S]of v.lessons.entries()){const j=S.id.startsWith("new-lesson-");let A=S.id;if(j){const R={title:S.title,type:S.type,content:S.content,duration:S.duration,order:w,module_id:v.id},{data:U,error:I}=await re.from("lessons").insert(R).select("id").single();if(I)throw new Error(`Failed to create lesson: ${I.message}`);A=U.id}else{const R={title:S.title,type:S.type,content:S.content,duration:S.duration,order:w},{error:U}=await re.from("lessons").update(R).eq("id",S.id);if(U)throw new Error(`Failed to update lesson: ${U.message}`)}p.add(A)}if(h.size>0){const{data:v}=await re.from("lessons").select("id").in("module_id",Array.from(h)),w=(v==null?void 0:v.filter(S=>!p.has(S.id)).map(S=>S.id))||[];w.length>0&&await re.from("lessons").delete().in("id",w)}return{success:!0}}catch(n){return console.error("Error saving course:",n),{success:!1,error:{message:n.message||"An unknown error occurred."}}}},kb=async u=>{try{const{data:n,error:r}=await re.from("modules").select("id, lessons(id)").eq("course_id",u);if(r)throw new Error(`Could not fetch modules: ${r.message}`);const i=n.map(g=>g.id),c=n.flatMap(g=>g.lessons.map(p=>p.id));if(c.length>0){const{error:g}=await re.from("discussion_posts").delete().in("lesson_id",c);if(g)throw new Error(`Could not delete discussions: ${g.message}`)}const{error:f}=await re.from("quiz_attempts").delete().eq("course_id",u);if(f)throw new Error(`Could not delete quiz attempts: ${f.message}`);const{error:h}=await re.from("enrollments").delete().eq("course_id",u);if(h)throw new Error(`Could not delete enrollments: ${h.message}`);if(c.length>0){const{error:g}=await re.from("lessons").delete().in("id",c);if(g)throw new Error(`Could not delete lessons: ${g.message}`)}if(i.length>0){const{error:g}=await re.from("modules").delete().in("id",i);if(g)throw new Error(`Could not delete modules: ${g.message}`)}const{error:m}=await re.from("courses").delete().eq("id",u);if(m)throw new Error(`Could not delete course: ${m.message}`);return{success:!0}}catch(n){return console.error("Error deleting course:",n),{success:!1,error:{message:n.message||"An unknown error occurred."}}}},Eb=async(u,n)=>{const{data:r,error:i}=await re.from("courses").update({is_hidden:n}).eq("id",u).select("id, is_hidden").single();return i?(console.error("Error updating course visibility:",i),{success:!1,error:i}):{success:!0,data:$e(r)}},Tb=async u=>{const{conversationId:n,senderId:r,subject:i,content:c,timestamp:f}=u,h={conversation_id:n,sender_id:r,subject:i,content:c,timestamp:f},{data:m,error:g}=await re.from("messages").insert(h).select().single();return g?(console.error("Error sending message:",g),null):(await re.from("conversations").update({last_message_timestamp:f}).eq("id",n),$e(m))},Cb=async u=>{const n={title:u.title,description:u.description,date_time:u.dateTime,duration:u.duration,instructor_id:u.instructorId,audience:u.audience},{data:r,error:i}=await re.from("live_sessions").insert(n).select().single();if(i)return console.error("Error scheduling session:",i),null;const c=$e(r),f={user_id:u.instructorId,date:u.dateTime.split("T")[0],title:`Live: ${u.title}`,course_id:u.audience!=="all"?u.audience:void 0,type:"live_session",live_session_id:c.id};return await re.from("calendar_events").insert(f),c},Ab=async u=>{await re.from("calendar_events").delete().match({live_session_id:u});const{error:n}=await re.from("live_sessions").delete().match({id:u});return n?(console.error("Error deleting session:",n),{success:!1,error:n}):{success:!0}},Ob=async u=>{const{data:n,error:r}=await re.from("categories").insert({name:u.name,parent_id:u.parentId}).select().single();return r?(console.error("Error adding category:",r),{success:!1,error:r}):{success:!0,data:$e(n)}},Db=async u=>{const{data:n,error:r}=await re.from("categories").update({name:u.name,parent_id:u.parentId}).eq("id",u.id).select().single();return r?(console.error("Error updating category:",r),{success:!1,error:r}):{success:!0,data:$e(n)}},Rb=async u=>{const{data:n,error:r}=await re.from("categories").select("id",{count:"exact"}).eq("parent_id",u);if(r)return{success:!1,error:r};if(((n==null?void 0:n.length)||0)>0)return{success:!1,error:{message:"Cannot delete a category that has child categories. Please reassign children first."}};const{data:i,error:c}=await re.from("courses").select("id",{count:"exact"}).eq("category_id",u);if(c)return{success:!1,error:c};if(((i==null?void 0:i.length)||0)>0)return{success:!1,error:{message:"Cannot delete category. Reassign courses from this category first."}};const{error:f}=await re.from("categories").delete().eq("id",u);return f?(console.error("Error deleting category:",f),{success:!1,error:f}):{success:!0}},Mb=u=>{if(!u)return null;const n=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,r=u.match(n);return r&&r[2].length===11?r[2]:u.length===11&&!u.includes("/")?u:null},Ub=u=>{if(!u)return null;if(/^\d+$/.test(u))return u;const n=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,r=u.match(n);return r?r[3]:null},zb=({lessonId:u,user:n})=>{const[r,i]=H.useState([]),[c,f]=H.useState(!0),[h,m]=H.useState(""),[g,p]=H.useState(!1);H.useEffect(()=>{f(!0),wb(u).then(w=>{i(w),f(!1)})},[u]);const v=async w=>{if(w.preventDefault(),!h.trim())return;p(!0);const S=await _b({lessonId:u,authorId:n.id,content:h});S&&(i(j=>[S,...j]),m("")),p(!1)};return l.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Discussions"}),l.jsxs("form",{onSubmit:v,className:"mb-8 bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[l.jsx("textarea",{value:h,onChange:w=>m(w.target.value),placeholder:"Ask a question or share your thoughts...",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",rows:4}),l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsxs("div",{className:"flex gap-2 text-gray-500",children:[l.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:l.jsx(ni,{className:"w-5 h-5"})}),l.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:l.jsx(J0,{className:"w-5 h-5"})})]}),l.jsx("button",{type:"submit",disabled:g||!h.trim(),className:"bg-pink-500 text-white font-semibold px-6 py-2 rounded-lg disabled:bg-gray-400",children:g?"Posting...":"Post"})]})]}),l.jsx("div",{className:"space-y-6",children:c?l.jsx("p",{children:"Loading discussions..."}):r.map(w=>l.jsxs("div",{className:"flex gap-4",children:[l.jsx(ms,{className:"w-10 h-10 text-gray-400 flex-shrink-0"}),l.jsxs("div",{className:"flex-grow bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("p",{className:"font-bold",children:[w.author.firstName," ",w.author.lastName]}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(w.timestamp).toLocaleString()})]}),l.jsx("p",{className:"mt-2",children:w.content})]})]},w.id))})]})},G0=({quizData:u,lessonTitle:n,onQuizSubmit:r})=>{const[i,c]=H.useState({}),f=(m,g)=>c(p=>({...p,[m]:g})),h=m=>{m.preventDefault(),r(i)};return l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-8 rounded-2xl shadow-lg w-full max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(bn,{className:"w-8 h-8 text-pink-500"}),l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:n})]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Test your knowledge from this section."}),l.jsxs("form",{onSubmit:h,children:[l.jsx("div",{className:"space-y-8",children:u.questions.map((m,g)=>l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-lg text-gray-800 dark:text-gray-200 mb-4",children:[g+1,". ",m.questionText]}),l.jsx("div",{className:"space-y-3",children:m.options.map((p,v)=>l.jsxs("label",{className:"flex items-center p-4 rounded-lg border border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors has-[:checked]:bg-pink-50 has-[:checked]:border-pink-500 dark:has-[:checked]:bg-pink-900/30 dark:has-[:checked]:border-pink-500",children:[l.jsx("input",{type:"radio",name:m.id,value:v,checked:i[m.id]===v,onChange:()=>f(m.id,v),className:"h-4 w-4 text-pink-600 border-gray-300 focus:ring-pink-500"}),l.jsx("span",{className:"ml-4 text-gray-800 dark:text-gray-200",children:p})]},v))})]},m.id))}),l.jsx("div",{className:"mt-10 text-right",children:l.jsx("button",{type:"submit",className:"bg-pink-500 text-white font-bold py-3 px-10 rounded-lg hover:bg-pink-600 transition-all text-lg",disabled:Object.keys(i).length!==u.questions.length,children:"Submit Answers"})})]})]})},qb=({result:u,onContinue:n,onRetry:r})=>l.jsxs("div",{className:`p-8 rounded-2xl shadow-lg text-center ${u.passed?"bg-green-50 dark:bg-green-900/50 border-green-500":"bg-red-50 dark:bg-red-900/50 border-red-500"} border-2`,children:[l.jsx("h2",{className:"text-4xl font-bold",children:u.passed?"Congratulations!":"Keep Trying!"}),l.jsx("p",{className:"text-xl mt-4",children:"You scored"}),l.jsxs("p",{className:`text-7xl font-extrabold my-2 ${u.passed?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[u.score.toFixed(0),"%"]}),u.passed?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:["Passing score: ",u.passingScore,"%"]}),l.jsx("div",{className:"flex justify-center gap-4 mt-8",children:l.jsx("button",{onClick:n,className:"bg-pink-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-pink-600 transition-all text-lg",children:"Continue"})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:["You did not pass. Please review the material and try again. Passing score: ",u.passingScore,"%"]}),l.jsx("div",{className:"flex justify-center gap-4 mt-8",children:l.jsx("button",{onClick:r,className:"bg-blue-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-600 transition-all text-lg",children:"Retry Quiz"})})]})]}),Lb=({user:u,course:n,enrollment:r,onExit:i,onEnrollmentUpdate:c,onSaveQuizAttempt:f})=>{H.useMemo(()=>n.modules.flatMap(P=>P.lessons),[n]);const h=H.useMemo(()=>{const P=[];return n.modules.forEach(se=>{se.lessons.forEach(O=>P.push({type:"lesson",data:O})),se.quiz&&P.push({type:"module-quiz",data:{module:se,quiz:se.quiz}})}),P},[n]),m=()=>h.find(se=>se.type==="lesson"&&se.data.id===r.lastAccessedLessonId)||h[0]||null,[g,p]=H.useState(m()),[v,w]=H.useState("lesson"),[S,j]=H.useState("lesson"),[A,R]=H.useState(null),[U,I]=H.useState(!1),[ee,E]=H.useState("");H.useEffect(()=>{E(window.location.origin)},[]),H.useMemo(()=>{if((g==null?void 0:g.type)!=="lesson"||!g.data.content.videoData)return null;const{provider:P,url:se}=g.data.content.videoData;return P==="youtube"?Mb(se):P==="vimeo"?Ub(se):se},[g]);const G=g?h.findIndex(P=>P.type==="lesson"&&g.type==="lesson"?P.data.id===g.data.id:P.type==="module-quiz"&&g.type==="module-quiz"?P.data.module.id===g.data.module.id:!1):-1,B=P=>{var se;switch(P.type){case"lesson":return r.completedLessonIds.includes(P.data.id);case"module-quiz":return((se=r.quizScores[`module-${P.data.module.id}`])==null?void 0:se.passed)===!0;default:return!1}},Z=P=>{const se=h.findIndex(Y=>{if(Y.type!==P.type)return!1;switch(Y.type){case"lesson":return Y.data.id===P.data.id;case"module-quiz":return Y.data.module.id===P.data.module.id}return!1});if(se<=0)return!0;const O=h[se-1];return B(O)},le=()=>{const P=h[G+1];P?Ce(P):i()},te=()=>{if(!g||g.type!=="lesson"||B(g))return;const P=[...new Set([...r.completedLessonIds,g.data.id])];c({...r,completedLessonIds:P}),le()},Te=P=>{if(!g||g.type!=="module-quiz"&&g.type==="lesson"&&g.data.type!=="quiz")return;let se,O;if(g.type==="lesson"&&g.data.content.quizData)se=g.data.content.quizData,O=`lesson-${g.data.id}`;else if(g.type==="module-quiz")se=g.data.quiz,O=`module-${g.data.module.id}`;else return;const F=se.questions.filter(K=>P[K.id]===K.correctAnswerIndex).length/se.questions.length*100,Q=F>=se.passingScore,x=r.quizScores[O],z={...r.quizScores,[O]:{score:Math.max((x==null?void 0:x.score)||0,F),passed:(x==null?void 0:x.passed)||Q}},V={...r,quizScores:z};c(V),f({userId:u.id,courseId:n.id,lessonId:O,score:F,passed:Q,answers:P}),R({score:F,passed:Q,passingScore:se.passingScore}),w("quiz_result")},Ce=P=>{Z(P)&&(p(P),w("lesson"),j("lesson"),R(null),I(!1),P.type==="lesson"&&r.lastAccessedLessonId!==P.data.id&&c({...r,lastAccessedLessonId:P.data.id}))},Se=h.length>0?Math.round(h.filter(B).length/h.length*100):0,J=(g==null?void 0:g.type)==="lesson"&&!B(g),ye=G===h.length-1;return l.jsxs("div",{className:"flex flex-col md:flex-row h-full bg-white dark:bg-gray-900",children:[l.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[l.jsxs("div",{className:"p-4 sm:p-8 sm:pb-6 flex justify-between items-start gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-pink-500 font-semibold",children:n.title}),l.jsx("h1",{className:"text-2xl sm:text-4xl font-bold mt-1",children:(g==null?void 0:g.type)==="lesson"?g.data.title:(g==null?void 0:g.type)==="module-quiz"?`Quiz: ${g.data.module.title}`:"Loading..."})]}),l.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>I(!0),className:"md:hidden bg-white dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Curriculum"}),l.jsx("button",{onClick:i,className:"bg-white dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Exit"})]})]}),(g==null?void 0:g.type)==="lesson"&&l.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-4 sm:px-8",children:l.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[l.jsx("button",{onClick:()=>j("lesson"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${S==="lesson"?"border-pink-500 text-pink-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Lesson"}),l.jsx("button",{onClick:()=>j("discussion"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${S==="discussion"?"border-pink-500 text-pink-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Discussion"})]})}),l.jsx("div",{className:"flex-grow overflow-y-auto px-4 sm:px-8 py-10",children:S==="discussion"&&(g==null?void 0:g.type)==="lesson"?l.jsx(zb,{lessonId:g.data.id,user:u}):v==="quiz_result"&&A?l.jsx(qb,{result:A,onContinue:le,onRetry:()=>w("lesson")}):(g==null?void 0:g.type)==="lesson"&&g.data.type===wt.VIDEO&&ee?l.jsx("div",{className:"w-full max-w-6xl mx-auto aspect-video bg-black rounded-2xl overflow-hidden shadow-2xl"}):(g==null?void 0:g.type)==="lesson"&&g.data.type===wt.TEXT?l.jsx("div",{className:"w-full max-w-4xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg prose prose-lg dark:prose-invert",dangerouslySetInnerHTML:{__html:g.data.content.text||""}}):g&&g.type==="module-quiz"?l.jsx(G0,{quizData:g.data.quiz,lessonTitle:`Quiz: ${g.data.module.title}`,onQuizSubmit:Te}):(g==null?void 0:g.type)==="lesson"&&g.data.type===wt.QUIZ&&g.data.content.quizData?l.jsx(G0,{quizData:g.data.content.quizData,lessonTitle:g.data.title,onQuizSubmit:Te}):null}),l.jsxs("div",{className:"p-4 sm:p-8 pt-6 flex justify-between items-center",children:[G>0?l.jsxs("button",{onClick:()=>Ce(h[G-1]),className:"bg-white dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 font-bold py-3 px-8 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all text-lg flex items-center gap-2",children:[l.jsx(I0,{className:"w-5 h-5"})," Previous"]}):l.jsx("div",{}),J?l.jsxs("button",{onClick:te,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-all text-lg flex items-center gap-2",children:["Mark as Complete ",l.jsx(ei,{className:"w-5 h-5"})]}):ye?B(g)?l.jsxs("button",{onClick:i,className:"bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition-all text-lg flex items-center gap-2",children:["Finish Course ",l.jsx(ai,{className:"w-5 h-5"})]}):l.jsx("div",{}):l.jsxs("button",{onClick:le,disabled:!Z(h[G+1]),className:"bg-pink-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-pink-600 transition-all text-lg flex items-center gap-2 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed",children:["Next ",l.jsx(Z0,{className:"w-5 h-5"})]})]})]}),U&&l.jsx("div",{onClick:()=>I(!1),className:"fixed inset-0 bg-black/50 z-40 md:hidden","aria-hidden":"true"}),l.jsxs("aside",{className:`fixed top-0 right-0 h-full w-80 sm:w-96 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col z-50 transition-transform duration-300 ease-in-out md:relative md:w-96 md:translate-x-0 ${U?"translate-x-0":"translate-x-full"}`,children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0 flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold",children:n.title}),l.jsx("button",{onClick:()=>I(!1),className:"md:hidden p-1 text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white",children:l.jsx(_n,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"mt-4 px-6",children:[l.jsx(rc,{progress:Se}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2 text-center",children:[h.filter(B).length," of ",h.length," items completed"]})]}),l.jsx("div",{className:"flex-grow overflow-y-auto",children:n.modules.map((P,se)=>l.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("h3",{className:"font-bold mb-3",children:["Module ",se+1,": ",P.title]}),l.jsxs("ul",{children:[P.lessons.map(O=>{const Y={type:"lesson",data:O},F=(g==null?void 0:g.type)==="lesson"&&g.data.id===O.id,Q=B(Y),x=Z(Y),z=O.type===wt.VIDEO?Jy:O.type===wt.PDF?J0:O.type===wt.QUIZ?bn:Ga;return l.jsx("li",{children:l.jsxs("a",{href:"#",onClick:V=>{V.preventDefault(),x&&Ce(Y)},className:`flex items-start gap-3 p-3 rounded-lg mb-1 transition-colors ${x?F?"bg-pink-100 dark:bg-pink-900/50":"hover:bg-gray-100 dark:hover:bg-gray-700/50":"opacity-50 cursor-not-allowed"}`,children:[l.jsx("div",{className:"mt-0.5 flex-shrink-0 w-5 h-5 flex items-center justify-center",children:Q?l.jsx(ei,{className:"w-5 h-5 text-green-500"}):x?l.jsx(z,{className:"w-5 h-5 text-gray-400"}):l.jsx(f0,{className:"w-4 h-4 text-gray-400"})}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:`font-semibold ${F?"text-pink-600":""}`,children:O.title}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1.5",children:[l.jsx(P0,{className:"w-3 h-3"})," ",O.duration," min"]})]})]})},O.id)}),P.quiz&&(()=>{const O={type:"module-quiz",data:{module:P,quiz:P.quiz}},Y=(g==null?void 0:g.type)==="module-quiz"&&g.data.module.id===P.id,F=B(O),Q=Z(O);return l.jsx("li",{children:l.jsxs("a",{href:"#",onClick:x=>{x.preventDefault(),Q&&Ce(O)},className:`flex items-start gap-3 p-3 rounded-lg mb-1 transition-colors ${Q?Y?"bg-pink-100 dark:bg-pink-900/50":"hover:bg-gray-100 dark:hover:bg-gray-700/50":"opacity-50 cursor-not-allowed"}`,children:[l.jsx("div",{className:"mt-0.5 flex-shrink-0 w-5 h-5 flex items-center justify-center",children:F?l.jsx(ei,{className:"w-5 h-5 text-green-500"}):Q?l.jsx(bn,{className:"w-5 h-5 text-gray-400"}):l.jsx(f0,{className:"w-4 h-4 text-gray-400"})}),l.jsx("div",{className:"flex-grow",children:l.jsx("p",{className:`font-semibold ${Y?"text-pink-600":""}`,children:`Module ${se+1} Quiz`})})]})},`${P.id}-quiz`)})()]})]},P.id))})]})]})},Y0=[{category:"Getting Started",questions:[{q:"How do I enroll in a course?",a:`To enroll in a course, simply navigate to the "Dashboard", find a course you're interested in under "Explore Courses", and click "View Course". On the course details page, you will find an "Enroll" button.`},{q:"How do I change my password?",a:'You can change your password from the "Profile" page. Click on your avatar in the top-right corner, select "Profile", and you will find an option to update your password under the security settings.'}]},{category:"Courses & Lessons",questions:[{q:"How can I track my progress?",a:'Your progress for each course is shown on a progress bar on the course card in your "Dashboard". You can also see a detailed breakdown of completed lessons inside the course player.'},{q:"Can I download course materials?",a:"Some lessons may include downloadable resources like PDFs. If available, a download button will be visible within the lesson view in the course player."},{q:"What happens if I fail a quiz?",a:"If you do not achieve the passing score on a quiz, you will be prompted to review the material and can retake the quiz. Your highest score will be recorded."}]},{category:"Account Management",questions:[{q:"How do I update my profile information?",a:'You can update your personal information, including your name, bio, and avatar, by going to the "Profile" page from the main sidebar.'},{q:"Where can I find my certificates?",a:'Once you complete a course (100% progress), your certificate will be available for download in the "Certifications" section, accessible from the sidebar.'}]}],Bb=({item:u,isOpen:n,onToggle:r})=>l.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("button",{onClick:r,className:"w-full flex justify-between items-center text-left p-5 hover:bg-gray-50 dark:hover:bg-gray-700/50 focus:outline-none",children:[l.jsx("span",{className:"font-semibold text-lg text-gray-800 dark:text-gray-200",children:u.q}),n?l.jsx(F0,{className:"w-6 h-6 text-pink-500"}):l.jsx(lc,{className:"w-6 h-6 text-gray-400"})]}),n&&l.jsx("div",{className:"p-5 pt-0",children:l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u.a})})]}),Hb=({user:u})=>{const[n,r]=H.useState(""),[i,c]=H.useState(null),f=H.useMemo(()=>{if(!n)return Y0;const h=n.toLowerCase();return Y0.map(m=>({...m,questions:m.questions.filter(g=>g.q.toLowerCase().includes(h)||g.a.toLowerCase().includes(h))})).filter(m=>m.questions.length>0)},[n]);return l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[l.jsx(tg,{className:"w-16 h-16 mx-auto text-pink-500"}),l.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-extrabold",children:"Help Center"}),l.jsxs("p",{className:"mt-4 text-lg md:text-xl text-gray-600 dark:text-gray-400",children:["Hello ",u.firstName,", how can we help you today? Find answers to common questions below."]}),l.jsxs("div",{className:"mt-8 relative",children:[l.jsx("input",{type:"text",placeholder:"Search for answers...",value:n,onChange:h=>r(h.target.value),className:"w-full p-4 pl-12 border-2 border-gray-200 dark:border-gray-700 rounded-full bg-white dark:bg-gray-800 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"}),l.jsx(eg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-gray-400"})]})]}),l.jsxs("div",{className:"mt-16 max-w-4xl mx-auto",children:[f.map(h=>l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4 pb-2 border-b-2 border-pink-500",children:h.category}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md overflow-hidden",children:h.questions.map((m,g)=>l.jsx(Bb,{item:m,isOpen:i===`${h.category}-${g}`,onToggle:()=>c(i===`${h.category}-${g}`?null:`${h.category}-${g}`)},g))})]},h.category)),f.length===0&&l.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[l.jsxs("p",{className:"text-xl font-semibold",children:['No results found for "',n,'"']}),l.jsx("p",{children:"Try searching for a different keyword."})]})]}),l.jsxs("div",{className:"mt-16 pt-12 border-t border-gray-200 dark:border-gray-700 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold",children:"Still need help?"}),l.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-400",children:"If you can't find the answer you're looking for, please reach out to our support team."})]}),l.jsxs("form",{className:"mt-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:"Your Name"}),l.jsx("input",{type:"text",defaultValue:`${u.firstName} ${u.lastName}`,className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:"Your Email"}),l.jsx("input",{type:"email",defaultValue:u.email,className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:"Your Message"}),l.jsx("textarea",{rows:6,placeholder:"Describe your issue in detail...",className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"})]}),l.jsx("div",{className:"text-right",children:l.jsx("button",{type:"submit",className:"bg-pink-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-pink-600 transition-all text-lg",children:"Submit Request"})})]})]})]})},kl=({onMouseDown:u,children:n,"aria-label":r})=>l.jsx("button",{type:"button",onMouseDown:u,"aria-label":r,className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-pink-500",children:n}),wg=({value:u,onChange:n,placeholder:r,label:i})=>{const c=H.useRef(null),f=H.useCallback(g=>{document.execCommand(g,!1),c.current&&c.current.focus()},[]),h=g=>{n(g.currentTarget.innerHTML)},m=(g,p)=>{g.preventDefault(),f(p)};return l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:i}),l.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-1 p-1 border-b border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 rounded-t-lg",children:[l.jsx(kl,{onMouseDown:g=>m(g,"bold"),"aria-label":"Bold",children:l.jsx(np,{className:"w-5 h-5"})}),l.jsx(kl,{onMouseDown:g=>m(g,"italic"),"aria-label":"Italic",children:l.jsx(lp,{className:"w-5 h-5"})}),l.jsx(kl,{onMouseDown:g=>m(g,"underline"),"aria-label":"Underline",children:l.jsx(rp,{className:"w-5 h-5"})}),l.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-500 mx-1"}),l.jsx(kl,{onMouseDown:g=>m(g,"insertUnorderedList"),"aria-label":"Unordered List",children:l.jsx(ip,{className:"w-5 h-5"})}),l.jsx(kl,{onMouseDown:g=>m(g,"insertOrderedList"),"aria-label":"Ordered List",children:l.jsx(op,{className:"w-5 h-5"})})]}),l.jsx("div",{ref:c,contentEditable:!0,onInput:h,dangerouslySetInnerHTML:{__html:u},className:"prose dark:prose-invert max-w-none w-full p-3 min-h-[150px] focus:outline-none","data-placeholder":r,style:{"--tw-prose-bullets":"var(--brand-pink)","--tw-prose-counters":"var(--brand-pink)"}})]})]})},oi=({isOpen:u,onClose:n,title:r,children:i,footer:c,size:f="lg"})=>{if(!u)return null;const h={md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl"};return l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:n,children:l.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full ${h[f]} max-h-[90vh] flex flex-col`,onClick:m=>m.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[l.jsx("h3",{className:"text-xl font-bold",children:r}),l.jsx("button",{onClick:n,className:"p-1 rounded-full text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(_n,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6 flex-grow overflow-y-auto",children:i}),c&&l.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 rounded-b-2xl",children:c})]})})},jg=(u,n=null)=>u.filter(r=>r.parentId===n).map(r=>({...r,children:jg(u,r.id)})),tc=(u,n=0,r=null)=>u.flatMap(i=>i.id===r?[]:[l.jsxs("option",{value:i.id,children:["".repeat(n*4),i.name]},i.id),...tc(i.children,n+1,r)]),$b=({isOpen:u,onClose:n,quizData:r,onSave:i,title:c})=>{const[f,h]=H.useState({questions:[],passingScore:80});H.useEffect(()=>{h(JSON.parse(JSON.stringify(r||{questions:[],passingScore:80})))},[r,u]);const m=(R,U)=>{h(I=>({...I,[R]:U}))},g=()=>{const R={id:`new-q-${Date.now()}`,questionText:"",options:["",""],correctAnswerIndex:0};m("questions",[...f.questions,R])},p=(R,U)=>{const I=[...f.questions];I[R].questionText=U,m("questions",I)},v=R=>{const U=f.questions.filter((I,ee)=>ee!==R);m("questions",U)},w=R=>{const U=[...f.questions];U[R].options.push(""),m("questions",U)},S=(R,U,I)=>{const ee=[...f.questions];ee[R].options[U]=I,m("questions",ee)},j=(R,U)=>{const I=[...f.questions];I[R].options.splice(U,1),I[R].correctAnswerIndex>=U&&(I[R].correctAnswerIndex=Math.max(0,I[R].correctAnswerIndex-1)),m("questions",I)},A=(R,U)=>{const I=[...f.questions];I[R].correctAnswerIndex=U,m("questions",I)};return u?l.jsx(oi,{isOpen:u,onClose:n,title:c,footer:l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-gray-600 px-6 py-2 rounded-lg font-semibold",children:"Cancel"}),l.jsx("button",{onClick:()=>i(f),className:"bg-pink-500 text-white px-6 py-2 rounded-lg font-semibold",children:"Save Quiz"})]}),children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Passing Score (%)"}),l.jsx("input",{type:"number",min:"0",max:"100",value:f.passingScore,onChange:R=>m("passingScore",parseInt(R.target.value,10)||0),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),l.jsx("div",{className:"space-y-4",children:f.questions.map((R,U)=>l.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg space-y-3 bg-gray-50 dark:bg-gray-800/50",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("label",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["Question ",U+1]}),l.jsx("button",{onClick:()=>v(U),className:"p-1 text-gray-400 hover:text-red-500",children:l.jsx(wn,{className:"w-5 h-5"})})]}),l.jsx("textarea",{value:R.questionText,onChange:I=>p(U,I.target.value),placeholder:"Type your question here",className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600",rows:2}),l.jsx("div",{className:"space-y-2",children:R.options.map((I,ee)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:`correct-answer-${R.id}`,checked:R.correctAnswerIndex===ee,onChange:()=>A(U,ee),className:"h-4 w-4 text-pink-600 focus:ring-pink-500 border-gray-300 dark:border-gray-500 bg-transparent"}),l.jsx("input",{type:"text",value:I,onChange:E=>S(U,ee,E.target.value),placeholder:`Option ${ee+1}`,className:"flex-grow p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"}),l.jsx("button",{onClick:()=>j(U,ee),disabled:R.options.length<=2,className:"p-1 text-gray-400 hover:text-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(_n,{className:"w-5 h-5"})})]},ee))}),l.jsxs("button",{onClick:()=>w(U),className:"text-sm text-pink-500 font-semibold flex items-center gap-1",children:[l.jsx(Ya,{className:"w-4 h-4"})," Add Option"]})]},R.id))}),l.jsxs("button",{onClick:g,className:"w-full bg-pink-100/50 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400 font-bold py-2 rounded-lg hover:bg-pink-100 dark:hover:bg-pink-900/50 flex items-center justify-center gap-2",children:[l.jsx(Ya,{className:"w-5 h-5"})," Add Question"]})]})}):null},Gb=({isOpen:u,onClose:n,lesson:r,onSave:i})=>{var I,ee;const[c,f]=H.useState(null);H.useEffect(()=>{if(r){const E=JSON.parse(JSON.stringify(r));E.type===wt.QUIZ&&!E.content.quizData&&(E.content.quizData={questions:[],passingScore:80}),f(E)}else f(null)},[r,u]);const h=(E,G)=>{if(!c)return;const B={...c,[E]:G};E==="type"&&G===wt.QUIZ&&!B.content.quizData&&(B.content.quizData={questions:[],passingScore:80}),f(B)},m=(E,G)=>{c&&f({...c,content:{...c.content,[E]:G}})},g=()=>{c&&i(c)},p=(E,G)=>{if(!(c!=null&&c.content.quizData))return;const B={...c.content.quizData,[E]:G};m("quizData",B)},v=()=>{if(!(c!=null&&c.content.quizData))return;const E={id:`new-q-${Date.now()}`,questionText:"",options:["",""],correctAnswerIndex:0},G=[...c.content.quizData.questions,E];p("questions",G)},w=(E,G)=>{if(!(c!=null&&c.content.quizData))return;const B=[...c.content.quizData.questions];B[E].questionText=G,p("questions",B)},S=E=>{if(!(c!=null&&c.content.quizData))return;const G=c.content.quizData.questions.filter((B,Z)=>Z!==E);p("questions",G)},j=E=>{if(!(c!=null&&c.content.quizData))return;const G=[...c.content.quizData.questions];G[E].options.push(""),p("questions",G)},A=(E,G,B)=>{if(!(c!=null&&c.content.quizData))return;const Z=[...c.content.quizData.questions];Z[E].options[G]=B,p("questions",Z)},R=(E,G)=>{if(!(c!=null&&c.content.quizData))return;const B=[...c.content.quizData.questions];B[E].options.splice(G,1),B[E].correctAnswerIndex>=G&&(B[E].correctAnswerIndex=Math.max(0,B[E].correctAnswerIndex-1)),p("questions",B)},U=(E,G)=>{if(!(c!=null&&c.content.quizData))return;const B=[...c.content.quizData.questions];B[E].correctAnswerIndex=G,p("questions",B)};return!u||!c?null:l.jsx(oi,{isOpen:u,onClose:n,title:c.id.startsWith("new")?"New Lesson":"Edit Lesson",footer:l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-gray-600 px-6 py-2 rounded-lg font-semibold",children:"Cancel"}),l.jsx("button",{onClick:g,className:"bg-pink-500 text-white px-6 py-2 rounded-lg font-semibold",children:"Save Lesson"})]}),children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Title"}),l.jsx("input",{type:"text",value:c.title,onChange:E=>h("title",E.target.value),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Duration (minutes)"}),l.jsx("input",{type:"number",value:c.duration,onChange:E=>h("duration",parseInt(E.target.value,10)||0),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Lesson Type"}),l.jsx("select",{value:c.type,onChange:E=>h("type",E.target.value),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 capitalize",children:Object.values(wt).map(E=>l.jsx("option",{value:E,className:"capitalize",children:E},E))})]}),c.type===wt.TEXT&&l.jsx(wg,{label:"Content",value:c.content.text||"",onChange:E=>m("text",E)}),c.type===wt.VIDEO&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Video Provider"}),l.jsx("select",{value:((I=c.content.videoData)==null?void 0:I.provider)||El.YOUTUBE,onChange:E=>m("videoData",{...c.content.videoData||{provider:El.YOUTUBE,url:""},provider:E.target.value}),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 capitalize",children:Object.values(El).map(E=>l.jsx("option",{value:E,children:E.replace("_"," ")},E))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Video URL or ID"}),l.jsx("input",{type:"text",value:((ee=c.content.videoData)==null?void 0:ee.url)||"",onChange:E=>m("videoData",{...c.content.videoData||{provider:El.YOUTUBE,url:""},url:E.target.value}),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]})]}),c.type===wt.QUIZ&&c.content.quizData&&l.jsxs("div",{className:"space-y-6 border-t border-gray-200 dark:border-gray-700 pt-6",children:[l.jsx("h4",{className:"text-lg font-bold",children:"Quiz Content"}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Passing Score (%)"}),l.jsx("input",{type:"number",min:"0",max:"100",value:c.content.quizData.passingScore,onChange:E=>p("passingScore",parseInt(E.target.value,10)||0),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),l.jsx("div",{className:"space-y-4",children:c.content.quizData.questions.map((E,G)=>l.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg space-y-3 bg-gray-50 dark:bg-gray-800/50",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("label",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["Question ",G+1]}),l.jsx("button",{onClick:()=>S(G),className:"p-1 text-gray-400 hover:text-red-500",children:l.jsx(wn,{className:"w-5 h-5"})})]}),l.jsx("textarea",{value:E.questionText,onChange:B=>w(G,B.target.value),placeholder:"Type your question here",className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600",rows:2}),l.jsx("div",{className:"space-y-2",children:E.options.map((B,Z)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:`correct-answer-${E.id}`,checked:E.correctAnswerIndex===Z,onChange:()=>U(G,Z),className:"h-4 w-4 text-pink-600 focus:ring-pink-500 border-gray-300 dark:border-gray-500 bg-transparent"}),l.jsx("input",{type:"text",value:B,onChange:le=>A(G,Z,le.target.value),placeholder:`Option ${Z+1}`,className:"flex-grow p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"}),l.jsx("button",{onClick:()=>R(G,Z),disabled:E.options.length<=2,className:"p-1 text-gray-400 hover:text-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(_n,{className:"w-5 h-5"})})]},Z))}),l.jsxs("button",{onClick:()=>j(G),className:"text-sm text-pink-500 font-semibold flex items-center gap-1",children:[l.jsx(Ya,{className:"w-4 h-4"})," Add Option"]})]},E.id))}),l.jsxs("button",{onClick:v,className:"w-full bg-pink-100/50 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400 font-bold py-2 rounded-lg hover:bg-pink-100 dark:hover:bg-pink-900/50 flex items-center justify-center gap-2",children:[l.jsx(Ya,{className:"w-5 h-5"})," Add Question"]})]})]})})},Yb=({course:u,user:n,onSave:r,onExit:i,categories:c,onAddCategory:f})=>{var F;const[h,m]=H.useState(u||{id:`new-course-${Date.now()}`,title:"",description:"",thumbnail:"https://placehold.co/600x400/e2e8f0/e2e8f0",categoryId:((F=c[0])==null?void 0:F.id)||"",instructorId:n.id,instructorName:`${n.firstName} ${n.lastName}`,modules:[],totalLessons:0,estimatedDuration:0,isPublished:!1}),[g,p]=H.useState(null),[v,w]=H.useState(null),[S,j]=H.useState(!1),[A,R]=H.useState(""),[U,I]=H.useState(null),[ee,E]=H.useState(!1),[G,B]=H.useState({});H.useEffect(()=>{u&&m(u)},[u]);const Z=H.useMemo(()=>jg(c),[c]),le=()=>{const Q={};return h.title.trim()||(Q.title="Course title is required."),h.categoryId||(Q.categoryId="Please select a category."),B(Q),Object.keys(Q).length===0},te=(Q,x)=>{G[Q]&&B(z=>{const V={...z};return delete V[Q],V}),m(z=>({...z,[Q]:x}))},Te=()=>{const Q={id:`new-module-${Date.now()}`,courseId:h.id,title:"New Module",lessons:[],order:h.modules.length};te("modules",[...h.modules,Q])},Ce=(Q,x)=>{te("modules",h.modules.map(z=>z.id===Q?{...z,...x}:z))},Se=Q=>{window.confirm("Are you sure you want to delete this module and all its lessons?")&&te("modules",h.modules.filter(x=>x.id!==Q))},J=(Q,x)=>{if(window.confirm("Are you sure you want to delete this lesson?")){const z=h.modules.map(V=>V.id===Q?{...V,lessons:V.lessons.filter(K=>K.id!==x)}:V);te("modules",z)}},ye=Q=>{const x={id:`new-lesson-${Date.now()}`,moduleId:Q,title:"New Lesson",type:wt.TEXT,content:{text:""},duration:5,order:0};p(x)},P=Q=>{let x=!1;const z=h.modules.map(V=>{if(V.id===Q.moduleId){x=!0;const W=V.lessons.some(fe=>fe.id===Q.id)?V.lessons.map(fe=>fe.id===Q.id?Q:fe):[...V.lessons,{...Q,order:V.lessons.length}];return{...V,lessons:W}}return V});x&&te("modules",z),p(null)},se=Q=>{!v||v.type!=="module"||(Ce(v.id,{quiz:Q}),w(null))},O=async()=>{if(!A.trim())return;E(!0);const Q=await f({name:A.trim(),parentId:U});Q.success&&Q.data&&(te("categoryId",Q.data.id),j(!1),R(""),I(null)),E(!1)},Y=Q=>{le()&&r({...h,isPublished:Q})};return l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold",children:u?"Edit Course":"Create New Course"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:`text-sm font-semibold px-3 py-1.5 rounded-full ${h.isPublished?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:["Status: ",h.isPublished?"Published":"Draft"]}),l.jsx("button",{onClick:i,className:"bg-gray-200 dark:bg-gray-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),h.isPublished?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Y(!1),className:"bg-yellow-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors",children:"Revert to Draft"}),l.jsx("button",{onClick:()=>Y(!0),className:"bg-pink-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-pink-600 transition-colors",children:"Save Changes"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Y(!1),className:"bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors",children:"Save Draft"}),l.jsx("button",{onClick:()=>Y(!0),className:"bg-pink-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-pink-600 transition-colors",children:"Publish"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md space-y-4 self-start sticky top-28",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Course Details"}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Title"}),l.jsx("input",{type:"text",value:h.title,onChange:Q=>te("title",Q.target.value),className:`w-full p-2 border rounded-lg dark:bg-gray-700 mt-1 ${G.title?"border-red-500":"dark:border-gray-600"}`}),G.title&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:G.title})]}),l.jsx(wg,{label:"Description",value:h.description,onChange:Q=>te("description",Q)}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Category"}),l.jsxs("select",{value:h.categoryId,onChange:Q=>te("categoryId",Q.target.value),className:`w-full p-2 border rounded-lg dark:bg-gray-700 mt-1 ${G.categoryId?"border-red-500":"dark:border-gray-600"}`,children:[l.jsx("option",{value:"",children:"Select a category"}),tc(Z)]}),G.categoryId&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:G.categoryId}),S?l.jsxs("div",{className:"mt-2 p-4 border rounded-lg dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 space-y-2",children:[l.jsx("input",{type:"text",placeholder:"New category name",value:A,onChange:Q=>R(Q.target.value),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"}),l.jsxs("select",{value:U||"",onChange:Q=>I(Q.target.value||null),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600",children:[l.jsx("option",{value:"",children:" Parent Category "}),tc(Z)]}),l.jsxs("div",{className:"flex gap-2 justify-end pt-1",children:[l.jsx("button",{type:"button",onClick:()=>j(!1),className:"text-sm px-3 py-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Cancel"}),l.jsx("button",{type:"button",onClick:O,disabled:ee||!A.trim(),className:"text-sm font-semibold bg-pink-500 text-white px-3 py-1 rounded-md disabled:bg-gray-400",children:ee?"Adding...":"Add"})]})]}):l.jsx("button",{type:"button",onClick:()=>j(!0),className:"text-sm text-pink-500 mt-2 hover:underline",children:"+ Add New Category"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Thumbnail URL"}),l.jsx("input",{type:"text",value:h.thumbnail,onChange:Q=>te("thumbnail",Q.target.value),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 mt-1"})]}),l.jsx("img",{src:h.thumbnail,alt:"Thumbnail preview",className:"w-full rounded-lg object-cover aspect-video mt-2"})]}),l.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Curriculum"}),l.jsxs("button",{onClick:Te,className:"flex items-center gap-2 text-sm font-semibold text-pink-500",children:[l.jsx(Ya,{className:"w-5 h-5"})," Add Module"]})]}),h.modules.map(Q=>l.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"text",value:Q.title,onChange:x=>Ce(Q.id,{title:x.target.value}),className:"flex-grow font-bold text-lg bg-transparent focus:outline-none focus:ring-0 border-none p-0"}),l.jsx("button",{onClick:()=>w({type:"module",id:Q.id,data:Q.quiz}),className:"p-2 text-gray-500 hover:text-pink-500",title:"Edit Module Quiz",children:l.jsx(xn,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>Se(Q.id),className:"p-2 text-gray-500 hover:text-red-500",title:"Delete Module",children:l.jsx(wn,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2",children:[Q.lessons.map(x=>l.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[l.jsx("span",{children:x.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>p(x),className:"p-1 text-gray-500 hover:text-pink-500",children:l.jsx(xn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>J(Q.id,x.id),className:"p-1 text-gray-500 hover:text-red-500",children:l.jsx(wn,{className:"w-4 h-4"})})]})]},x.id)),l.jsx("button",{onClick:()=>ye(Q.id),className:"w-full text-center text-sm py-2 text-pink-500 font-semibold hover:bg-pink-50 dark:hover:bg-pink-900/30 rounded-lg",children:"+ Add Lesson"})]})]},Q.id))]})]}),l.jsx(Gb,{isOpen:!!g,onClose:()=>p(null),lesson:g,onSave:P}),l.jsx($b,{isOpen:!!v,onClose:()=>w(null),quizData:v==null?void 0:v.data,onSave:se,title:"Module Quiz Editor"})]})},Qb=({name:u,course:n,date:r,certificateRef:i})=>l.jsx("div",{className:"w-full p-4",children:l.jsxs("div",{ref:i,className:"w-full aspect-[842/595] bg-white relative shadow-2xl overflow-hidden",children:[l.jsx("img",{src:"https://i.postimg.cc/P5hDjCLK/Nexus-Certificates-1-LE-upscale-balanced-x4.jpg",alt:"Certificate Background",className:"absolute inset-0 w-full h-full object-cover",crossOrigin:"anonymous"}),l.jsx("div",{className:"absolute w-full text-center text-[#0b2b4f] font-medium",style:{top:"calc(47.5% - 15px)",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"'Montserrat', sans-serif",fontSize:"max(12px, 2.0vw)"},children:u}),l.jsx("div",{className:"absolute w-full text-center text-[#1e3a8a] font-medium",style:{top:"56%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"'Poppins', sans-serif",fontSize:"max(12px, 2.0vw)"},children:n}),l.jsx("div",{className:"absolute text-[#0b2b4f] font-medium",style:{top:"calc(84.5% - 50px)",left:"calc(76.5% - 105px)",transform:"translate(-50%, -50%)",fontFamily:"'Montserrat', sans-serif",fontSize:"max(8px, 1.0vw)"},children:r})]})}),Vb=({user:u,courses:n,enrollments:r})=>{const i=H.useRef(null),[c,f]=H.useState(!1),h=H.useMemo(()=>r.filter(v=>{if(v.userId!==u.id)return!1;const w=n.find(j=>j.id===v.courseId);if(!w||!w.isCertificationCourse)return!1;const S=w.modules.filter(j=>j.quiz&&j.quiz.questions.length>0);return S.length===0?!1:S.every(j=>{const A=v.quizScores[`module-${j.id}`];return(A==null?void 0:A.passed)===!0})}).map(v=>n.find(w=>w.id===v.courseId)).filter(v=>v!==void 0),[u.id,n,r]),[m,g]=H.useState(h[0]||null),p=async()=>{const v=i.current;if(!v||!m){alert("Please select a certificate to download.");return}f(!0);try{const{jsPDF:w}=window.jspdf,j=(await window.html2canvas(v,{scale:3,useCORS:!0,backgroundColor:null})).toDataURL("image/png"),A=new w({orientation:"landscape",unit:"px",format:[842,595]});A.addImage(j,"PNG",0,0,842,595);const R=`${u.firstName} ${u.lastName}`;A.save(`${R.replace(/ /g,"_")}_${m.title.replace(/ /g,"_")}_certificate.pdf`)}catch(w){console.error("Error generating PDF:",w),alert("An error occurred while generating the PDF. Please try again.")}finally{f(!1)}};return H.useEffect(()=>{!m&&h.length>0&&g(h[0])},[h,m]),h.length===0?l.jsx("div",{className:"p-4 md:p-8 h-full flex items-center justify-center",children:l.jsxs("div",{className:"text-center py-16 bg-gray-100 dark:bg-gray-800 rounded-lg w-full max-w-2xl",children:[l.jsx(ai,{className:"w-16 h-16 mx-auto text-gray-400"}),l.jsx("h2",{className:"mt-4 text-2xl font-semibold",children:"No Certificates Yet"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Complete a course and pass all required quizzes to earn your certificate."})]})}):l.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[l.jsxs("div",{className:"w-full md:w-1/3 lg:w-1/4 h-full border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:l.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[l.jsx(ai,{className:"w-7 h-7 text-pink-500"})," My Certificates"]})}),l.jsx("ul",{className:"overflow-y-auto flex-grow p-2",children:h.map(v=>l.jsx("li",{children:l.jsxs("button",{onClick:()=>g(v),className:`w-full text-left p-4 rounded-lg transition-colors ${(m==null?void 0:m.id)===v.id?"bg-pink-100 dark:bg-pink-900/50":"hover:bg-gray-100 dark:hover:bg-gray-700/50"}`,children:[l.jsx("p",{className:`font-semibold ${(m==null?void 0:m.id)===v.id?"text-pink-600 dark:text-pink-400":"text-gray-800 dark:text-gray-200"}`,children:v.title}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Completed on: ",new Date().toLocaleDateString()]})]})},v.id))})]}),l.jsx("div",{className:"flex-grow flex flex-col items-center justify-center p-4 sm:p-8 bg-gray-50 dark:bg-gray-900",children:m?l.jsxs("div",{className:"w-full max-w-5xl",children:[l.jsx(Qb,{certificateRef:i,name:`${u.firstName} ${u.lastName}`,course:m.title,date:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:p,disabled:c,className:"bg-pink-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-pink-700 disabled:bg-pink-400 disabled:cursor-not-allowed transition-all duration-300 ease-in-out flex items-center justify-center space-x-2 w-full max-w-xs mx-auto",children:c?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:"Generating PDF..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(ap,{className:"w-5 h-5"}),l.jsx("span",{children:"Download Certificate"})]})})})]}):l.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:l.jsx("p",{children:"Select a completed course to view your certificate."})})})]})},Xb=({user:u,conversations:n,messages:r,allUsers:i,courses:c,enrollments:f,onSendMessage:h,onUpdateMessages:m,onNavigate:g})=>{var Z,le,te,Te,Ce,Se;const[p,v]=H.useState(null),[w,S]=H.useState(!1),[j,A]=H.useState(""),R=H.useMemo(()=>new Map(i.map(J=>[J.id,J])),[i]),U=H.useMemo(()=>n.map(J=>{const ye=J.participantIds.find(Y=>Y!==u.id),P=R.get(ye||""),se=r.filter(Y=>Y.conversationId===J.id).sort((Y,F)=>new Date(F.timestamp).getTime()-new Date(Y.timestamp).getTime())[0],O=se&&!se.isRead&&se.senderId!==u.id;return{...J,otherParticipant:P,lastMessage:se,isUnread:O}}).filter(J=>J.lastMessage&&J.otherParticipant).sort((J,ye)=>new Date(ye.lastMessage.timestamp).getTime()-new Date(J.lastMessage.timestamp).getTime()),[n,r,u.id,R]),I=H.useMemo(()=>p?r.filter(J=>J.conversationId===p).sort((J,ye)=>new Date(J.timestamp).getTime()-new Date(ye.timestamp).getTime()):[],[p,r]),ee=J=>{v(J),S(!1);const ye=r.filter(P=>P.conversationId===J&&P.senderId!==u.id&&!P.isRead).map(P=>P.id);if(ye.length>0){const P=r.map(se=>ye.includes(se.id)?{...se,isRead:!0}:se);m(P),re.from("messages").update({is_read:!0}).in("id",ye).then(({error:se})=>{se&&console.error("Failed to mark messages as read:",se)})}},E=(J,ye,P)=>{h(J,ye,P),S(!1)},G=J=>{if(J.preventDefault(),!j.trim()||!p)return;const ye=U.find(P=>P.id===p);!ye||!ye.otherParticipant||(h([ye.otherParticipant.id],"",j),A(""))},B=({onCancel:J,onSend:ye})=>{const[P,se]=H.useState([]),[O,Y]=H.useState(""),[F,Q]=H.useState(""),x=H.useMemo(()=>c.filter(W=>W.instructorId===u.id),[c,u.id]),z=H.useMemo(()=>{if(u.role===Me.STUDENT)return[];const W=x.map(ae=>ae.id),fe=new Set(f.filter(ae=>W.includes(ae.courseId)).map(ae=>ae.userId));return i.filter(ae=>fe.has(ae.id))},[u,x,f,i]),V=H.useMemo(()=>{if(u.role!==Me.STUDENT)return[];const W=f.filter(ae=>ae.userId===u.id).map(ae=>ae.courseId),fe=new Set(c.filter(ae=>W.includes(ae.id)).map(ae=>ae.instructorId));return i.filter(ae=>fe.has(ae.id))},[u,f,c,i]),K=P.length>0&&F.trim()!=="";return l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"New Message"}),u.role!==Me.STUDENT?l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold block mb-2",children:"To:"}),l.jsx("select",{multiple:!0,value:P,onChange:W=>se(Array.from(W.target.selectedOptions,fe=>fe.value)),className:"w-full p-2 border rounded-lg h-40 dark:bg-gray-700 dark:border-gray-600",children:z.map(W=>l.jsxs("option",{value:W.id,children:[W.firstName," ",W.lastName]},W.id))})]}):l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold block mb-2",children:"To:"}),l.jsxs("select",{value:P[0]||"",onChange:W=>se([W.target.value]),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600",children:[l.jsx("option",{value:"",disabled:!0,children:"Select an instructor"}),V.map(W=>l.jsxs("option",{value:W.id,children:[W.firstName," ",W.lastName," (Instructor)"]},W.id))]})]}),l.jsx("input",{type:"text",placeholder:"Subject (optional)",value:O,onChange:W=>Y(W.target.value),className:"w-full p-2 border rounded-lg mt-4 dark:bg-gray-700 dark:border-gray-600"}),l.jsx("textarea",{value:F,onChange:W=>Q(W.target.value),placeholder:"Type your message...",className:"w-full p-2 border rounded-lg mt-4 h-48 dark:bg-gray-700 dark:border-gray-600"}),l.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[l.jsx("button",{onClick:J,className:"bg-gray-200 dark:bg-gray-600 px-6 py-2 rounded-lg font-semibold",children:"Cancel"}),l.jsx("button",{onClick:()=>ye(P,O,F),disabled:!K,className:"bg-pink-500 text-white px-6 py-2 rounded-lg font-semibold disabled:bg-gray-400",children:"Send"})]})]})};return l.jsxs("div",{className:"flex h-full bg-white dark:bg-gray-800",children:[l.jsxs("div",{className:"w-full md:w-1/3 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[l.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[l.jsx(Cl,{className:"w-7 h-7 text-pink-500"})," Inbox"]}),l.jsx("button",{onClick:()=>S(!0),className:"bg-pink-500 text-white font-bold p-2 rounded-lg flex items-center justify-center gap-2 hover:bg-pink-600",title:"New Message",children:l.jsx(xn,{className:"w-5 h-5"})})]}),l.jsx("ul",{className:"overflow-y-auto",children:U.map(J=>{var ye,P;return l.jsxs("li",{onClick:()=>ee(J.id),className:`p-4 cursor-pointer border-b border-gray-200 dark:border-gray-700 flex items-start gap-4 relative ${p===J.id?"bg-gray-100 dark:bg-gray-900":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[J.isUnread&&l.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-2 h-2 bg-pink-500 rounded-full"}),l.jsx(ms,{className:"w-10 h-10 text-gray-400 flex-shrink-0"}),l.jsxs("div",{className:"flex-grow min-w-0",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("p",{className:"font-bold truncate",children:[(ye=J.otherParticipant)==null?void 0:ye.firstName," ",(P=J.otherParticipant)==null?void 0:P.lastName]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:new Date(J.lastMessage.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsx("p",{className:`truncate text-sm ${J.isUnread?"font-bold text-gray-800 dark:text-gray-200":"text-gray-500 dark:text-gray-400"}`,children:J.lastMessage.content})]})]},J.id)})})]}),l.jsx("div",{className:"hidden md:flex w-2/3 flex-col bg-gray-50 dark:bg-gray-800/50",children:w?l.jsx(B,{onCancel:()=>S(!1),onSend:E}):p?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:l.jsxs("h2",{className:"text-xl font-bold",children:[(te=R.get(((le=(Z=U.find(J=>J.id===p))==null?void 0:Z.otherParticipant)==null?void 0:le.id)||""))==null?void 0:te.firstName," ",(Se=R.get(((Ce=(Te=U.find(J=>J.id===p))==null?void 0:Te.otherParticipant)==null?void 0:Ce.id)||""))==null?void 0:Se.lastName]})}),l.jsx("div",{className:"flex-grow p-6 overflow-y-auto space-y-4",children:I.map(J=>l.jsxs("div",{className:`flex items-end gap-3 ${J.senderId===u.id?"justify-end":"justify-start"}`,children:[J.senderId!==u.id&&l.jsx(ms,{className:"w-8 h-8 text-gray-400 flex-shrink-0"}),l.jsxs("div",{className:`max-w-xl px-4 py-3 rounded-2xl ${J.senderId===u.id?"bg-pink-500 text-white rounded-br-none":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-bl-none"}`,children:[l.jsx("p",{children:J.content}),l.jsx("p",{className:`text-xs mt-1 ${J.senderId===u.id?"text-pink-100":"text-gray-500 dark:text-gray-400"} text-right`,children:new Date(J.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},J.id))}),l.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:l.jsxs("form",{onSubmit:G,className:"flex gap-4",children:[l.jsx("input",{name:"message",type:"text",placeholder:"Type a message...",value:j,onChange:J=>A(J.target.value),className:"w-full p-3 rounded-lg border dark:bg-gray-700 dark:border-gray-600"}),l.jsx("button",{type:"submit",className:"bg-pink-500 text-white p-3 rounded-lg",children:l.jsx(ep,{className:"w-6 h-6"})})]})})]}):l.jsx("div",{className:"flex-grow flex items-center justify-center text-center text-gray-500 dark:text-gray-400",children:l.jsxs("div",{children:[l.jsx(Cl,{className:"w-24 h-24 mx-auto text-gray-300 dark:text-gray-600"}),l.jsx("h2",{className:"text-2xl mt-4",children:"Select a conversation"}),l.jsx("p",{children:"Or start a new message."})]})})})]})},Kb=({events:u,user:n})=>{const[r,i]=H.useState(new Date),c=new Date(r.getFullYear(),r.getMonth(),1),f=new Date(r.getFullYear(),r.getMonth()+1,0),h=c.getDay(),m=f.getDate(),g=H.useMemo(()=>{const j=[];for(let A=0;A<h;A++)j.push(null);for(let A=1;A<=m;A++)j.push(new Date(r.getFullYear(),r.getMonth(),A));return j},[r,h,m]),p=H.useMemo(()=>{const j=new Map;return u.filter(R=>R.userId===n.id).forEach(R=>{const U=R.date;j.has(U)||j.set(U,[]),j.get(U).push(R)}),j},[u,n.id]),v=j=>{i(A=>new Date(A.getFullYear(),A.getMonth()+j,1))},w=j=>{const A=new Date;return j.getDate()===A.getDate()&&j.getMonth()===A.getMonth()&&j.getFullYear()===A.getFullYear()},S={deadline:"bg-red-500",live_session:"bg-blue-500",assignment:"bg-yellow-500"};return l.jsxs("div",{className:"p-4 md:p-8 h-full flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ti,{className:"w-10 h-10 text-pink-500"}),l.jsx("h1",{className:"text-4xl font-bold",children:"Calendar"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>v(-1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(I0,{className:"w-6 h-6"})}),l.jsx("h2",{className:"text-2xl font-semibold w-48 text-center",children:r.toLocaleString("default",{month:"long",year:"numeric"})}),l.jsx("button",{onClick:()=>v(1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(Z0,{className:"w-6 h-6"})})]})]}),l.jsxs("div",{className:"flex-grow grid grid-cols-7 grid-rows-6 gap-px bg-gray-200 dark:bg-gray-700 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>l.jsx("div",{className:"text-center font-semibold p-3 bg-white dark:bg-gray-800 text-sm",children:j},j)),g.map((j,A)=>{var R;return l.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 flex flex-col overflow-hidden",children:j&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:`font-semibold text-sm ${w(j)?"bg-pink-500 text-white rounded-full w-7 h-7 flex items-center justify-center":""}`,children:j.getDate()}),l.jsx("div",{className:"mt-1 space-y-1 overflow-y-auto flex-grow",children:(R=p.get(j.toISOString().split("T")[0]))==null?void 0:R.map(U=>l.jsxs("div",{className:"text-xs p-1 rounded-md flex items-center gap-2 bg-gray-100 dark:bg-gray-700/50",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${S[U.type]}`}),l.jsx("span",{className:"truncate",children:U.title})]},U.id))})]})},A)})]})]})},Ib=({user:u,onSaveProfile:n,onUpdatePassword:r})=>{const[i,c]=H.useState(u.firstName),[f,h]=H.useState(u.lastName),[m,g]=H.useState(u.company||""),[p,v]=H.useState(u.bio||""),[w,S]=H.useState(""),[j,A]=H.useState(""),[R,U]=H.useState(!1),[I,ee]=H.useState(!1),E=async B=>{B.preventDefault(),U(!0);try{await n({firstName:i,lastName:f,company:m,bio:p}),alert("Profile updated successfully!")}catch(Z){console.error("Failed to save profile",Z)}finally{U(!1)}},G=async B=>{if(B.preventDefault(),w&&w!==j){alert("Passwords do not match.");return}if(!w){alert("Please provide a new password.");return}ee(!0);try{await r(w),alert("Password updated successfully!"),S(""),A("")}catch(Z){console.error("Failed to update password",Z)}finally{ee(!1)}};return l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l.jsx(ms,{className:"w-10 h-10 text-pink-500"}),l.jsx("h1",{className:"text-4xl font-bold",children:"My Profile"})]}),l.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[l.jsxs("form",{onSubmit:E,className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Personal Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"First Name"}),l.jsx("input",{type:"text",value:i,onChange:B=>c(B.target.value),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Last Name"}),l.jsx("input",{type:"text",value:f,onChange:B=>h(B.target.value),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Email"}),l.jsx("input",{type:"email",value:u.email,disabled:!0,className:"w-full mt-1 p-2 border rounded-lg bg-gray-100 dark:bg-gray-900 dark:border-gray-600 cursor-not-allowed"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Company"}),l.jsx("input",{type:"text",value:m,onChange:B=>g(B.target.value),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"font-semibold",children:"Bio"}),l.jsx("textarea",{value:p,onChange:B=>v(B.target.value),rows:4,className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]})]}),l.jsx("div",{className:"text-right mt-6",children:l.jsx("button",{type:"submit",disabled:R,className:"bg-pink-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-pink-600 disabled:bg-pink-400 disabled:cursor-not-allowed transition-colors",children:R?"Saving...":"Save Profile"})})]}),l.jsxs("form",{onSubmit:G,className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Change Password"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"New Password"}),l.jsx("input",{type:"password",value:w,onChange:B=>S(B.target.value),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Confirm New Password"}),l.jsx("input",{type:"password",value:j,onChange:B=>A(B.target.value),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]})]}),l.jsx("div",{className:"text-right mt-6",children:l.jsx("button",{type:"submit",disabled:I,className:"bg-blue-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-600 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors",children:I?"Updating...":"Update Password"})})]})]})]})},Zb=({user:u,courses:n,onEditCourse:r,onSelectCourse:i,categories:c,onDeleteCourse:f,onToggleCourseVisibility:h})=>{const m=n.filter(p=>p.instructorId===u.id),g=H.useMemo(()=>new Map(c.map(p=>[p.id,p.name])),[c]);return l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Ga,{className:"w-10 h-10 text-pink-500"}),l.jsx("h1",{className:"text-4xl font-bold",children:"My Courses"})]}),l.jsxs("button",{onClick:()=>r(null),className:"bg-pink-500 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2 hover:bg-pink-600",children:[l.jsx(Ya,{className:"w-6 h-6"})," Create Course"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:m.map(p=>l.jsx($u,{course:p,user:u,onEdit:r,onSelect:i,onDelete:f,onToggleVisibility:h,categoryName:g.get(p.categoryId)||"Uncategorized"},p.id))})]})},Pb=({users:u,onRefetchData:n,onSaveUserProfile:r})=>{const[i,c]=H.useState(null),[f,h]=H.useState(null);H.useEffect(()=>{h(i?{firstName:i.firstName,lastName:i.lastName,role:i.role}:null)},[i]);const m=async()=>{!i||!f||(await r({id:i.id,...f}),c(null),n())},g=p=>{f&&h(v=>({...v,...p}))};return l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l.jsx(gs,{className:"w-10 h-10 text-pink-500"}),l.jsx("h1",{className:"text-4xl font-bold",children:"User Management"})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:l.jsxs("tr",{className:"text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[l.jsx("th",{className:"p-4",children:"Name"}),l.jsx("th",{className:"p-4",children:"Email"}),l.jsx("th",{className:"p-4",children:"Role"}),l.jsx("th",{className:"p-4",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:u.map(p=>l.jsxs("tr",{children:[l.jsxs("td",{className:"p-4",children:[p.firstName," ",p.lastName]}),l.jsx("td",{className:"p-4",children:p.email}),l.jsx("td",{className:"p-4 capitalize",children:p.role}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>c(p),className:"p-2 text-gray-500 hover:text-pink-500",children:l.jsx(xn,{className:"w-5 h-5"})})})]},p.id))})]})}),i&&f&&l.jsx(oi,{isOpen:!!i,onClose:()=>c(null),title:`Edit ${i.firstName}`,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{children:"First Name"}),l.jsx("input",{type:"text",value:f.firstName,onChange:p=>g({firstName:p.target.value}),className:"w-full mt-1 p-2 border rounded dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Last Name"}),l.jsx("input",{type:"text",value:f.lastName,onChange:p=>g({lastName:p.target.value}),className:"w-full mt-1 p-2 border rounded dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Role"}),l.jsx("select",{value:f.role,onChange:p=>g({role:p.target.value}),className:"w-full mt-1 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 capitalize",children:Object.values(Me).map(p=>l.jsx("option",{value:p,className:"capitalize",children:p},p))})]}),l.jsx("button",{onClick:m,className:"bg-pink-500 text-white px-6 py-2 rounded-lg",children:"Save"})]})})]})},Jb=()=>l.jsxs("div",{className:"p-8",children:[l.jsx("h1",{className:"text-4xl font-bold",children:"Analytics"}),l.jsx("p",{className:"mt-4",children:"Analytics dashboard with charts and key metrics will be displayed here."})]}),Wb=({user:u,courses:n,allUsers:r,enrollments:i,onNavigate:c})=>{const[f,h]=H.useState(""),m=H.useMemo(()=>u.role===Me.ADMIN?n.map(v=>v.id):n.filter(v=>v.instructorId===u.id).map(v=>v.id),[u,n]),g=H.useMemo(()=>{const v=i.filter(S=>m.includes(S.courseId)),w=new Set(v.map(S=>S.userId));return r.filter(S=>S.role===Me.STUDENT&&w.has(S.id)).map(S=>{const j=v.filter(R=>R.userId===S.id),A=j.length>0?j.reduce((R,U)=>R+U.progress,0)/j.length:0;return{...S,enrolledCount:j.length,avgProgress:Math.round(A)}})},[r,i,m]),p=H.useMemo(()=>{if(!f)return g;const v=f.toLowerCase();return g.filter(w=>w.firstName.toLowerCase().includes(v)||w.lastName.toLowerCase().includes(v)||w.email.toLowerCase().includes(v))},[f,g]);return l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l.jsx(gs,{className:"w-10 h-10 text-pink-500"}),l.jsx("h1",{className:"text-4xl font-bold",children:"Student Management"})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(eg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search students by name or email...",value:f,onChange:v=>h(v.target.value),className:"w-full max-w-lg p-3 pl-12 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:l.jsxs("tr",{className:"text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[l.jsx("th",{className:"p-4",children:"Name"}),l.jsx("th",{className:"p-4",children:"Email"}),l.jsx("th",{className:"p-4",children:"Courses Enrolled"}),l.jsx("th",{className:"p-4",children:"Average Progress"}),l.jsx("th",{className:"p-4",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:p.map(v=>l.jsxs("tr",{children:[l.jsxs("td",{className:"p-4 font-semibold",children:[v.firstName," ",v.lastName]}),l.jsx("td",{className:"p-4",children:v.email}),l.jsx("td",{className:"p-4",children:v.enrolledCount}),l.jsx("td",{className:"p-4",children:l.jsx(rc,{progress:v.avgProgress})}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>c("inbox"),className:"p-2 text-gray-500 hover:text-pink-500",children:l.jsx(Fy,{className:"w-5 h-5"})})})]},v.id))})]})})]})},Fb=({user:u,courses:n,liveSessions:r,onScheduleSession:i,onDeleteSession:c})=>{const[f,h]=H.useState(!1),[m,g]=H.useState({title:"",description:"",date:"",time:"",duration:60,audience:"all"}),p=n.filter(j=>j.instructorId===u.id),v=j=>{j.preventDefault();const A=`${m.date}T${m.time}:00`;i({...m,dateTime:A,instructorId:u.id}),h(!1),g({title:"",description:"",date:"",time:"",duration:60,audience:"all"})},w=r.filter(j=>new Date(j.dateTime)>=new Date).sort((j,A)=>new Date(j.dateTime).getTime()-new Date(A.dateTime).getTime()),S=r.filter(j=>new Date(j.dateTime)<new Date).sort((j,A)=>new Date(A.dateTime).getTime()-new Date(j.dateTime).getTime());return l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ni,{className:"w-10 h-10 text-pink-500"}),l.jsx("h1",{className:"text-4xl font-bold",children:"Live Sessions"})]}),l.jsxs("button",{onClick:()=>h(!0),className:"bg-pink-500 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2 hover:bg-pink-600",children:[l.jsx(Ya,{className:"w-6 h-6"})," Schedule Session"]})]}),l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Upcoming Sessions"}),l.jsx("div",{className:"space-y-4",children:w.length>0?w.map(j=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:j.title}),l.jsx("p",{className:"text-sm text-gray-500",children:new Date(j.dateTime).toLocaleString()})]}),l.jsx("button",{onClick:()=>c(j.id),className:"p-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-full",children:l.jsx(wn,{className:"w-5 h-5"})})]},j.id)):l.jsx("p",{className:"text-gray-500",children:"No upcoming sessions scheduled."})}),l.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4",children:"Past Sessions"}),l.jsx("div",{className:"space-y-4",children:S.length>0?S.map(j=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm opacity-70",children:[l.jsx("p",{className:"font-bold",children:j.title}),l.jsx("p",{className:"text-sm text-gray-500",children:new Date(j.dateTime).toLocaleString()})]},j.id)):l.jsx("p",{className:"text-gray-500",children:"No past sessions."})}),l.jsx(oi,{isOpen:f,onClose:()=>h(!1),title:"Schedule New Live Session",children:l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Title"}),l.jsx("input",{type:"text",value:m.title,onChange:j=>g({...m,title:j.target.value}),required:!0,className:"w-full mt-1 p-2 border rounded dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Description"}),l.jsx("textarea",{value:m.description,onChange:j=>g({...m,description:j.target.value}),className:"w-full mt-1 p-2 border rounded dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"font-semibold",children:"Date"}),l.jsx("input",{type:"date",value:m.date,onChange:j=>g({...m,date:j.target.value}),required:!0,className:"w-full mt-1 p-2 border rounded dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"font-semibold",children:"Time"}),l.jsx("input",{type:"time",value:m.time,onChange:j=>g({...m,time:j.target.value}),required:!0,className:"w-full mt-1 p-2 border rounded dark:bg-gray-700 dark:border-gray-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Duration (minutes)"}),l.jsx("input",{type:"number",value:m.duration,onChange:j=>g({...m,duration:parseInt(j.target.value)}),required:!0,className:"w-full mt-1 p-2 border rounded dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold",children:"Audience"}),l.jsxs("select",{value:m.audience,onChange:j=>g({...m,audience:j.target.value}),className:"w-full mt-1 p-2 border rounded dark:bg-gray-700 dark:border-gray-600",children:[l.jsx("option",{value:"all",children:"All Users"}),p.map(j=>l.jsx("option",{value:j.id,children:j.title},j.id))]})]}),l.jsx("div",{className:"text-right pt-4",children:l.jsx("button",{type:"submit",className:"bg-pink-500 text-white font-bold py-2 px-6 rounded-lg",children:"Schedule"})})]})})]})},ex=()=>l.jsxs("div",{className:"p-8",children:[l.jsx("h1",{className:"text-4xl font-bold",children:"Platform Settings"}),l.jsx("p",{className:"mt-4",children:"Admins can manage global platform settings like branding, integrations, etc."})]}),_g=(u,n=null)=>u.filter(r=>r.parentId===n).map(r=>({...r,children:_g(u,r.id)})),ac=(u,n=0,r=null)=>u.flatMap(i=>i.id===r?[]:[l.jsxs("option",{value:i.id,children:["".repeat(n*4),i.name]},i.id),...ac(i.children,n+1,r)]),tx=({categories:u,courses:n,onAddCategory:r,onUpdateCategory:i,onDeleteCategory:c})=>{const[f,h]=H.useState(""),[m,g]=H.useState(null),[p,v]=H.useState(!1),[w,S]=H.useState(null),[j,A]=H.useState(""),[R,U]=H.useState(null),I=H.useMemo(()=>_g(u),[u]),ee=H.useMemo(()=>{const te=new Map;return n.forEach(Te=>{te.set(Te.categoryId,(te.get(Te.categoryId)||0)+1)}),te},[n]),E=async te=>{te.preventDefault(),f.trim()&&(v(!0),await r({name:f.trim(),parentId:m}),h(""),g(null),v(!1))},G=te=>{S(te.id),A(te.name),U(te.parentId)},B=()=>{S(null)},Z=async te=>{j.trim()&&(await i({id:te,name:j.trim(),parentId:R}),S(null))},le=({node:te,level:Te})=>{const Ce=w===te.id,Se=ee.get(te.id)||0;return l.jsxs("li",{className:`border-t dark:border-gray-700 ${Ce?"bg-gray-50 dark:bg-gray-700/50":""}`,style:{paddingLeft:`${Te*1.5}rem`},children:[Ce?l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsx("input",{type:"text",value:j,onChange:J=>A(J.target.value),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"}),l.jsxs("select",{value:R||"",onChange:J=>U(J.target.value||null),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600",children:[l.jsx("option",{value:"",children:" No Parent "}),ac(I,0,te.id)]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:B,className:"text-sm font-semibold px-3 py-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Cancel"}),l.jsx("button",{onClick:()=>Z(te.id),className:"text-sm font-semibold bg-pink-500 text-white px-3 py-1 rounded-md",children:"Save"})]})]}):l.jsxs("div",{className:"flex items-center justify-between p-4 group",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:te.name}),l.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity mt-1",children:[l.jsx("button",{onClick:()=>G(te),className:"text-sm text-pink-500 hover:underline",children:"Edit"}),l.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),l.jsx("button",{onClick:()=>c(te.id),className:"text-sm text-red-500 hover:underline",children:"Delete"})]})]}),l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:Se})]}),te.children.length>0&&l.jsx("ul",{children:te.children.map(J=>l.jsx(le,{node:J,level:Te+1},J.id))})]})};return l.jsxs("div",{className:"p-4 md:p-8",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l.jsx(bn,{className:"w-10 h-10 text-pink-500"}),l.jsx("h1",{className:"text-4xl font-bold",children:"Course Categories"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("form",{onSubmit:E,className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md space-y-4 sticky top-28",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Add New Category"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"cat-name",className:"font-semibold",children:"Name"}),l.jsx("input",{id:"cat-name",type:"text",value:f,onChange:te=>h(te.target.value),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"cat-parent",className:"font-semibold",children:"Parent Category"}),l.jsxs("select",{id:"cat-parent",value:m||"",onChange:te=>g(te.target.value||null),className:"w-full mt-1 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600",children:[l.jsx("option",{value:"",children:" No Parent "}),ac(I)]})]}),l.jsx("button",{type:"submit",disabled:p,className:"w-full bg-pink-500 text-white font-bold py-3 rounded-lg hover:bg-pink-600 disabled:bg-pink-400",children:p?"Adding...":"Add New Category"})]})}),l.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-md",children:[l.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between font-semibold text-gray-600 dark:text-gray-400",children:[l.jsx("span",{children:"Name"}),l.jsx("span",{children:"Courses"})]}),l.jsx("ul",{children:I.map(te=>l.jsx(le,{node:te,level:0},te.id))})]})]})]})},Q0=u=>{switch(u.view){case"certifications":return l.jsx(Vb,{user:u.user,courses:u.courses,enrollments:u.enrollments});case"my-courses":return l.jsx(Zb,{user:u.user,courses:u.courses,onEditCourse:u.onEditCourse,onSelectCourse:u.onSelectCourse,categories:u.categories,onDeleteCourse:u.onDeleteCourse,onToggleCourseVisibility:u.onToggleCourseVisibility});case"course-categories":return l.jsx(tx,{categories:u.categories,courses:u.courses,onAddCategory:u.onAddCategory,onUpdateCategory:u.onUpdateCategory,onDeleteCategory:u.onDeleteCategory});case"course-editor":return l.jsx(Yb,{course:u.courseToEdit||null,user:u.user,onSave:u.onSave,onExit:u.onExit,categories:u.categories,onAddCategory:u.onAddCategory});case"user-management":return l.jsx(Pb,{users:u.allUsers,onRefetchData:u.onRefetchData,onSaveUserProfile:u.onSaveUserProfile});case"inbox":return l.jsx(Xb,{user:u.user,conversations:u.conversations,messages:u.messages,allUsers:u.allUsers,courses:u.courses,enrollments:u.enrollments,onSendMessage:u.onSendMessage,onUpdateMessages:u.onUpdateMessages,onNavigate:u.onNavigate});case"calendar":return l.jsx(Kb,{events:u.calendarEvents,user:u.user,courses:u.courses});case"profile":return l.jsx(Ib,{user:u.user,onSaveProfile:u.onSaveUserProfile,onUpdatePassword:u.onUpdatePassword});case"analytics":return l.jsx(Jb,{});case"student-management":return l.jsx(Wb,{user:u.user,courses:u.courses,allUsers:u.allUsers,enrollments:u.enrollments,onNavigate:u.onNavigate});case"live-sessions":return l.jsx(Fb,{user:u.user,courses:u.courses,liveSessions:u.liveSessions,onScheduleSession:u.onScheduleSession,onDeleteSession:u.onDeleteSession});case"platform-settings":return l.jsx(ex,{});case"help":return l.jsx(Hb,{user:u.user});default:return l.jsxs("div",{className:"p-8",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Coming Soon"}),l.jsx("p",{children:"This page is under construction."})]})}},ax=()=>{const[u,n]=H.useState(!1),[r,i]=H.useState(""),[c,f]=H.useState(""),[h,m]=H.useState(null),[g,p]=H.useState(null),v=async S=>{S.preventDefault(),m(null),p(null),n(!0);try{const{error:j}=await re.auth.signInWithPassword({email:r,password:c});if(j)throw j}catch(j){m(j.error_description||j.message)}finally{n(!1)}},w=async()=>{if(m(null),p(null),!r){m("Please enter your email address to reset your password.");return}n(!0);try{const{error:S}=await re.auth.resetPasswordForEmail(r,{redirectTo:window.location.origin});if(S)throw S;p("Check your email for the password reset link.")}catch(S){m(S.error_description||S.message)}finally{n(!1)}};return l.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex flex-col justify-center items-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"https://i.postimg.cc/TYYjfM7n/Nexus-logo.jpg",alt:"Nexus Logo",className:"w-40 mx-auto"}),l.jsx("h1",{className:"text-3xl font-extrabold mt-4",children:"Welcome to Nexus"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Sign in to continue your learning journey."})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-2xl rounded-2xl p-8",children:[l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Email address"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500 dark:bg-gray-700"})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Password"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:c,onChange:S=>f(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500 dark:bg-gray-700"})}),l.jsx("div",{className:"flex justify-end mt-2",children:l.jsx("button",{type:"button",onClick:w,disabled:u,className:"text-sm font-medium text-pink-600 hover:text-pink-500 focus:outline-none disabled:opacity-50",children:"Forgot Password?"})})]}),h&&l.jsx("p",{className:"text-red-500 text-sm text-center",children:h}),g&&l.jsx("p",{className:"text-green-500 text-sm text-center",children:g}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-pink-600 hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:bg-gray-400",children:u?"Signing in...":"Sign in"})})]}),l.jsxs("p",{className:"mt-6 text-center text-sm text-gray-500 dark:text-gray-400",children:["Don't have an account?"," ",l.jsx("a",{href:"#",className:"font-medium text-pink-600 hover:text-pink-500",children:"Contact administrator"})]})]})]})})},Sg={status:"LOADING",user:null,viewAsRole:null,error:null},sx=(u,n)=>{switch(n.type){case"SET_AUTHENTICATED":return{...u,status:"AUTHENTICATED",user:n.payload.user,viewAsRole:n.payload.user.role,error:null};case"SET_UNAUTHENTICATED":return{...u,status:"UNAUTHENTICATED",user:null,viewAsRole:null,error:null};case"SET_ERROR":return{...u,status:"ERROR",user:null,viewAsRole:null,error:n.payload.error};case"LOGOUT":return{...Sg,status:"UNAUTHENTICATED"};case"CHANGE_VIEW_ROLE":return u.status!=="AUTHENTICATED"?u:{...u,viewAsRole:n.payload.role};default:return u}},V0=({isOpen:u,onClose:n,title:r,children:i,footer:c})=>u?l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:n,children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:f=>f.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[l.jsx("h3",{className:"text-xl font-bold",children:r}),l.jsx("button",{onClick:n,className:"p-1 rounded-full text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(_n,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6 flex-grow overflow-y-auto",children:i}),c&&l.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 rounded-b-2xl",children:c})]})}):null,nx=()=>{const[u,n]=H.useReducer(sx,Sg),[r,i]=H.useState([]),[c,f]=H.useState([]),[h,m]=H.useState([]),[g,p]=H.useState([]),[v,w]=H.useState([]),[S,j]=H.useState([]),[A,R]=H.useState([]),[U,I]=H.useState([]),[ee,E]=H.useState("dashboard"),[G,B]=H.useState(null),[Z,le]=H.useState(null),[te,Te]=H.useState(!1),[Ce,Se]=H.useState(null),[J,ye]=H.useState(!1),[P,se]=H.useState(null),[O,Y]=H.useState(!1);H.useEffect(()=>{let X=!0;const ce=async Be=>{try{const Ne=await B0(Be.id);if(!Ne)throw new Error("Your user profile could not be found. Please contact support.");const He=await H0(Ne);if(!He)throw new Error("Failed to load critical application data.");X&&(f(He.courses),m(He.enrollments),i(He.allUsers),p(He.categories),w(He.conversations),j(He.messages),R(He.calendarEvents),I(He.liveSessions),n({type:"SET_AUTHENTICATED",payload:{user:Ne}}))}catch(Ne){console.error("Error during app initialization:",Ne),await re.auth.signOut().catch(()=>{}),X&&n({type:"SET_ERROR",payload:{error:Ne.message||"An unknown error occurred during startup."}})}};(async()=>{const{data:{session:Be}}=await re.auth.getSession();Be&&X?await ce(Be.user):X&&n({type:"SET_UNAUTHENTICATED"})})();const{data:{subscription:Pe}}=re.auth.onAuthStateChange((Be,Ne)=>{X&&(Be==="SIGNED_IN"&&Ne?ce(Ne.user):Be==="SIGNED_OUT"&&n({type:"LOGOUT"}))});return()=>{X=!1,Pe==null||Pe.unsubscribe()}},[]);const F=H.useCallback(async()=>{await re.auth.signOut(),n({type:"LOGOUT"})},[]),Q=H.useRef(null),x=H.useCallback(()=>{Q.current&&clearTimeout(Q.current),Q.current=window.setTimeout(()=>{console.log("User inactive for 10 minutes. Logging out."),F()},600*1e3)},[F]);H.useEffect(()=>{if(u.status==="AUTHENTICATED"){const X=["mousemove","mousedown","keypress","scroll","touchstart","keydown"];return x(),X.forEach(ce=>{window.addEventListener(ce,x,{passive:!0})}),()=>{Q.current&&clearTimeout(Q.current),X.forEach(ce=>{window.removeEventListener(ce,x)})}}},[u.status,x]);const z=X=>{n({type:"CHANGE_VIEW_ROLE",payload:{role:X}}),E("dashboard")},V=H.useCallback(async()=>{if(u.user){const X=await H0(u.user);X&&(f(X.courses),m(X.enrollments),i(X.allUsers),p(X.categories),w(X.conversations),j(X.messages),R(X.calendarEvents),I(X.liveSessions));const ce=await B0(u.user.id);ce&&n({type:"SET_AUTHENTICATED",payload:{user:ce}})}},[u.user]),K=()=>Te(!1),W=X=>{if(X===ee&&X==="dashboard"){K();return}E(X),B(null),le(null),Se(null),K()},fe=X=>{Se(X),E("dashboard"),K()},ae=X=>{B(X),E("player"),K()},ut=X=>{var ce;if(u.user){const Ae={id:`new-course-${Date.now()}`,title:"",description:"",thumbnail:"https://placehold.co/600x400/e2e8f0/e2e8f0",categoryId:((ce=g[0])==null?void 0:ce.id)||"",instructorId:u.user.id,instructorName:`${u.user.firstName} ${u.user.lastName}`,modules:[],totalLessons:0,estimatedDuration:0,hasQuizzes:!1,isCertificationCourse:X,isHidden:!0,isPublished:!1};le(Ae),E("course-editor"),ye(!1)}},Ue=X=>{K(),X?(le(X),E("course-editor")):ye(!0)},Bt=()=>{le(null),E("my-courses")},Nn=async X=>{if(X.categoryId&&!g.some(Ae=>Ae.id===X.categoryId)){alert("The selected category no longer exists. Please choose a different category before saving."),le({...X,categoryId:""});return}(await Nb(X)).success?(await V(),Bt()):alert("Error saving course. Please check the console for details.")},ps=X=>{se(X),Y(!0)},Va=()=>{se(null),Y(!1)},kn=async()=>{var ce;if(!P)return;const X=await kb(P.id);X.success?(await V(),Va()):alert(`Error deleting course: ${(ce=X.error)==null?void 0:ce.message}`)},En=async X=>{var Ae;const ce=await Eb(X.id,!X.isHidden);ce.success?f(Pe=>Pe.map(Be=>Be.id===X.id?{...Be,isHidden:!Be.isHidden}:Be)):(alert(`Error updating course visibility: ${(Ae=ce.error)==null?void 0:Ae.message}`),V())},ui=async X=>{if(!u.user)return;const{id:ce,...Ae}=X,Pe=ce||u.user.id;if(Object.keys(Ae).length>0){const{success:Be,error:Ne}=await jb(Pe,Ae);if(!Be){const He=Ne!=null&&Ne.message.includes("user_role")?"Failed to update profile due to a database configuration issue with user roles. Please contact an administrator.":`Failed to update profile. Error: ${Ne==null?void 0:Ne.message}`;throw alert(He),new Error(He)}}await V()},ci=async X=>{if(!u.user)return;const{error:ce}=await re.auth.updateUser({password:X});if(ce)throw console.error("Error updating password:",ce),alert(`Error updating password: ${ce.message}`),ce},Ct=()=>{B(null),E("dashboard")},di=async X=>{m(ce=>ce.map(Ae=>Ae.courseId===X.courseId&&Ae.userId===X.userId?X:Ae)),await $0(X)},zl=async X=>{await Sb(X)},ql=async(X,ce,Ae)=>{if(u.user)for(const Pe of X){let Be=v.find(Ne=>Ne.participantIds.includes(u.user.id)&&Ne.participantIds.includes(Pe));if(!Be){const{data:Ne}=await re.from("conversations").insert({participant_ids:[u.user.id,Pe]}).select().single();Ne&&(Be=$e(Ne),w(He=>[...He,Be]))}if(Be){const Ne={conversationId:Be.id,senderId:u.user.id,subject:ce,content:Ae,timestamp:new Date().toISOString()},He=await Tb(Ne);He&&j(bs=>[...bs,He])}}},vs=X=>{j(X)},fi=async X=>{await Cb(X),V()},Ll=async X=>{await Ab(X),V()},hi=async X=>{var Ae;const ce=await Ob(X);return ce.success?(p(Pe=>[...Pe,ce.data]),V()):alert(`Error adding category: ${(Ae=ce.error)==null?void 0:Ae.message}`),ce},gi=async X=>{var Ae;const ce=await Db(X);ce.success?await V():alert(`Error updating category: ${(Ae=ce.error)==null?void 0:Ae.message}`)},Xa=async X=>{try{const ce=await Rb(X);ce.success?await V():ce.error&&alert(`Error deleting category: ${ce.error.message}`)}catch(ce){alert(`Error: ${ce.message}`)}},ht=X=>{if(!u.user)throw new Error("User not logged in");const ce=h.find(Pe=>Pe.courseId===X&&Pe.userId===u.user.id);if(ce)return ce;const Ae={userId:u.user.id,courseId:X,progress:0,completedLessonIds:[],quizScores:{}};return m(Pe=>[...Pe,Ae]),$0(Ae),Ae},Vt=()=>{if(!u.user||!u.viewAsRole)return null;const X={user:u.user,courses:c,enrollments:h,allUsers:r,conversations:v,messages:S,calendarEvents:A,liveSessions:U,categories:g,selectedCategoryId:Ce,onRefetchData:V,onSendMessage:ql,onUpdateMessages:vs,onScheduleSession:fi,onDeleteSession:Ll,onEditCourse:Ue,onSelectCourse:ae,onSaveUserProfile:ui,onUpdatePassword:ci,onSave:Nn,onExit:Bt,courseToEdit:Z,onAddCategory:hi,onUpdateCategory:gi,onDeleteCategory:Xa,onDeleteCourse:ps,onToggleCourseVisibility:En,onNavigate:W};return ee==="course-editor"?l.jsx(Q0,{view:"course-editor",...X}):ee==="player"&&G?l.jsx(Lb,{user:u.user,course:G,enrollment:ht(G.id),onExit:Ct,onEnrollmentUpdate:di,onSaveQuizAttempt:zl}):ee==="dashboard"?l.jsx(mp,{user:u.user,viewAsRole:u.viewAsRole,courses:c,enrollments:h,allUsers:r,onSelectCourse:ae,onNavigate:W,onEditCourse:Ue,categories:g,selectedCategoryId:Ce}):ee!=="player"?l.jsx(Q0,{view:ee,...X}):null};switch(u.status){case"LOADING":return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200",children:l.jsx("div",{className:"bg-purple-600 text-white font-semibold px-6 py-3 rounded-lg",children:"Loading Nexus..."})});case"UNAUTHENTICATED":return l.jsx(ax,{});case"ERROR":return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900 p-4 text-center",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"An Error Occurred"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:u.error}),l.jsx("button",{onClick:F,className:"bg-pink-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-pink-600",children:"Sign Out & Try Again"})]})});case"AUTHENTICATED":return!u.user||!u.viewAsRole?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200",children:l.jsx("div",{className:"bg-purple-600 text-white font-semibold px-6 py-3 rounded-lg",children:"Loading Nexus..."})}):l.jsxs("div",{className:"min-h-screen flex",children:[l.jsxs(V0,{isOpen:J,onClose:()=>ye(!1),title:"Create New Course",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Will this course offer a certificate upon completion?"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Certification is based on passing all module quizzes within the course."})]}),l.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[l.jsx("button",{onClick:()=>ut(!1),className:"bg-gray-200 dark:bg-gray-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"No"}),l.jsx("button",{onClick:()=>ut(!0),className:"bg-pink-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-pink-600 transition-colors",children:"Yes"})]})]}),l.jsxs(V0,{isOpen:O,onClose:Va,title:"Confirm Deletion",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:['Are you sure you want to delete the course "',l.jsx("strong",{children:P==null?void 0:P.title}),'"? This action is irreversible and will delete all associated modules, lessons, and enrollment data.']})}),l.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[l.jsx("button",{onClick:Va,className:"bg-gray-200 dark:bg-gray-600 px-6 py-2 rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:kn,className:"bg-red-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Delete Course"})]})]}),l.jsx(dp,{userRole:u.user.role,viewAsRole:u.viewAsRole,onNavigate:W,currentView:ee,isMobileMenuOpen:te,closeMenu:K,onLogout:F,categories:g,onSelectCategory:fe,selectedCategoryId:Ce}),te&&l.jsx("div",{onClick:K,className:"fixed inset-0 bg-black/60 z-40 md:hidden","aria-hidden":"true"}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx(cp,{user:u.user,viewAsRole:u.viewAsRole,onSetViewAsRole:z,onLogout:F,onNavigate:W}),l.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900 h-[calc(100vh-96px)]",children:Vt()})]})]})}},Ng=document.getElementById("root");if(!Ng)throw new Error("Could not find root element to mount to");const lx=Py.createRoot(Ng);lx.render(l.jsx(X0.StrictMode,{children:l.jsx(nx,{})}));
